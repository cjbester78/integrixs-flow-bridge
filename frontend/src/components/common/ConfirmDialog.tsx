import {
 AlertDialog,
 AlertDialogAction,
 AlertDialogCancel,
 AlertDialogContent,
 AlertDialogDescription,
 AlertDialogFooter,
 AlertDialogHeader,
 AlertDialogTitle,
} from '@/components/ui/alert-dialog';
import { ReactNode } from 'react';

interface ConfirmDialogProps {
 open: boolean;
 onOpenChange: (open: boolean) => void;
 onConfirm: () => void;
 title: string;
 description: string;
 confirmLabel?: string;
 cancelLabel?: string;
 variant?: 'default' | 'destructive';
 isLoading?: boolean;
 children?: ReactNode;
}

export const ConfirmDialog = ({
 open,
 onOpenChange,
 onConfirm,
 title,
 description,
 confirmLabel = 'Confirm',
 cancelLabel = 'Cancel',
 variant = 'default',
 isLoading = false,
 children
}: ConfirmDialogProps) => {
 const handleConfirm = () => {
 onConfirm();
 if (!isLoading) {
 onOpenChange(false);
 }
 };

 return (
 <AlertDialog open={open} onOpenChange={onOpenChange}>
 {children}
 <AlertDialogContent>
 <AlertDialogHeader>
 <AlertDialogTitle>{title}</AlertDialogTitle>
 <AlertDialogDescription>
 {description}
 </AlertDialogDescription>
 </AlertDialogHeader>
 <AlertDialogFooter>
 <AlertDialogCancel disabled={isLoading}>
 {cancelLabel}
 </AlertDialogCancel>
 <AlertDialogAction
 onClick={handleConfirm}
 disabled={isLoading}
 className={variant === 'destructive' ? 'bg-destructive hover:bg-destructive/90' : ''}
 >
 {confirmLabel}
 </AlertDialogAction>
 </AlertDialogFooter>
 </AlertDialogContent>
 </AlertDialog>
 );
};