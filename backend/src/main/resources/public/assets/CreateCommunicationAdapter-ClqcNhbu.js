import{a7 as Mr,a8 as Dr,a9 as Fr,aa as Ds,ab as Rr,ac as Lr,ad as Or,ae as Br,af as Ur,ag as Wr,ah as Vr,j as e}from"./ui-vendor-B4gDKxp2.js";import{r as g,c as qr,a as qa,b as _r,u as Hr,d as $r}from"./react-vendor-pDgKdaAw.js";import{w as Ve,c as as,v as Ae,x as Gr,g as c,S as B,h as U,i as W,B as ze,j as V,k as S,o as G,p as z,q as J,U as ea,s as X,r as Y,I as y,A as fe,y as qs,d as Ce,e as es,z as Le,t as ts,l as le,L as ne,D as Yr,E as Vt,b as Cs,a as xt,F as tt,G as is,M as fs,H as Kr,J as _a,m as zr,C as kt,T as qt,K as Jr,n as Xr,N as Qr}from"./index-DseL_RUD.js";import{T as oe}from"./textarea-CpMMCY-d.js";import{_ as Ge}from"./chart-vendor-A7Ge_5Hb.js";import{D as Zr,a as el,b as sl,c as tl,d as al}from"./dialog-C8_RbV56.js";import{S as rl}from"./search-BXluZ4Nr.js";import{P as ll,a as nl,b as il,F as ma,C as Pe,c as Be,d as cl,j as dl}from"./jarFileService-BwE37xoI.js";import{u as bt}from"./useBusinessComponentAdapters-C8YyDnRO.js";import{T as Tt,H as ol,F as ul}from"./FieldMappingScreen-BYXb2bhk.js";import{T as ke,a as Te,b as K,c as $}from"./tabs-C7kSaJO6.js";import{S as Z}from"./switch-BYONlHIm.js";import{T as hl,a as ml,b as xa,c as nt,d as xl,e as it}from"./table-2esKEn88.js";import{P as pl}from"./plus-BSv1nIAt.js";import{T as jl}from"./trash-2-DvXNCKbG.js";import{u as sa,e as Ha}from"./useDataStructures-z7rYwHdH.js";import{F as vl}from"./file-json-BQ29TB7B.js";import{C as gl}from"./code-xml-CZAOyz0r.js";import{u as bl}from"./useQuery-BjZrm5F3.js";import{C as _s}from"./circle-check-CynnB-9z.js";import{S as $a}from"./server-ztuRofsu.js";import{C as pt,a as yl,M as Hs,S as fl,b as ct,H as Cl,c as Sl,T as pa,L as ja,Y as va}from"./youtube-CsYSww8G.js";import{W as Ga}from"./webhook-Db9AKgEK.js";import{T as Nl}from"./trending-up-eJ29irQ-.js";import{F as ta}from"./file-text-Dr8Aa4DA.js";import{D as Al}from"./download-CW1087ur.js";import{C as kl}from"./calendar-BMEwOPT2.js";import{L as Ya}from"./layers-CdVjnHt8.js";import{Z as ga}from"./zap-DO1pOz0O.js";import{P as Tl}from"./phone-DW_CFx4E.js";import{D as Ka}from"./database-BVjBpfEA.js";import{Box as q,Paper as me,Tabs as Ye,Tab as _,Alert as ae,Link as We,FormControl as re,FormLabel as Pl,RadioGroup as Il,FormControlLabel as h,Radio as ba,TextField as f,Grid as t,Button as Ne,Typography as b,FormGroup as xe,Switch as m,FormHelperText as L,Divider as te,Accordion as Ee,AccordionSummary as we,AccordionDetails as Me,Slider as Fe,Checkbox as Rs,InputLabel as ie,Select as ce,Chip as ye,MenuItem as F,InputAdornment as Xs,OutlinedInput as ya,List as $e,ListItem as be,ListItemText as Ie,ListItemSecondaryAction as Ls,IconButton as Ze,Dialog as $s,DialogTitle as Gs,DialogContent as Ys,DialogActions as Ks,Autocomplete as He,ListItemIcon as Os}from"@mui/material";import{Security as cs,Functions as aa,Speed as Ss,Timeline as El,Settings as Qs,Info as ss,ExpandMore as De,Campaign as ra,AttachMoney as yt,People as Us,Analytics as ds,Business as za,Article as wl,CreditCard as Ml,TrendingUp as Ja,BarChart as Dl,VideoLibrary as Zs,ViewStream as Fl,LiveTv as Rl,Groups as la,MonetizationOn as Ll,DeviceHub as Ol,Language as Bl,Code as na,ShoppingCart as Ul,Comment as Wl,MusicNote as Vl,Tag as ql,Group as _l,VideoCall as Hl,CameraAlt as $l,ViewInAr as fa,FilterVintage as Gl,Palette as Yl,Forum as Kl,VolumeUp as Ca,Webhook as mt,Badge as zl,EmojiEmotions as Jl,Event as Xl,RecordVoiceOver as Ql,Notifications as _t,Delete as Zl,SmartToy as jt,Schedule as Xa,Check as Qa,Message as Ht,Warning as en,AttachFile as sn,Payment as tn,HelpOutline as vt,Extension as Sa,Folder as an,Cloud as rn,WebAsset as Na,ContentCopy as ln,OpenInNew as dt}from"@mui/icons-material";import zs from"@mui/icons-material/Delete";import Js from"@mui/icons-material/Add";import Pt from"@mui/icons-material/Edit";import Za from"@mui/icons-material/Info";import{a as nn,T as It,b as Aa}from"./index-D9omWO5l.js";import{P as cn}from"./progress-GuhXPMA5.js";import{L as er}from"./lock-CFBJQN84.js";import{N as dn}from"./network-DwgVUhp_.js";import{G as on}from"./globe-CHqjmKYB.js";import{F as un}from"./file-code-Z4QaeDf1.js";import{M as hn}from"./mail-ClrM73lv.js";import{S as sr}from"./send-64ueMrI-.js";import{S as mn}from"./save-B_a1ZW5d.js";import{K as xn}from"./key-CmBpCcDY.js";import"./businessComponentService-p4rxceWm.js";import"./structureService-Dc5v0Sew.js";import"./editor-vendor-CjSHClq6.js";import"./scroll-area-Bq8hSKSu.js";import"./upload-DCFlz6R9.js";import"./copy-BeiJ6Zv7.js";import"./play-DhZluFya.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ve("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Ve("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Ve("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ve("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ve("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Ve("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ve("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Ve("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Ve("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var Pa=1,fn=.9,Cn=.8,Sn=.17,Et=.1,wt=.999,Nn=.9999,An=.99,kn=/[\\\/_+.#"@\[\(\{&]/,Tn=/[\\\/_+.#"@\[\(\{&]/g,Pn=/[\s-]/,rr=/[\s-]/g;function Yt(s,r,l,j,d,N,C){if(N===r.length)return d===s.length?Pa:An;var u=`${d},${N}`;if(C[u]!==void 0)return C[u];for(var o=j.charAt(N),i=l.indexOf(o,d),p=0,a,x,T,A;i>=0;)a=Yt(s,r,l,j,i+1,N+1,C),a>p&&(i===d?a*=Pa:kn.test(s.charAt(i-1))?(a*=Cn,T=s.slice(d,i-1).match(Tn),T&&d>0&&(a*=Math.pow(wt,T.length))):Pn.test(s.charAt(i-1))?(a*=fn,A=s.slice(d,i-1).match(rr),A&&d>0&&(a*=Math.pow(wt,A.length))):(a*=Sn,d>0&&(a*=Math.pow(wt,i-d))),s.charAt(i)!==r.charAt(N)&&(a*=Nn)),(a<Et&&l.charAt(i-1)===j.charAt(N+1)||j.charAt(N+1)===j.charAt(N)&&l.charAt(i-1)!==j.charAt(N))&&(x=Yt(s,r,l,j,i+1,N+2,C),x*Et>a&&(a=x*Et)),a>p&&(p=a),i=l.indexOf(o,i+1);return C[u]=p,p}function Ia(s){return s.toLowerCase().replace(rr," ")}function In(s,r,l){return s=l&&l.length>0?`${s+" "+l.join(" ")}`:s,Yt(s,r,Ia(s),Ia(r),0,0,{})}function Bs(s,r,{checkForDefaultPrevented:l=!0}={}){return function(d){if(s?.(d),l===!1||!d.defaultPrevented)return r?.(d)}}function En(s,r){typeof s=="function"?s(r):s!=null&&(s.current=r)}function lr(...s){return r=>s.forEach(l=>En(l,r))}function at(...s){return g.useCallback(lr(...s),s)}function wn(s,r=[]){let l=[];function j(N,C){const u=g.createContext(C),o=l.length;l=[...l,C];function i(a){const{scope:x,children:T,...A}=a,n=x?.[s][o]||u,I=g.useMemo(()=>A,Object.values(A));return g.createElement(n.Provider,{value:I},T)}function p(a,x){const T=x?.[s][o]||u,A=g.useContext(T);if(A)return A;if(C!==void 0)return C;throw new Error(`\`${a}\` must be used within \`${N}\``)}return i.displayName=N+"Provider",[i,p]}const d=()=>{const N=l.map(C=>g.createContext(C));return function(u){const o=u?.[s]||N;return g.useMemo(()=>({[`__scope${s}`]:{...u,[s]:o}}),[u,o])}};return d.scopeName=s,[j,Mn(d,...r)]}function Mn(...s){const r=s[0];if(s.length===1)return r;const l=()=>{const j=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(N){const C=j.reduce((u,{useScope:o,scopeName:i})=>{const a=o(N)[`__scope${i}`];return{...u,...a}},{});return g.useMemo(()=>({[`__scope${r.scopeName}`]:C}),[C])}};return l.scopeName=r.scopeName,l}const Kt=globalThis?.document?g.useLayoutEffect:()=>{},Dn=qr.useId||(()=>{});let Fn=0;function Mt(s){const[r,l]=g.useState(Dn());return Kt(()=>{s||l(j=>j??String(Fn++))},[s]),s||(r?`radix-${r}`:"")}function Ns(s){const r=g.useRef(s);return g.useEffect(()=>{r.current=s}),g.useMemo(()=>(...l)=>{var j;return(j=r.current)===null||j===void 0?void 0:j.call(r,...l)},[])}function Rn({prop:s,defaultProp:r,onChange:l=()=>{}}){const[j,d]=Ln({defaultProp:r,onChange:l}),N=s!==void 0,C=N?s:j,u=Ns(l),o=g.useCallback(i=>{if(N){const a=typeof i=="function"?i(s):i;a!==s&&u(a)}else d(i)},[N,s,d,u]);return[C,o]}function Ln({defaultProp:s,onChange:r}){const l=g.useState(s),[j]=l,d=g.useRef(j),N=Ns(r);return g.useEffect(()=>{d.current!==j&&(N(j),d.current=j)},[j,d,N]),l}const ia=g.forwardRef((s,r)=>{const{children:l,...j}=s,d=g.Children.toArray(l),N=d.find(Bn);if(N){const C=N.props.children,u=d.map(o=>o===N?g.Children.count(C)>1?g.Children.only(null):g.isValidElement(C)?C.props.children:null:o);return g.createElement(zt,Ge({},j,{ref:r}),g.isValidElement(C)?g.cloneElement(C,void 0,u):null)}return g.createElement(zt,Ge({},j,{ref:r}),l)});ia.displayName="Slot";const zt=g.forwardRef((s,r)=>{const{children:l,...j}=s;return g.isValidElement(l)?g.cloneElement(l,{...Un(j,l.props),ref:r?lr(r,l.ref):l.ref}):g.Children.count(l)>1?g.Children.only(null):null});zt.displayName="SlotClone";const On=({children:s})=>g.createElement(g.Fragment,null,s);function Bn(s){return g.isValidElement(s)&&s.type===On}function Un(s,r){const l={...r};for(const j in r){const d=s[j],N=r[j];/^on[A-Z]/.test(j)?d&&N?l[j]=(...u)=>{N(...u),d(...u)}:d&&(l[j]=d):j==="style"?l[j]={...d,...N}:j==="className"&&(l[j]=[d,N].filter(Boolean).join(" "))}return{...s,...l}}const Wn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=Wn.reduce((s,r)=>{const l=g.forwardRef((j,d)=>{const{asChild:N,...C}=j,u=N?ia:r;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(u,Ge({},C,{ref:d}))});return l.displayName=`Primitive.${r}`,{...s,[r]:l}},{});function Vn(s,r){s&&qa.flushSync(()=>s.dispatchEvent(r))}function qn(s,r=globalThis?.document){const l=Ns(s);g.useEffect(()=>{const j=d=>{d.key==="Escape"&&l(d)};return r.addEventListener("keydown",j),()=>r.removeEventListener("keydown",j)},[l,r])}const Jt="dismissableLayer.update",_n="dismissableLayer.pointerDownOutside",Hn="dismissableLayer.focusOutside";let Ea;const $n=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gn=g.forwardRef((s,r)=>{var l;const{disableOutsidePointerEvents:j=!1,onEscapeKeyDown:d,onPointerDownOutside:N,onFocusOutside:C,onInteractOutside:u,onDismiss:o,...i}=s,p=g.useContext($n),[a,x]=g.useState(null),T=(l=a?.ownerDocument)!==null&&l!==void 0?l:globalThis?.document,[,A]=g.useState({}),n=at(r,M=>x(M)),I=Array.from(p.layers),[v]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=I.indexOf(v),E=a?I.indexOf(a):-1,D=p.layersWithOutsidePointerEventsDisabled.size>0,Q=E>=k,R=Yn(M=>{const pe=M.target,ve=[...p.branches].some(he=>he.contains(pe));!Q||ve||(N?.(M),u?.(M),M.defaultPrevented||o?.())},T),se=Kn(M=>{const pe=M.target;[...p.branches].some(he=>he.contains(pe))||(C?.(M),u?.(M),M.defaultPrevented||o?.())},T);return qn(M=>{E===p.layers.size-1&&(d?.(M),!M.defaultPrevented&&o&&(M.preventDefault(),o()))},T),g.useEffect(()=>{if(a)return j&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Ea=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(a)),p.layers.add(a),wa(),()=>{j&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=Ea)}},[a,T,j,p]),g.useEffect(()=>()=>{a&&(p.layers.delete(a),p.layersWithOutsidePointerEventsDisabled.delete(a),wa())},[a,p]),g.useEffect(()=>{const M=()=>A({});return document.addEventListener(Jt,M),()=>document.removeEventListener(Jt,M)},[]),g.createElement(Je.div,Ge({},i,{ref:n,style:{pointerEvents:D?Q?"auto":"none":void 0,...s.style},onFocusCapture:Bs(s.onFocusCapture,se.onFocusCapture),onBlurCapture:Bs(s.onBlurCapture,se.onBlurCapture),onPointerDownCapture:Bs(s.onPointerDownCapture,R.onPointerDownCapture)}))});function Yn(s,r=globalThis?.document){const l=Ns(s),j=g.useRef(!1),d=g.useRef(()=>{});return g.useEffect(()=>{const N=u=>{if(u.target&&!j.current){let o=function(){nr(_n,l,i,{discrete:!0})};const i={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",d.current),d.current=o,r.addEventListener("click",d.current,{once:!0})):o()}else r.removeEventListener("click",d.current);j.current=!1},C=window.setTimeout(()=>{r.addEventListener("pointerdown",N)},0);return()=>{window.clearTimeout(C),r.removeEventListener("pointerdown",N),r.removeEventListener("click",d.current)}},[r,l]),{onPointerDownCapture:()=>j.current=!0}}function Kn(s,r=globalThis?.document){const l=Ns(s),j=g.useRef(!1);return g.useEffect(()=>{const d=N=>{N.target&&!j.current&&nr(Hn,l,{originalEvent:N},{discrete:!1})};return r.addEventListener("focusin",d),()=>r.removeEventListener("focusin",d)},[r,l]),{onFocusCapture:()=>j.current=!0,onBlurCapture:()=>j.current=!1}}function wa(){const s=new CustomEvent(Jt);document.dispatchEvent(s)}function nr(s,r,l,{discrete:j}){const d=l.originalEvent.target,N=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:l});r&&d.addEventListener(s,r,{once:!0}),j?Vn(d,N):d.dispatchEvent(N)}const Dt="focusScope.autoFocusOnMount",Ft="focusScope.autoFocusOnUnmount",Ma={bubbles:!1,cancelable:!0},zn=g.forwardRef((s,r)=>{const{loop:l=!1,trapped:j=!1,onMountAutoFocus:d,onUnmountAutoFocus:N,...C}=s,[u,o]=g.useState(null),i=Ns(d),p=Ns(N),a=g.useRef(null),x=at(r,n=>o(n)),T=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(j){let n=function(E){if(T.paused||!u)return;const D=E.target;u.contains(D)?a.current=D:ns(a.current,{select:!0})},I=function(E){if(T.paused||!u)return;const D=E.relatedTarget;D!==null&&(u.contains(D)||ns(a.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const Q of E)Q.removedNodes.length>0&&ns(u)};document.addEventListener("focusin",n),document.addEventListener("focusout",I);const k=new MutationObserver(v);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",n),document.removeEventListener("focusout",I),k.disconnect()}}},[j,u,T.paused]),g.useEffect(()=>{if(u){Fa.add(T);const n=document.activeElement;if(!u.contains(n)){const v=new CustomEvent(Dt,Ma);u.addEventListener(Dt,i),u.dispatchEvent(v),v.defaultPrevented||(Jn(si(ir(u)),{select:!0}),document.activeElement===n&&ns(u))}return()=>{u.removeEventListener(Dt,i),setTimeout(()=>{const v=new CustomEvent(Ft,Ma);u.addEventListener(Ft,p),u.dispatchEvent(v),v.defaultPrevented||ns(n??document.body,{select:!0}),u.removeEventListener(Ft,p),Fa.remove(T)},0)}}},[u,i,p,T]);const A=g.useCallback(n=>{if(!l&&!j||T.paused)return;const I=n.key==="Tab"&&!n.altKey&&!n.ctrlKey&&!n.metaKey,v=document.activeElement;if(I&&v){const k=n.currentTarget,[E,D]=Xn(k);E&&D?!n.shiftKey&&v===D?(n.preventDefault(),l&&ns(E,{select:!0})):n.shiftKey&&v===E&&(n.preventDefault(),l&&ns(D,{select:!0})):v===k&&n.preventDefault()}},[l,j,T.paused]);return g.createElement(Je.div,Ge({tabIndex:-1},C,{ref:x,onKeyDown:A}))});function Jn(s,{select:r=!1}={}){const l=document.activeElement;for(const j of s)if(ns(j,{select:r}),document.activeElement!==l)return}function Xn(s){const r=ir(s),l=Da(r,s),j=Da(r.reverse(),s);return[l,j]}function ir(s){const r=[],l=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:j=>{const d=j.tagName==="INPUT"&&j.type==="hidden";return j.disabled||j.hidden||d?NodeFilter.FILTER_SKIP:j.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)r.push(l.currentNode);return r}function Da(s,r){for(const l of s)if(!Qn(l,{upTo:r}))return l}function Qn(s,{upTo:r}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(r!==void 0&&s===r)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function Zn(s){return s instanceof HTMLInputElement&&"select"in s}function ns(s,{select:r=!1}={}){if(s&&s.focus){const l=document.activeElement;s.focus({preventScroll:!0}),s!==l&&Zn(s)&&r&&s.select()}}const Fa=ei();function ei(){let s=[];return{add(r){const l=s[0];r!==l&&l?.pause(),s=Ra(s,r),s.unshift(r)},remove(r){var l;s=Ra(s,r),(l=s[0])===null||l===void 0||l.resume()}}}function Ra(s,r){const l=[...s],j=l.indexOf(r);return j!==-1&&l.splice(j,1),l}function si(s){return s.filter(r=>r.tagName!=="A")}const ti=g.forwardRef((s,r)=>{var l;const{container:j=globalThis==null||(l=globalThis.document)===null||l===void 0?void 0:l.body,...d}=s;return j?_r.createPortal(g.createElement(Je.div,Ge({},d,{ref:r})),j):null});function ai(s,r){return g.useReducer((l,j)=>{const d=r[l][j];return d??l},s)}const Ct=s=>{const{present:r,children:l}=s,j=ri(r),d=typeof l=="function"?l({present:j.isPresent}):g.Children.only(l),N=at(j.ref,d.ref);return typeof l=="function"||j.isPresent?g.cloneElement(d,{ref:N}):null};Ct.displayName="Presence";function ri(s){const[r,l]=g.useState(),j=g.useRef({}),d=g.useRef(s),N=g.useRef("none"),C=s?"mounted":"unmounted",[u,o]=ai(C,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const i=ot(j.current);N.current=u==="mounted"?i:"none"},[u]),Kt(()=>{const i=j.current,p=d.current;if(p!==s){const x=N.current,T=ot(i);s?o("MOUNT"):T==="none"||i?.display==="none"?o("UNMOUNT"):o(p&&x!==T?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,o]),Kt(()=>{if(r){const i=a=>{const T=ot(j.current).includes(a.animationName);a.target===r&&T&&qa.flushSync(()=>o("ANIMATION_END"))},p=a=>{a.target===r&&(N.current=ot(j.current))};return r.addEventListener("animationstart",p),r.addEventListener("animationcancel",i),r.addEventListener("animationend",i),()=>{r.removeEventListener("animationstart",p),r.removeEventListener("animationcancel",i),r.removeEventListener("animationend",i)}}else o("ANIMATION_END")},[r,o]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:g.useCallback(i=>{i&&(j.current=getComputedStyle(i)),l(i)},[])}}function ot(s){return s?.animationName||"none"}let Rt=0;function li(){g.useEffect(()=>{var s,r;const l=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(s=l[0])!==null&&s!==void 0?s:La()),document.body.insertAdjacentElement("beforeend",(r=l[1])!==null&&r!==void 0?r:La()),Rt++,()=>{Rt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(j=>j.remove()),Rt--}},[])}function La(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",s}var cr=Mr(),Lt=function(){},St=g.forwardRef(function(s,r){var l=g.useRef(null),j=g.useState({onScrollCapture:Lt,onWheelCapture:Lt,onTouchMoveCapture:Lt}),d=j[0],N=j[1],C=s.forwardProps,u=s.children,o=s.className,i=s.removeScrollBar,p=s.enabled,a=s.shards,x=s.sideCar,T=s.noIsolation,A=s.inert,n=s.allowPinchZoom,I=s.as,v=I===void 0?"div":I,k=Dr(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=x,D=Fr([l,r]),Q=Ds(Ds({},k),d);return g.createElement(g.Fragment,null,p&&g.createElement(E,{sideCar:cr,removeScrollBar:i,shards:a,noIsolation:T,inert:A,setCallbacks:N,allowPinchZoom:!!n,lockRef:l}),C?g.cloneElement(g.Children.only(u),Ds(Ds({},Q),{ref:D})):g.createElement(v,Ds({},Q,{className:o,ref:D}),u))});St.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};St.classNames={fullWidth:Rr,zeroRight:Lr};var Xt=!1;if(typeof window<"u")try{var ut=Object.defineProperty({},"passive",{get:function(){return Xt=!0,!0}});window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Xt=!1}var Es=Xt?{passive:!1}:!1,ni=function(s){return s.tagName==="TEXTAREA"},dr=function(s,r){var l=window.getComputedStyle(s);return l[r]!=="hidden"&&!(l.overflowY===l.overflowX&&!ni(s)&&l[r]==="visible")},ii=function(s){return dr(s,"overflowY")},ci=function(s){return dr(s,"overflowX")},Oa=function(s,r){var l=r;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var j=or(s,l);if(j){var d=ur(s,l),N=d[1],C=d[2];if(N>C)return!0}l=l.parentNode}while(l&&l!==document.body);return!1},di=function(s){var r=s.scrollTop,l=s.scrollHeight,j=s.clientHeight;return[r,l,j]},oi=function(s){var r=s.scrollLeft,l=s.scrollWidth,j=s.clientWidth;return[r,l,j]},or=function(s,r){return s==="v"?ii(r):ci(r)},ur=function(s,r){return s==="v"?di(r):oi(r)},ui=function(s,r){return s==="h"&&r==="rtl"?-1:1},hi=function(s,r,l,j,d){var N=ui(s,window.getComputedStyle(r).direction),C=N*j,u=l.target,o=r.contains(u),i=!1,p=C>0,a=0,x=0;do{var T=ur(s,u),A=T[0],n=T[1],I=T[2],v=n-I-N*A;(A||v)&&or(s,u)&&(a+=v,x+=A),u=u.parentNode}while(!o&&u!==document.body||o&&(r.contains(u)||r===u));return(p&&(a===0||!d)||!p&&(x===0||!d))&&(i=!0),i},ht=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Ba=function(s){return[s.deltaX,s.deltaY]},Ua=function(s){return s&&"current"in s?s.current:s},mi=function(s,r){return s[0]===r[0]&&s[1]===r[1]},xi=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},pi=0,ws=[];function ji(s){var r=g.useRef([]),l=g.useRef([0,0]),j=g.useRef(),d=g.useState(pi++)[0],N=g.useState(function(){return Or()})[0],C=g.useRef(s);g.useEffect(function(){C.current=s},[s]),g.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var n=Br([s.lockRef.current],(s.shards||[]).map(Ua),!0).filter(Boolean);return n.forEach(function(I){return I.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),n.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var u=g.useCallback(function(n,I){if("touches"in n&&n.touches.length===2)return!C.current.allowPinchZoom;var v=ht(n),k=l.current,E="deltaX"in n?n.deltaX:k[0]-v[0],D="deltaY"in n?n.deltaY:k[1]-v[1],Q,R=n.target,se=Math.abs(E)>Math.abs(D)?"h":"v";if("touches"in n&&se==="h"&&R.type==="range")return!1;var M=Oa(se,R);if(!M)return!0;if(M?Q=se:(Q=se==="v"?"h":"v",M=Oa(se,R)),!M)return!1;if(!j.current&&"changedTouches"in n&&(E||D)&&(j.current=Q),!Q)return!0;var pe=j.current||Q;return hi(pe,I,n,pe==="h"?E:D,!0)},[]),o=g.useCallback(function(n){var I=n;if(!(!ws.length||ws[ws.length-1]!==N)){var v="deltaY"in I?Ba(I):ht(I),k=r.current.filter(function(Q){return Q.name===I.type&&Q.target===I.target&&mi(Q.delta,v)})[0];if(k&&k.should){I.cancelable&&I.preventDefault();return}if(!k){var E=(C.current.shards||[]).map(Ua).filter(Boolean).filter(function(Q){return Q.contains(I.target)}),D=E.length>0?u(I,E[0]):!C.current.noIsolation;D&&I.cancelable&&I.preventDefault()}}},[]),i=g.useCallback(function(n,I,v,k){var E={name:n,delta:I,target:v,should:k};r.current.push(E),setTimeout(function(){r.current=r.current.filter(function(D){return D!==E})},1)},[]),p=g.useCallback(function(n){l.current=ht(n),j.current=void 0},[]),a=g.useCallback(function(n){i(n.type,Ba(n),n.target,u(n,s.lockRef.current))},[]),x=g.useCallback(function(n){i(n.type,ht(n),n.target,u(n,s.lockRef.current))},[]);g.useEffect(function(){return ws.push(N),s.setCallbacks({onScrollCapture:a,onWheelCapture:a,onTouchMoveCapture:x}),document.addEventListener("wheel",o,Es),document.addEventListener("touchmove",o,Es),document.addEventListener("touchstart",p,Es),function(){ws=ws.filter(function(n){return n!==N}),document.removeEventListener("wheel",o,Es),document.removeEventListener("touchmove",o,Es),document.removeEventListener("touchstart",p,Es)}},[]);var T=s.removeScrollBar,A=s.inert;return g.createElement(g.Fragment,null,A?g.createElement(N,{styles:xi(d)}):null,T?g.createElement(Ur,{gapMode:"margin"}):null)}const vi=Wr(cr,ji);var hr=g.forwardRef(function(s,r){return g.createElement(St,Ds({},s,{ref:r,sideCar:vi}))});hr.classNames=St.classNames;const mr="Dialog",[xr,eo]=wn(mr),[gi,Ts]=xr(mr),bi=s=>{const{__scopeDialog:r,children:l,open:j,defaultOpen:d,onOpenChange:N,modal:C=!0}=s,u=g.useRef(null),o=g.useRef(null),[i=!1,p]=Rn({prop:j,defaultProp:d,onChange:N});return g.createElement(gi,{scope:r,triggerRef:u,contentRef:o,contentId:Mt(),titleId:Mt(),descriptionId:Mt(),open:i,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(a=>!a),[p]),modal:C},l)},pr="DialogPortal",[yi,jr]=xr(pr,{forceMount:void 0}),fi=s=>{const{__scopeDialog:r,forceMount:l,children:j,container:d}=s,N=Ts(pr,r);return g.createElement(yi,{scope:r,forceMount:l},g.Children.map(j,C=>g.createElement(Ct,{present:l||N.open},g.createElement(ti,{asChild:!0,container:d},C))))},Qt="DialogOverlay",Ci=g.forwardRef((s,r)=>{const l=jr(Qt,s.__scopeDialog),{forceMount:j=l.forceMount,...d}=s,N=Ts(Qt,s.__scopeDialog);return N.modal?g.createElement(Ct,{present:j||N.open},g.createElement(Si,Ge({},d,{ref:r}))):null}),Si=g.forwardRef((s,r)=>{const{__scopeDialog:l,...j}=s,d=Ts(Qt,l);return g.createElement(hr,{as:ia,allowPinchZoom:!0,shards:[d.contentRef]},g.createElement(Je.div,Ge({"data-state":gr(d.open)},j,{ref:r,style:{pointerEvents:"auto",...j.style}})))}),et="DialogContent",Ni=g.forwardRef((s,r)=>{const l=jr(et,s.__scopeDialog),{forceMount:j=l.forceMount,...d}=s,N=Ts(et,s.__scopeDialog);return g.createElement(Ct,{present:j||N.open},N.modal?g.createElement(Ai,Ge({},d,{ref:r})):g.createElement(ki,Ge({},d,{ref:r})))}),Ai=g.forwardRef((s,r)=>{const l=Ts(et,s.__scopeDialog),j=g.useRef(null),d=at(r,l.contentRef,j);return g.useEffect(()=>{const N=j.current;if(N)return Vr(N)},[]),g.createElement(vr,Ge({},s,{ref:d,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bs(s.onCloseAutoFocus,N=>{var C;N.preventDefault(),(C=l.triggerRef.current)===null||C===void 0||C.focus()}),onPointerDownOutside:Bs(s.onPointerDownOutside,N=>{const C=N.detail.originalEvent,u=C.button===0&&C.ctrlKey===!0;(C.button===2||u)&&N.preventDefault()}),onFocusOutside:Bs(s.onFocusOutside,N=>N.preventDefault())}))}),ki=g.forwardRef((s,r)=>{const l=Ts(et,s.__scopeDialog),j=g.useRef(!1),d=g.useRef(!1);return g.createElement(vr,Ge({},s,{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:N=>{var C;if((C=s.onCloseAutoFocus)===null||C===void 0||C.call(s,N),!N.defaultPrevented){var u;j.current||(u=l.triggerRef.current)===null||u===void 0||u.focus(),N.preventDefault()}j.current=!1,d.current=!1},onInteractOutside:N=>{var C,u;(C=s.onInteractOutside)===null||C===void 0||C.call(s,N),N.defaultPrevented||(j.current=!0,N.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const o=N.target;((u=l.triggerRef.current)===null||u===void 0?void 0:u.contains(o))&&N.preventDefault(),N.detail.originalEvent.type==="focusin"&&d.current&&N.preventDefault()}}))}),vr=g.forwardRef((s,r)=>{const{__scopeDialog:l,trapFocus:j,onOpenAutoFocus:d,onCloseAutoFocus:N,...C}=s,u=Ts(et,l),o=g.useRef(null),i=at(r,o);return li(),g.createElement(g.Fragment,null,g.createElement(zn,{asChild:!0,loop:!0,trapped:j,onMountAutoFocus:d,onUnmountAutoFocus:N},g.createElement(Gn,Ge({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":gr(u.open)},C,{ref:i,onDismiss:()=>u.onOpenChange(!1)}))),!1)});function gr(s){return s?"open":"closed"}const Ti=bi,Pi=fi,Ii=Ci,Ei=Ni;var Ws='[cmdk-group=""]',Ot='[cmdk-group-items=""]',wi='[cmdk-group-heading=""]',ca='[cmdk-item=""]',Wa=`${ca}:not([aria-disabled="true"])`,Zt="cmdk-item-select",ys="data-value",Mi=(s,r,l)=>In(s,r,l),br=g.createContext(void 0),rt=()=>g.useContext(br),yr=g.createContext(void 0),da=()=>g.useContext(yr),fr=g.createContext(void 0),Cr=g.forwardRef((s,r)=>{let l=Fs(()=>{var H,ue;return{search:"",value:(ue=(H=s.value)!=null?H:s.defaultValue)!=null?ue:"",filtered:{count:0,items:new Map,groups:new Set}}}),j=Fs(()=>new Set),d=Fs(()=>new Map),N=Fs(()=>new Map),C=Fs(()=>new Set),u=Sr(s),{label:o,children:i,value:p,onValueChange:a,filter:x,shouldFilter:T,loop:A,disablePointerSelection:n=!1,vimBindings:I=!0,...v}=s,k=g.useId(),E=g.useId(),D=g.useId(),Q=g.useRef(null),R=_i();As(()=>{if(p!==void 0){let H=p.trim();l.current.value=H,se.emit()}},[p]),As(()=>{R(6,ge)},[]);let se=g.useMemo(()=>({subscribe:H=>(C.current.add(H),()=>C.current.delete(H)),snapshot:()=>l.current,setState:(H,ue,je)=>{var de,Se,Re;if(!Object.is(l.current[H],ue)){if(l.current[H]=ue,H==="search")Xe(),ve(),R(1,he);else if(H==="value"&&(je||R(5,ge),((de=u.current)==null?void 0:de.value)!==void 0)){let Ke=ue??"";(Re=(Se=u.current).onValueChange)==null||Re.call(Se,Ke);return}se.emit()}},emit:()=>{C.current.forEach(H=>H())}}),[]),M=g.useMemo(()=>({value:(H,ue,je)=>{var de;ue!==((de=N.current.get(H))==null?void 0:de.value)&&(N.current.set(H,{value:ue,keywords:je}),l.current.filtered.items.set(H,pe(ue,je)),R(2,()=>{ve(),se.emit()}))},item:(H,ue)=>(j.current.add(H),ue&&(d.current.has(ue)?d.current.get(ue).add(H):d.current.set(ue,new Set([H]))),R(3,()=>{Xe(),ve(),l.current.value||he(),se.emit()}),()=>{N.current.delete(H),j.current.delete(H),l.current.filtered.items.delete(H);let je=Ue();R(4,()=>{Xe(),je?.getAttribute("id")===H&&he(),se.emit()})}),group:H=>(d.current.has(H)||d.current.set(H,new Set),()=>{N.current.delete(H),d.current.delete(H)}),filter:()=>u.current.shouldFilter,label:o||s["aria-label"],disablePointerSelection:n,listId:k,inputId:D,labelId:E,listInnerRef:Q}),[]);function pe(H,ue){var je,de;let Se=(de=(je=u.current)==null?void 0:je.filter)!=null?de:Mi;return H?Se(H,l.current.search,ue):0}function ve(){if(!l.current.search||u.current.shouldFilter===!1)return;let H=l.current.filtered.items,ue=[];l.current.filtered.groups.forEach(de=>{let Se=d.current.get(de),Re=0;Se.forEach(Ke=>{let os=H.get(Ke);Re=Math.max(os,Re)}),ue.push([de,Re])});let je=Q.current;Qe().sort((de,Se)=>{var Re,Ke;let os=de.getAttribute("id"),lt=Se.getAttribute("id");return((Re=H.get(lt))!=null?Re:0)-((Ke=H.get(os))!=null?Ke:0)}).forEach(de=>{let Se=de.closest(Ot);Se?Se.appendChild(de.parentElement===Se?de:de.closest(`${Ot} > *`)):je.appendChild(de.parentElement===je?de:de.closest(`${Ot} > *`))}),ue.sort((de,Se)=>Se[1]-de[1]).forEach(de=>{let Se=Q.current.querySelector(`${Ws}[${ys}="${encodeURIComponent(de[0])}"]`);Se?.parentElement.appendChild(Se)})}function he(){let H=Qe().find(je=>je.getAttribute("aria-disabled")!=="true"),ue=H?.getAttribute(ys);se.setState("value",ue||void 0)}function Xe(){var H,ue,je,de;if(!l.current.search||u.current.shouldFilter===!1){l.current.filtered.count=j.current.size;return}l.current.filtered.groups=new Set;let Se=0;for(let Re of j.current){let Ke=(ue=(H=N.current.get(Re))==null?void 0:H.value)!=null?ue:"",os=(de=(je=N.current.get(Re))==null?void 0:je.keywords)!=null?de:[],lt=pe(Ke,os);l.current.filtered.items.set(Re,lt),lt>0&&Se++}for(let[Re,Ke]of d.current)for(let os of Ke)if(l.current.filtered.items.get(os)>0){l.current.filtered.groups.add(Re);break}l.current.filtered.count=Se}function ge(){var H,ue,je;let de=Ue();de&&(((H=de.parentElement)==null?void 0:H.firstChild)===de&&((je=(ue=de.closest(Ws))==null?void 0:ue.querySelector(wi))==null||je.scrollIntoView({block:"nearest"})),de.scrollIntoView({block:"nearest"}))}function Ue(){var H;return(H=Q.current)==null?void 0:H.querySelector(`${ca}[aria-selected="true"]`)}function Qe(){var H;return Array.from((H=Q.current)==null?void 0:H.querySelectorAll(Wa))}function P(H){let ue=Qe()[H];ue&&se.setState("value",ue.getAttribute(ys))}function w(H){var ue;let je=Ue(),de=Qe(),Se=de.findIndex(Ke=>Ke===je),Re=de[Se+H];(ue=u.current)!=null&&ue.loop&&(Re=Se+H<0?de[de.length-1]:Se+H===de.length?de[0]:de[Se+H]),Re&&se.setState("value",Re.getAttribute(ys))}function O(H){let ue=Ue(),je=ue?.closest(Ws),de;for(;je&&!de;)je=H>0?Vi(je,Ws):qi(je,Ws),de=je?.querySelector(Wa);de?se.setState("value",de.getAttribute(ys)):w(H)}let ee=()=>P(Qe().length-1),_e=H=>{H.preventDefault(),H.metaKey?ee():H.altKey?O(1):w(1)},Oe=H=>{H.preventDefault(),H.metaKey?P(0):H.altKey?O(-1):w(-1)};return g.createElement(Je.div,{ref:r,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:H=>{var ue;if((ue=v.onKeyDown)==null||ue.call(v,H),!H.defaultPrevented)switch(H.key){case"n":case"j":{I&&H.ctrlKey&&_e(H);break}case"ArrowDown":{_e(H);break}case"p":case"k":{I&&H.ctrlKey&&Oe(H);break}case"ArrowUp":{Oe(H);break}case"Home":{H.preventDefault(),P(0);break}case"End":{H.preventDefault(),ee();break}case"Enter":if(!H.nativeEvent.isComposing&&H.keyCode!==229){H.preventDefault();let je=Ue();if(je){let de=new Event(Zt);je.dispatchEvent(de)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:$i},o),Nt(s,H=>g.createElement(yr.Provider,{value:se},g.createElement(br.Provider,{value:M},H))))}),Di=g.forwardRef((s,r)=>{var l,j;let d=g.useId(),N=g.useRef(null),C=g.useContext(fr),u=rt(),o=Sr(s),i=(j=(l=o.current)==null?void 0:l.forceMount)!=null?j:C?.forceMount;As(()=>{if(!i)return u.item(d,C?.id)},[i]);let p=Nr(d,N,[s.value,s.children,N],s.keywords),a=da(),x=ks(R=>R.value&&R.value===p.current),T=ks(R=>i||u.filter()===!1?!0:R.search?R.filtered.items.get(d)>0:!0);g.useEffect(()=>{let R=N.current;if(!(!R||s.disabled))return R.addEventListener(Zt,A),()=>R.removeEventListener(Zt,A)},[T,s.onSelect,s.disabled]);function A(){var R,se;n(),(se=(R=o.current).onSelect)==null||se.call(R,p.current)}function n(){a.setState("value",p.current,!0)}if(!T)return null;let{disabled:I,value:v,onSelect:k,forceMount:E,keywords:D,...Q}=s;return g.createElement(Je.div,{ref:st([N,r]),...Q,id:d,"cmdk-item":"",role:"option","aria-disabled":!!I,"aria-selected":!!x,"data-disabled":!!I,"data-selected":!!x,onPointerMove:I||u.disablePointerSelection?void 0:n,onClick:I?void 0:A},s.children)}),Fi=g.forwardRef((s,r)=>{let{heading:l,children:j,forceMount:d,...N}=s,C=g.useId(),u=g.useRef(null),o=g.useRef(null),i=g.useId(),p=rt(),a=ks(T=>d||p.filter()===!1?!0:T.search?T.filtered.groups.has(C):!0);As(()=>p.group(C),[]),Nr(C,u,[s.value,s.heading,o]);let x=g.useMemo(()=>({id:C,forceMount:d}),[d]);return g.createElement(Je.div,{ref:st([u,r]),...N,"cmdk-group":"",role:"presentation",hidden:a?void 0:!0},l&&g.createElement("div",{ref:o,"cmdk-group-heading":"","aria-hidden":!0,id:i},l),Nt(s,T=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":l?i:void 0},g.createElement(fr.Provider,{value:x},T))))}),Ri=g.forwardRef((s,r)=>{let{alwaysRender:l,...j}=s,d=g.useRef(null),N=ks(C=>!C.search);return!l&&!N?null:g.createElement(Je.div,{ref:st([d,r]),...j,"cmdk-separator":"",role:"separator"})}),Li=g.forwardRef((s,r)=>{let{onValueChange:l,...j}=s,d=s.value!=null,N=da(),C=ks(p=>p.search),u=ks(p=>p.value),o=rt(),i=g.useMemo(()=>{var p;let a=(p=o.listInnerRef.current)==null?void 0:p.querySelector(`${ca}[${ys}="${encodeURIComponent(u)}"]`);return a?.getAttribute("id")},[]);return g.useEffect(()=>{s.value!=null&&N.setState("search",s.value)},[s.value]),g.createElement(Je.input,{ref:r,...j,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":o.listId,"aria-labelledby":o.labelId,"aria-activedescendant":i,id:o.inputId,type:"text",value:d?s.value:C,onChange:p=>{d||N.setState("search",p.target.value),l?.(p.target.value)}})}),Oi=g.forwardRef((s,r)=>{let{children:l,label:j="Suggestions",...d}=s,N=g.useRef(null),C=g.useRef(null),u=rt();return g.useEffect(()=>{if(C.current&&N.current){let o=C.current,i=N.current,p,a=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let x=o.offsetHeight;i.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return a.observe(o),()=>{cancelAnimationFrame(p),a.unobserve(o)}}},[]),g.createElement(Je.div,{ref:st([N,r]),...d,"cmdk-list":"",role:"listbox","aria-label":j,id:u.listId},Nt(s,o=>g.createElement("div",{ref:st([C,u.listInnerRef]),"cmdk-list-sizer":""},o)))}),Bi=g.forwardRef((s,r)=>{let{open:l,onOpenChange:j,overlayClassName:d,contentClassName:N,container:C,...u}=s;return g.createElement(Ti,{open:l,onOpenChange:j},g.createElement(Pi,{container:C},g.createElement(Ii,{"cmdk-overlay":"",className:d}),g.createElement(Ei,{"aria-label":s.label,"cmdk-dialog":"",className:N},g.createElement(Cr,{ref:r,...u}))))}),Ui=g.forwardRef((s,r)=>ks(l=>l.filtered.count===0)?g.createElement(Je.div,{ref:r,...s,"cmdk-empty":"",role:"presentation"}):null),Wi=g.forwardRef((s,r)=>{let{progress:l,children:j,label:d="Loading...",...N}=s;return g.createElement(Je.div,{ref:r,...N,"cmdk-loading":"",role:"progressbar","aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,"aria-label":d},Nt(s,C=>g.createElement("div",{"aria-hidden":!0},C)))}),qe=Object.assign(Cr,{List:Oi,Item:Di,Input:Li,Group:Fi,Separator:Ri,Dialog:Bi,Empty:Ui,Loading:Wi});function Vi(s,r){let l=s.nextElementSibling;for(;l;){if(l.matches(r))return l;l=l.nextElementSibling}}function qi(s,r){let l=s.previousElementSibling;for(;l;){if(l.matches(r))return l;l=l.previousElementSibling}}function Sr(s){let r=g.useRef(s);return As(()=>{r.current=s}),r}var As=typeof window>"u"?g.useEffect:g.useLayoutEffect;function Fs(s){let r=g.useRef();return r.current===void 0&&(r.current=s()),r}function st(s){return r=>{s.forEach(l=>{typeof l=="function"?l(r):l!=null&&(l.current=r)})}}function ks(s){let r=da(),l=()=>s(r.snapshot());return g.useSyncExternalStore(r.subscribe,l,l)}function Nr(s,r,l,j=[]){let d=g.useRef(),N=rt();return As(()=>{var C;let u=(()=>{var i;for(let p of l){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(i=p.current.textContent)==null?void 0:i.trim():d.current}})(),o=j.map(i=>i.trim());N.value(s,u,o),(C=r.current)==null||C.setAttribute(ys,u),d.current=u}),d}var _i=()=>{let[s,r]=g.useState(),l=Fs(()=>new Map);return As(()=>{l.current.forEach(j=>j()),l.current=new Map},[s]),(j,d)=>{l.current.set(j,d),r({})}};function Hi(s){let r=s.type;return typeof r=="function"?r(s.props):"render"in r?r.render(s.props):s}function Nt({asChild:s,children:r},l){return s&&g.isValidElement(r)?g.cloneElement(Hi(r),{ref:r.ref},l(r.props.children)):l(r)}var $i={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ar=g.forwardRef(({className:s,...r},l)=>e.jsx(qe,{ref:l,className:as("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...r}));Ar.displayName=qe.displayName;const kr=g.forwardRef(({className:s,...r},l)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(rl,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(qe.Input,{ref:l,className:as("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...r})]}));kr.displayName=qe.Input.displayName;const Tr=g.forwardRef(({className:s,...r},l)=>e.jsx(qe.List,{ref:l,className:as("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...r}));Tr.displayName=qe.List.displayName;const Pr=g.forwardRef((s,r)=>e.jsx(qe.Empty,{ref:r,className:"py-6 text-center text-sm",...s}));Pr.displayName=qe.Empty.displayName;const Ir=g.forwardRef(({className:s,...r},l)=>e.jsx(qe.Group,{ref:l,className:as("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...r}));Ir.displayName=qe.Group.displayName;const Gi=g.forwardRef(({className:s,...r},l)=>e.jsx(qe.Separator,{ref:l,className:as("-mx-1 h-px bg-border",s),...r}));Gi.displayName=qe.Separator.displayName;const Er=g.forwardRef(({className:s,...r},l)=>e.jsx(qe.Item,{ref:l,className:as("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected= 'true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",s),...r}));Er.displayName=qe.Item.displayName;function Yi({options:s,value:r,onValueChange:l,placeholder:j="Select option...",searchPlaceholder:d="Search...",emptyMessage:N="No option found.",className:C}){const[u,o]=g.useState(!1),i=s.find(p=>p.value===r);return e.jsxs(ll,{open:u,onOpenChange:o,children:[e.jsx(nl,{asChild:!0,children:e.jsxs(Ae,{variant:"outline",role:"combobox","aria-expanded":u,className:as("w-full justify-between",C),children:[i?e.jsxs("div",{className:"flex items-center gap-2",children:[i.icon&&e.jsx(i.icon,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"truncate",children:i.label}),i.category&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",i.category,")"]})]}):j,e.jsx(pn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(il,{className:"w-full p-0 z-50",style:{width:"var(--radix-popover-trigger-width)"},children:e.jsxs(Ar,{children:[e.jsx(kr,{placeholder:d}),e.jsxs(Tr,{children:[e.jsx(Pr,{children:N}),e.jsx(Ir,{children:s.map(p=>e.jsxs(Er,{value:`${p.label} ${p.category||""} ${p.description||""}`,onSelect:()=>{l?.(p.value),o(!1)},children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[p.icon&&e.jsx(p.icon,{className:"h-4 w-4 text-primary"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:p.label}),p.category&&e.jsx("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5 bg-muted rounded",children:p.category})]}),p.description&&e.jsx("span",{className:"text-xs text-muted-foreground",children:p.description})]})]}),e.jsx(Gr,{className:as("ml-auto h-4 w-4",r===p.value?"opacity-100":"opacity-0")})]},p.value))})]})]})})]})}const Ki=({selectedJarId:s,onJarSelect:r,label:l="Select JAR File",placeholder:j="Choose a driver JAR file...",driverTypeFilter:d})=>{const N=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",fileName:"mysql-connector-java-8.0.33.jar",driverType:"Database"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",fileName:"postgresql-42.6.0.jar",driverType:"Database"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",fileName:"activemq-client-5.18.3.jar",driverType:"Message Queue"}],C=d?N.filter(o=>o.driverType===d):N,u=N.find(o=>o.id===s);return e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-sm font-medium",children:l}),e.jsxs(B,{value:s,onValueChange:r,children:[e.jsx(U,{className:"w-full",children:e.jsx(W,{placeholder:j,children:u&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ma,{className:"h-4 w-4"}),e.jsx("span",{children:u.name}),e.jsxs(ze,{variant:"secondary",className:"text-xs",children:["v",u.version]})]})})}),e.jsxs(V,{className:"bg-card border-border shadow-lg z-50 max-h-60",children:[C.map(o=>e.jsx(S,{value:o.id,children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(ma,{className:"h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:o.fileName})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(ze,{variant:"secondary",className:"text-xs",children:["v",o.version]}),e.jsx(ze,{variant:"outline",className:"text-xs",children:o.driverType})]})]})},o.id)),C.length===0&&e.jsxs(S,{value:"no-jars-available",disabled:!0,children:["No JAR files available",d&&` for ${d}`]})]})]}),u&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",u.fileName," (",u.driverType,")"]})]})},zi=({selectedBusinessComponent:s,setSelectedBusinessComponent:r})=>{const{businessComponents:l,loading:j}=bt();return e.jsxs(G,{className:"animate-scale-in",children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"h-5 w-5"}),"Business Component Selection"]}),e.jsx(X,{children:"Select the business component this adapter belongs to"})]}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"businessComponent",children:"Business Component *"}),e.jsxs(B,{value:s?.id||"",onValueChange:d=>{const N=l.find(C=>C.id===d)||null;r(N)},disabled:j,children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select a business component"})}),e.jsx(V,{children:l.length===0?e.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):l.map(d=>e.jsx(S,{value:d.id,children:d.name},d.id))})]})]})})]})},oa=({config:s,onChange:r})=>{const[l,j]=g.useState({fieldName:"",length:0}),d=(o,i)=>{r({...s,[o]:i})},N=()=>{if(l.fieldName&&l.length>0){const o=s.fieldLengths||{},i=s.fieldOrder||[];r({...s,fieldLengths:{...o,[l.fieldName]:l.length},fieldOrder:[...i,l.fieldName]}),j({fieldName:"",length:0})}},C=o=>{const{[o]:i,...p}=s.fieldLengths||{},a=(s.fieldOrder||[]).filter(x=>x!==o);r({...s,fieldLengths:p,fieldOrder:a})},u=()=>{switch(s.fileFormat){case"CSV":return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"CSV Configuration"}),e.jsx(X,{children:"Configure CSV file format settings"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"delimiter",children:"Delimiter"}),e.jsx(y,{id:"delimiter",value:s.delimiter||",",onChange:o=>d("delimiter",o.target.value),placeholder:",",maxLength:1})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"quoteCharacter",children:"Quote Character"}),e.jsx(y,{id:"quoteCharacter",value:s.quoteCharacter||'"',onChange:o=>d("quoteCharacter",o.target.value),placeholder:'"',maxLength:1})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"lineTerminator",children:"Line Terminator"}),e.jsxs(B,{value:s.lineTerminator||"\\n",onValueChange:o=>d("lineTerminator",o),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"\\n",children:"LF (\\n)"}),e.jsx(S,{value:"\\r\\n",children:"CRLF (\\r\\n)"}),e.jsx(S,{value:"\\r",children:"CR (\\r)"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"encoding",children:"Encoding"}),e.jsxs(B,{value:s.encoding||"UTF-8",onValueChange:o=>d("encoding",o),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"UTF-8",children:"UTF-8"}),e.jsx(S,{value:"UTF-16",children:"UTF-16"}),e.jsx(S,{value:"ISO-8859-1",children:"ISO-8859-1"}),e.jsx(S,{value:"ASCII",children:"ASCII"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"includeHeaders",checked:s.includeHeaders!==!1,onCheckedChange:o=>d("includeHeaders",o)}),e.jsx(c,{htmlFor:"includeHeaders",children:"Include Headers"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"quoteAllFields",checked:s.quoteAllFields===!0,onCheckedChange:o=>d("quoteAllFields",o)}),e.jsx(c,{htmlFor:"quoteAllFields",children:"Quote All Fields"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"skipEmptyLines",checked:s.skipEmptyLines===!0,onCheckedChange:o=>d("skipEmptyLines",o)}),e.jsx(c,{htmlFor:"skipEmptyLines",children:"Skip Empty Lines"})]})]})]})]});case"FIXED":return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Fixed-Length Configuration"}),e.jsx(X,{children:"Define field positions and lengths"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"padCharacter",children:"Pad Character"}),e.jsx(y,{id:"padCharacter",value:s.padCharacter||" ",onChange:o=>d("padCharacter",o.target.value),placeholder:" ",maxLength:1})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"padDirection",children:"Pad Direction"}),e.jsxs(B,{value:s.padDirection||"RIGHT",onValueChange:o=>d("padDirection",o),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"LEFT",children:"Left"}),e.jsx(S,{value:"RIGHT",children:"Right"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"lineTerminator",children:"Line Terminator"}),e.jsxs(B,{value:s.lineTerminator||"\\n",onValueChange:o=>d("lineTerminator",o),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"\\n",children:"LF (\\n)"}),e.jsx(S,{value:"\\r\\n",children:"CRLF (\\r\\n)"}),e.jsx(S,{value:"\\r",children:"CR (\\r)"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"encoding",children:"Encoding"}),e.jsxs(B,{value:s.encoding||"UTF-8",onValueChange:o=>d("encoding",o),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"UTF-8",children:"UTF-8"}),e.jsx(S,{value:"UTF-16",children:"UTF-16"}),e.jsx(S,{value:"ISO-8859-1",children:"ISO-8859-1"}),e.jsx(S,{value:"ASCII",children:"ASCII"})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(c,{children:"Field Definitions"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{placeholder:"Field Name",value:l.fieldName,onChange:o=>j({...l,fieldName:o.target.value})}),e.jsx(y,{type:"number",placeholder:"Length",value:l.length||"",onChange:o=>j({...l,length:parseInt(o.target.value)||0}),className:"w-32"}),e.jsx(Ae,{onClick:N,size:"sm",children:e.jsx(pl,{className:"h-4 w-4"})})]}),s.fieldOrder&&s.fieldOrder.length>0&&e.jsxs(hl,{children:[e.jsx(ml,{children:e.jsxs(xa,{children:[e.jsx(nt,{children:"Field Name"}),e.jsx(nt,{children:"Length"}),e.jsx(nt,{children:"Start Position"}),e.jsx(nt,{className:"w-16"})]})}),e.jsx(xl,{children:s.fieldOrder.map((o,i)=>{const p=s.fieldOrder.slice(0,i).reduce((a,x)=>a+(s.fieldLengths?.[x]||0),1);return e.jsxs(xa,{children:[e.jsx(it,{children:o}),e.jsx(it,{children:s.fieldLengths?.[o]}),e.jsx(it,{children:p}),e.jsx(it,{children:e.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>C(o),children:e.jsx(jl,{className:"h-4 w-4"})})})]},o)})})]})]})]})})]})]});case"JSON":return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"JSON Configuration"}),e.jsx(X,{children:"Configure JSON file format settings"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"dateFormat",children:"Date Format"}),e.jsx(y,{id:"dateFormat",value:s.dateFormat||"yyyy-MM-dd'T'HH:mm:ss.SSSZ",onChange:o=>d("dateFormat",o.target.value),placeholder:"yyyy-MM-dd'T'HH:mm:ss.SSSZ"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"encoding",children:"Encoding"}),e.jsxs(B,{value:s.encoding||"UTF-8",onValueChange:o=>d("encoding",o),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"UTF-8",children:"UTF-8"}),e.jsx(S,{value:"UTF-16",children:"UTF-16"}),e.jsx(S,{value:"ISO-8859-1",children:"ISO-8859-1"}),e.jsx(S,{value:"ASCII",children:"ASCII"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"prettyPrint",checked:s.prettyPrint!==!1,onCheckedChange:o=>d("prettyPrint",o)}),e.jsx(c,{htmlFor:"prettyPrint",children:"Pretty Print"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"includeNullValues",checked:s.includeNullValues===!0,onCheckedChange:o=>d("includeNullValues",o)}),e.jsx(c,{htmlFor:"includeNullValues",children:"Include Null Values"})]})]})]})]});case"XML":return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"XML Configuration"}),e.jsx(X,{children:"XML format is handled in the XML Conversion tab"})]}),e.jsx(Y,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please configure XML-specific settings in the XML Conversion tab."})})]});default:return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Plain Text Configuration"}),e.jsx(X,{children:"Basic text file settings"})]}),e.jsx(Y,{children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"encoding",children:"Encoding"}),e.jsxs(B,{value:s.encoding||"UTF-8",onValueChange:o=>d("encoding",o),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"UTF-8",children:"UTF-8"}),e.jsx(S,{value:"UTF-16",children:"UTF-16"}),e.jsx(S,{value:"ISO-8859-1",children:"ISO-8859-1"}),e.jsx(S,{value:"ASCII",children:"ASCII"})]})]})]})})]})}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"File Format Type"}),e.jsx(X,{children:"Select the format of files this adapter will process"})]}),e.jsx(Y,{children:e.jsxs(B,{value:s.fileFormat||"TEXT",onValueChange:o=>d("fileFormat",o),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"CSV",children:"CSV (Comma-Separated Values)"}),e.jsx(S,{value:"FIXED",children:"Fixed-Length"}),e.jsx(S,{value:"JSON",children:"JSON"}),e.jsx(S,{value:"XML",children:"XML"}),e.jsx(S,{value:"TEXT",children:"Plain Text"})]})]})})]}),u(),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Sample Preview"}),e.jsx(X,{children:"Example of how your file format will look"})]}),e.jsx(Y,{children:e.jsxs("pre",{className:"text-xs bg-muted p-4 rounded overflow-x-auto",children:[s.fileFormat==="CSV"&&(s.includeHeaders!==!1?`orderId${s.delimiter||","}customer${s.delimiter||","}amount
12345${s.delimiter||","}John Doe${s.delimiter||","}99.99
12346${s.delimiter||","}Jane Smith${s.delimiter||","}149.99`:`12345${s.delimiter||","}John Doe${s.delimiter||","}99.99
12346${s.delimiter||","}Jane Smith${s.delimiter||","}149.99`),s.fileFormat==="FIXED"&&s.fieldOrder&&(s.fieldOrder.map(o=>o.padEnd(s.fieldLengths?.[o]||0,s.padCharacter||" ")).join("")||"Define fields above to see preview"),s.fileFormat==="JSON"&&(s.prettyPrint!==!1?`{
  "orderId": "12345",
  "customer": "John Doe",
  "amount": 99.99${s.includeNullValues?`,
  "discount": null`:""}
}`:`{"orderId":"12345","customer":"John Doe","amount":99.99${s.includeNullValues?',"discount":null':""}}`),(s.fileFormat==="XML"||s.fileFormat==="TEXT"||!s.fileFormat)&&"Sample data based on selected format will appear here"]})})]})]})},Ps=({mode:s,config:r,onChange:l})=>{const j=(d,N)=>{l({...r,[d]:N})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(fe,{children:[e.jsx(qs,{className:"h-4 w-4"}),e.jsx(Ce,{children:s==="INBOUND"?"Configure how incoming data is converted to XML for mapping":"Configure how XML is converted back to the target format after mapping"})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Basic Settings"}),e.jsx(X,{children:"Core XML conversion configuration"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"rootElementName",children:"Root Element Name"}),e.jsx(y,{id:"rootElementName",value:r.rootElementName||"Message",onChange:d=>j("rootElementName",d.target.value),placeholder:"Message"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The root element that wraps the converted data"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"encoding",children:"Encoding"}),e.jsx(y,{id:"encoding",value:r.encoding||"UTF-8",onChange:d=>j("encoding",d.target.value),placeholder:"UTF-8"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"includeXmlDeclaration",checked:r.includeXmlDeclaration!==!1,onCheckedChange:d=>j("includeXmlDeclaration",d)}),e.jsx(c,{htmlFor:"includeXmlDeclaration",children:"Include XML Declaration"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"prettyPrint",checked:r.prettyPrint!==!1,onCheckedChange:d=>j("prettyPrint",d)}),e.jsx(c,{htmlFor:"prettyPrint",children:"Pretty Print (Format with indentation)"})]})]})})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Namespace Configuration"}),e.jsx(X,{children:"Optional XML namespace settings"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"targetNamespace",children:"Target Namespace"}),e.jsx(y,{id:"targetNamespace",value:r.targetNamespace||"",onChange:d=>j("targetNamespace",d.target.value),placeholder:"http://example.com/integration"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"XML namespace URI (optional)"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"namespacePrefix",children:"Namespace Prefix"}),e.jsx(y,{id:"namespacePrefix",value:r.namespacePrefix||"",onChange:d=>j("namespacePrefix",d.target.value),placeholder:"ns"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Prefix for namespace (e.g., ns:Element)"})]})]})})]}),s==="OUTBOUND"&&e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Outbound Options"}),e.jsx(X,{children:"Settings for converting XML back to target format"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"removeRootElement",checked:r.removeRootElement===!0,onCheckedChange:d=>j("removeRootElement",d)}),e.jsx(c,{htmlFor:"removeRootElement",children:"Remove Root Element"})]}),e.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Strip the wrapper element when converting from XML"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"handleNamespaces",checked:r.handleNamespaces!==!1,onCheckedChange:d=>j("handleNamespaces",d)}),e.jsx(c,{htmlFor:"handleNamespaces",children:"Handle Namespaces"})]}),e.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Process namespace declarations and prefixes"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"preserveAttributes",checked:r.preserveAttributes===!0,onCheckedChange:d=>j("preserveAttributes",d)}),e.jsx(c,{htmlFor:"preserveAttributes",children:"Preserve Attributes"})]}),e.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Keep XML attributes as separate fields (instead of converting to elements)"})]})})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Example"}),e.jsx(X,{children:"How your data will be converted"})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"json",className:"w-full",children:[e.jsxs(Te,{children:[e.jsx(K,{value:"json",children:"JSON to XML"}),e.jsx(K,{value:"csv",children:"CSV to XML"}),e.jsx(K,{value:"sql",children:"SQL to XML"})]}),e.jsx($,{value:"json",className:"space-y-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Original JSON"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`{
 "orderId": "12345",
 "customer": "John Doe",
 "amount": 99.99
}`})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Converted XML"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${r.encoding||"UTF-8"}"?>
<${r.rootElementName||"Message"}${r.targetNamespace?` xmlns${r.namespacePrefix?`:${r.namespacePrefix}`:""}="${r.targetNamespace}"`:""}>
  <orderId>12345</orderId>
  <customer>John Doe</customer>
  <amount>99.99</amount>
</${r.rootElementName||"Message"}>`})]})]})}),e.jsx($,{value:"csv",className:"space-y-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Original CSV"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`orderId,customer,amount
12345,John Doe,99.99
12346,Jane Smith,149.99`})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Converted XML"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${r.encoding||"UTF-8"}"?>
<${r.rootElementName||"Message"}${r.targetNamespace?` xmlns${r.namespacePrefix?`:${r.namespacePrefix}`:""}="${r.targetNamespace}"`:""}>
 <record>
   <orderId>12345</orderId>
   <customer>John Doe</customer>
   <amount>99.99</amount>
 </record>
 <record>
   <orderId>12346</orderId>
   <customer>Jane Smith</customer>
   <amount>149.99</amount>
 </record>
</${r.rootElementName||"Message"}>`})]})]})}),e.jsx($,{value:"sql",className:"space-y-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"SQL Result"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`SELECT * FROM orders
-----------------
orderId | customer | amount
12345 | John Doe | 99.99
12346 | Jane Smith | 149.99`})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Converted XML"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${r.encoding||"UTF-8"}"?>
<${r.rootElementName||"Message"}${r.targetNamespace?` xmlns${r.namespacePrefix?`:${r.namespacePrefix}`:""}="${r.targetNamespace}"`:""}>
 <row>
   <orderId>12345</orderId>
   <customer>John Doe</customer>
   <amount>99.99</amount>
 </row>
 <row>
   <orderId>12346</orderId>
   <customer>Jane Smith</customer>
   <amount>149.99</amount>
 </row>
</${r.rootElementName||"Message"}>`})]})]})})]})})]})]})},wr=g.forwardRef(({value:s,onValueChange:r,options:l,className:j,size:d="md",disabled:N=!1},C)=>{const u={sm:"h-8 text-xs",md:"h-10 text-sm",lg:"h-12 text-base"},o=i=>{N||r(i.value)};return e.jsx("div",{ref:C,className:as("inline-flex rounded-lg bg-muted p-1 text-muted-foreground",u[d],N&&"opacity-50 cursor-not-allowed",j),children:l.map(i=>e.jsxs("button",{type:"button",onClick:()=>o(i),disabled:N,className:as("relative inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s===i.value?"bg-background text-foreground shadow-sm":"hover:text-foreground","flex-1"),children:[i.icon&&e.jsx("span",{className:"mr-2",children:i.icon}),i.label]},i.value))})});wr.displayName="SegmentedControl";const Is=({config:s,onChange:r,adapterType:l,dataStructures:j=[],disabled:d=!1})=>{const N=[{value:"transform",label:"Transform Data"},{value:"passthrough",label:"Passthrough"}],C=a=>{const x={...s,mode:a};a==="passthrough"?(x.dataStructureId=void 0,x.requiresStructure=!1):x.requiresStructure=o(l),r(x)},u=a=>{r({...s,dataStructureId:a})},o=a=>["FILE","FTP","SFTP","REST","HTTP","HTTPS","JSON","XML"].includes(a.toUpperCase()),i=()=>{const a=l.toUpperCase();return["REST","HTTP","HTTPS"].includes(a)?e.jsxs(fe,{className:"mt-4",children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx(Ce,{children:"For REST/HTTP adapters with transformation enabled, you must define the payload structure. The payload will be automatically converted to XML for mapping."})]}):["FILE","FTP","SFTP"].includes(a)?e.jsxs(fe,{className:"mt-4",children:[e.jsx(qs,{className:"h-4 w-4"}),e.jsx(Ce,{children:"File adapters require an XML data structure when transformation is enabled. The file content will be converted to/from XML for processing."})]}):a==="SOAP"?e.jsxs(fe,{className:"mt-4",children:[e.jsx(qs,{className:"h-4 w-4"}),e.jsx(Ce,{children:"SOAP adapters always require a WSDL which defines the data structures."})]}):null},p=j.filter(a=>["REST","HTTP","HTTPS"].includes(l.toUpperCase())?["JSON","XML"].includes(a.type):a.type==="XML");return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Data Transformation"}),e.jsx(X,{children:"Choose whether to transform data or pass it through unchanged"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Transformation Mode"}),e.jsx(wr,{value:s.mode,onValueChange:C,options:N,disabled:d})]}),s.mode==="transform"&&s.requiresStructure&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Data Structure *"}),e.jsxs(B,{value:s.dataStructureId,onValueChange:u,disabled:d,children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select a data structure"})}),e.jsx(V,{children:p.map(a=>e.jsxs(S,{value:a.id,children:[a.name," (",a.type,")"]},a.id))})]}),p.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No compatible data structures found. Please create one first."})]}),s.mode==="passthrough"&&e.jsxs(fe,{children:[e.jsx(qs,{className:"h-4 w-4"}),e.jsx(Ce,{children:"Passthrough mode transfers data without any transformation or XML conversion. This is ideal for binary files or when you need to preserve the exact file format."})]}),s.mode==="transform"&&i()]})]})},Ji=({mode:s,onConfigChange:r})=>{const[l,j]=g.useState({serverAddress:"",port:"",timeout:"",connectionSecurity:"",userName:"",password:"",connectionMode:"",sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"passthrough",requiresStructure:!1}}),d=o=>{const i={...l,...o};j(i),r?.(i)},N=()=>{const o=[...l.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];d({advancedEntries:o})},C=(o,i,p)=>{const a=[...l.advancedEntries];a[o]={...a[o],[i]:p},d({advancedEntries:a})},u=o=>{if(l.advancedEntries.length>1){const i=l.advancedEntries.filter((p,a)=>a!==o);d({advancedEntries:i})}};return e.jsxs(G,{className:"w-full",children:[e.jsxs(z,{children:[e.jsxs(J,{children:["FTP ",s==="sender"?"Inbound":"Outbound"," Adapter Configuration"]}),e.jsxs(X,{children:["Configure your FTP ",s," adapter settings"]})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:s==="sender"?"source":"target",className:"w-full",children:[e.jsxs(Te,{className:`grid w-full ${s==="sender"?"grid-cols-5":"grid-cols-4"}`,children:[e.jsx(K,{value:s==="sender"?"source":"target",children:s==="sender"?"Source":"Target"}),e.jsx(K,{value:"processing",children:"Processing"}),s==="sender"&&e.jsx(K,{value:"transformation",children:"Transformation"}),s==="sender"&&l.transformationConfig?.mode==="transform"&&e.jsx(K,{value:"fileFormat",children:"File Format"}),s==="sender"&&l.transformationConfig?.mode==="transform"&&e.jsx(K,{value:"xmlConversion",children:"XML Conversion"})]}),s==="sender"&&e.jsxs($,{value:"source",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sourceDirectory",children:"Source Directory *"}),e.jsx(y,{id:"sourceDirectory",value:l.sourceDirectory,onChange:o=>d({sourceDirectory:o.target.value}),placeholder:"Enter source directory path"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fileName",children:"File Name *"}),e.jsx(y,{id:"fileName",value:l.fileName,onChange:o=>d({fileName:o.target.value}),placeholder:"Enter file name pattern"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sorting",children:"Sorting"}),e.jsxs(B,{value:l.sorting,onValueChange:o=>d({sorting:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select sorting option"})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"timestamp-ascending",children:"Timestamp Ascending"}),e.jsx(S,{value:"timestamp-descending",children:"Timestamp Descending"}),e.jsx(S,{value:"file-size",children:"File Size"}),e.jsx(S,{value:"file-name",children:"File Name"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"advancedSelection",checked:l.advancedSelection,onCheckedChange:o=>d({advancedSelection:o===!0})}),e.jsx(c,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),l.advancedSelection&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),e.jsx(y,{id:"exclusionMask",value:l.exclusionMask,onChange:o=>d({exclusionMask:o.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(c,{className:"text-sm font-medium",children:"Multiple File Selection"}),e.jsx("button",{type:"button",onClick:N,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),l.advancedEntries.map((o,i)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"Directory"}),e.jsx(y,{value:o.directory,onChange:p=>C(i,"directory",p.target.value),placeholder:"Directory path",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"File Name"}),e.jsx(y,{value:o.fileName,onChange:p=>C(i,"fileName",p.target.value),placeholder:"File name pattern",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"Exclusion Mask"}),e.jsx(y,{value:o.exclusionMask,onChange:p=>C(i,"exclusionMask",p.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),l.advancedEntries.length>1&&e.jsx("button",{type:"button",onClick:()=>u(i),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},i))]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"serverAddress",children:"Server Address *"}),e.jsx(y,{id:"serverAddress",value:l.serverAddress,onChange:o=>d({serverAddress:o.target.value}),placeholder:"Enter server address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"port",children:"Port *"}),e.jsx(y,{id:"port",value:l.port,onChange:o=>d({port:o.target.value}),placeholder:"Enter port number",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeout",children:"Timeout"}),e.jsx(y,{id:"timeout",value:l.timeout,onChange:o=>d({timeout:o.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionSecurity",children:"Connection Security *"}),e.jsxs(B,{value:l.connectionSecurity,onValueChange:o=>d({connectionSecurity:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection security"})}),e.jsxs(V,{children:[e.jsx(S,{value:"explicit-ftps",children:"Explicit FTPS"}),e.jsx(S,{value:"implicit-ftps",children:"Implicit FTPS"}),e.jsx(S,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"userName",children:"User Name *"}),e.jsx(y,{id:"userName",value:l.userName,onChange:o=>d({userName:o.target.value}),placeholder:"Enter username"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Be,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:l.password,onValueChange:o=>d({password:o})})}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(c,{htmlFor:"connectionMode",children:"Connection Mode *"}),e.jsxs(B,{value:l.connectionMode,onValueChange:o=>d({connectionMode:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"permanently",children:"Permanently"}),e.jsx(S,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),s==="receiver"&&e.jsxs($,{value:"target",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetDirectory",children:"Target Directory *"}),e.jsx(y,{id:"targetDirectory",value:l.targetDirectory,onChange:o=>d({targetDirectory:o.target.value}),placeholder:"Enter target directory path"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetFileName",children:"File Name *"}),e.jsx(y,{id:"targetFileName",value:l.targetFileName,onChange:o=>d({targetFileName:o.target.value}),placeholder:"Enter file name"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"serverAddress",children:"Server Address *"}),e.jsx(y,{id:"serverAddress",value:l.serverAddress,onChange:o=>d({serverAddress:o.target.value}),placeholder:"Enter server address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"port",children:"Port *"}),e.jsx(y,{id:"port",value:l.port,onChange:o=>d({port:o.target.value}),placeholder:"Enter port number",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeout",children:"Timeout"}),e.jsx(y,{id:"timeout",value:l.timeout,onChange:o=>d({timeout:o.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionSecurity",children:"Connection Security *"}),e.jsxs(B,{value:l.connectionSecurity,onValueChange:o=>d({connectionSecurity:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection security"})}),e.jsxs(V,{children:[e.jsx(S,{value:"explicit-ftps",children:"Explicit FTPS"}),e.jsx(S,{value:"implicit-ftps",children:"Implicit FTPS"}),e.jsx(S,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"userName",children:"User Name *"}),e.jsx(y,{id:"userName",value:l.userName,onChange:o=>d({userName:o.target.value}),placeholder:"Enter username"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Be,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:l.password,onValueChange:o=>d({password:o})})}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(c,{htmlFor:"connectionMode",children:"Connection Mode *"}),e.jsxs(B,{value:l.connectionMode,onValueChange:o=>d({connectionMode:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"permanently",children:"Permanently"}),e.jsx(S,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e.jsxs($,{value:"processing",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),e.jsx(Le,{className:"mb-4"})]}),s==="sender"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),e.jsx(y,{id:"pollingInterval",value:l.pollingInterval,onChange:o=>d({pollingInterval:o.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"processingMode",children:"Processing Mode *"}),e.jsxs(B,{value:l.processingMode,onValueChange:o=>d({processingMode:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select processing mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"archive",children:"Archive"}),e.jsx(S,{value:"delete",children:"Delete"}),e.jsx(S,{value:"test",children:"Test"})]})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(c,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),e.jsxs(B,{value:l.emptyFileHandling,onValueChange:o=>d({emptyFileHandling:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select empty file handling"})}),e.jsxs(V,{children:[e.jsx(S,{value:"do-not-create",children:"Do not create message"}),e.jsx(S,{value:"process-empty",children:"Process empty files"}),e.jsx(S,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"createFileDirectory",checked:l.createFileDirectory,onCheckedChange:o=>d({createFileDirectory:o===!0})}),e.jsx(c,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"overwriteExistingFile",checked:l.overwriteExistingFile,onCheckedChange:o=>d({overwriteExistingFile:o===!0})}),e.jsx(c,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),e.jsxs(B,{value:l.fileConstructionMode,onValueChange:o=>d({fileConstructionMode:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select file construction mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"create",children:"Create"}),e.jsx(S,{value:"append",children:"Append"}),e.jsx(S,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"filePlacement",children:"File Placement *"}),e.jsxs(B,{value:l.filePlacement,onValueChange:o=>d({filePlacement:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select file placement"})}),e.jsxs(V,{children:[e.jsx(S,{value:"use-temporary-file",children:"Use Temporary File"}),e.jsx(S,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),e.jsxs(B,{value:l.emptyMessageHandling_receiver,onValueChange:o=>d({emptyMessageHandling_receiver:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select empty message handling"})}),e.jsxs(V,{children:[e.jsx(S,{value:"write-out-empty-file",children:"Write Out Empty File"}),e.jsx(S,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),e.jsx(y,{id:"maxConcurrentConnections",value:l.maxConcurrentConnections,onChange:o=>d({maxConcurrentConnections:o.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),s==="sender"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"enableDuplicateHandling",checked:l.enableDuplicateHandling,onCheckedChange:o=>d({enableDuplicateHandling:o===!0})}),e.jsx(c,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),l.enableDuplicateHandling&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),e.jsx(y,{id:"duplicateThreshold",value:l.duplicateMessageAlertThreshold,onChange:o=>d({duplicateMessageAlertThreshold:o.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"disableChannelOnExceed",checked:l.disableChannelOnExceed,onCheckedChange:o=>d({disableChannelOnExceed:o===!0})}),e.jsx(c,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}),s==="sender"&&e.jsx($,{value:"transformation",className:"mt-6",children:e.jsx(Is,{config:l.transformationConfig||{mode:"passthrough"},onChange:o=>d({transformationConfig:o}),adapterType:"FTP",disabled:!1})}),s==="sender"&&l.transformationConfig?.mode==="transform"&&e.jsx($,{value:"fileFormat",className:"mt-6",children:e.jsx(oa,{config:l.fileFormatConfig||{},onChange:o=>d({fileFormatConfig:o})})}),s==="sender"&&l.transformationConfig?.mode==="transform"&&e.jsx($,{value:"xmlConversion",className:"mt-6",children:e.jsx(Ps,{mode:s==="sender"?"INBOUND":"OUTBOUND",config:l.xmlConversion||{},onChange:o=>d({xmlConversion:o})})})]})})]})},Xi=({mode:s,onConfigChange:r})=>{const[l,j]=g.useState({serverAddress:"",port:"22",timeout:"",authenticationType:"",userName:"",password:"",publicKey:"",privateKey:"",passphrase:"",maxConcurrentConnections:"",retryConnection:"",retryConnectionDelay:"",connectionMode:"",sourceDirectory:"",fileName:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"passthrough",requiresStructure:!1}}),d=i=>{const p={...l,...i};j(p),r?.(p)},N=()=>{const i=[...l.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];d({advancedEntries:i})},C=(i,p,a)=>{const x=[...l.advancedEntries];x[i]={...x[i],[p]:a},d({advancedEntries:x})},u=i=>{if(l.advancedEntries.length>1){const p=l.advancedEntries.filter((a,x)=>x!==i);d({advancedEntries:p})}},o=()=>{switch(l.authenticationType){case"public-key":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),e.jsxs(B,{value:l.publicKey,onValueChange:i=>d({publicKey:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select a key pair from system"})}),e.jsxs(V,{children:[e.jsx(S,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),e.jsx(S,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),e.jsx(S,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),e.jsx(S,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),e.jsx(S,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),e.jsx(S,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Be,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:l.passphrase,onValueChange:i=>d({passphrase:i})})})]});case"username-password":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"userName",children:"User Name *"}),e.jsx(y,{id:"userName",value:l.userName,onChange:i=>d({userName:i.target.value}),placeholder:"Enter username"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Be,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:l.password,onValueChange:i=>d({password:i})})})]});case"dual":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"userName",children:"User Name *"}),e.jsx(y,{id:"userName",value:l.userName,onChange:i=>d({userName:i.target.value}),placeholder:"Enter username"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Be,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:l.password,onValueChange:i=>d({password:i})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),e.jsxs(B,{value:l.publicKey,onValueChange:i=>d({publicKey:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select a key pair from system"})}),e.jsxs(V,{children:[e.jsx(S,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),e.jsx(S,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),e.jsx(S,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),e.jsx(S,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),e.jsx(S,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),e.jsx(S,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Be,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:l.passphrase,onValueChange:i=>d({passphrase:i})})})]});case"dynamic":return e.jsx("div",{className:"md:col-span-2 p-4 border rounded-lg bg-muted/20",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dynamic authentication will be configured at runtime based on message content."})});default:return null}};return e.jsxs(G,{className:"w-full",children:[e.jsxs(z,{children:[e.jsxs(J,{children:["SFTP ",s==="sender"?"Inbound":"Outbound"," Adapter Configuration"]}),e.jsxs(X,{children:["Configure your SFTP ",s," adapter settings"]})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:s==="sender"?"source":"target",className:"w-full",children:[e.jsxs(Te,{className:`grid w-full ${s==="sender"?"grid-cols-5":"grid-cols-4"}`,children:[e.jsx(K,{value:s==="sender"?"source":"target",children:s==="sender"?"Source":"Target"}),e.jsx(K,{value:"processing",children:"Processing"}),s==="sender"&&e.jsx(K,{value:"transformation",children:"Transformation"}),s==="sender"&&l.transformationConfig?.mode==="transform"&&e.jsx(K,{value:"fileFormat",children:"File Format"}),s==="sender"&&l.transformationConfig?.mode==="transform"&&e.jsx(K,{value:"xmlConversion",children:"XML Conversion"})]}),s==="sender"&&e.jsxs($,{value:"source",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sourceDirectory",children:"Source Directory *"}),e.jsx(y,{id:"sourceDirectory",value:l.sourceDirectory,onChange:i=>d({sourceDirectory:i.target.value}),placeholder:"Enter source directory path"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fileName",children:"File Name *"}),e.jsx(y,{id:"fileName",value:l.fileName,onChange:i=>d({fileName:i.target.value}),placeholder:"Enter file name pattern"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"advancedSelection",checked:l.advancedSelection,onCheckedChange:i=>d({advancedSelection:i===!0})}),e.jsx(c,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),l.advancedSelection&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),e.jsx(y,{id:"exclusionMask",value:l.exclusionMask,onChange:i=>d({exclusionMask:i.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(c,{className:"text-sm font-medium",children:"Multiple File Selection"}),e.jsx("button",{type:"button",onClick:N,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),l.advancedEntries.map((i,p)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"Directory"}),e.jsx(y,{value:i.directory,onChange:a=>C(p,"directory",a.target.value),placeholder:"Directory path",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"File Name"}),e.jsx(y,{value:i.fileName,onChange:a=>C(p,"fileName",a.target.value),placeholder:"File name pattern",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"Exclusion Mask"}),e.jsx(y,{value:i.exclusionMask,onChange:a=>C(p,"exclusionMask",a.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),l.advancedEntries.length>1&&e.jsx("button",{type:"button",onClick:()=>u(p),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},p))]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"serverAddress",children:"Server Address *"}),e.jsx(y,{id:"serverAddress",value:l.serverAddress,onChange:i=>d({serverAddress:i.target.value}),placeholder:"Enter server address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"port",children:"Port *"}),e.jsx(y,{id:"port",value:l.port,onChange:i=>d({port:i.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeout",children:"Timeout"}),e.jsx(y,{id:"timeout",value:l.timeout,onChange:i=>d({timeout:i.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"authenticationType",children:"Authentication *"}),e.jsxs(B,{value:l.authenticationType,onValueChange:i=>d({authenticationType:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select authentication type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"public-key",children:"Public Key"}),e.jsx(S,{value:"username-password",children:"User Name/Password"}),e.jsx(S,{value:"dual",children:"Dual"}),e.jsx(S,{value:"dynamic",children:"Dynamic"})]})]})]}),o(),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),e.jsx(y,{id:"maxConcurrentConnections",value:l.maxConcurrentConnections,onChange:i=>d({maxConcurrentConnections:i.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"retryConnection",children:"Retry Connection"}),e.jsx(y,{id:"retryConnection",value:l.retryConnection,onChange:i=>d({retryConnection:i.target.value}),placeholder:"Number of retry attempts",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"retryConnectionDelay",children:'Retry Connection Delay "in sec"'}),e.jsx(y,{id:"retryConnectionDelay",value:l.retryConnectionDelay,onChange:i=>d({retryConnectionDelay:i.target.value}),placeholder:"Delay between retries in seconds",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionMode",children:"Connection Mode *"}),e.jsxs(B,{value:l.connectionMode,onValueChange:i=>d({connectionMode:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"permanently",children:"Permanently"}),e.jsx(S,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),s==="receiver"&&e.jsxs($,{value:"target",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetDirectory",children:"Target Directory *"}),e.jsx(y,{id:"targetDirectory",value:l.targetDirectory,onChange:i=>d({targetDirectory:i.target.value}),placeholder:"Enter target directory path"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetFileName",children:"File Name *"}),e.jsx(y,{id:"targetFileName",value:l.targetFileName,onChange:i=>d({targetFileName:i.target.value}),placeholder:"Enter file name"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"serverAddress",children:"Server Address *"}),e.jsx(y,{id:"serverAddress",value:l.serverAddress,onChange:i=>d({serverAddress:i.target.value}),placeholder:"Enter server address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"port",children:"Port *"}),e.jsx(y,{id:"port",value:l.port,onChange:i=>d({port:i.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeout",children:"Timeout"}),e.jsx(y,{id:"timeout",value:l.timeout,onChange:i=>d({timeout:i.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"authenticationType",children:"Authentication *"}),e.jsxs(B,{value:l.authenticationType,onValueChange:i=>d({authenticationType:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select authentication type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"public-key",children:"Public Key"}),e.jsx(S,{value:"username-password",children:"User Name/Password"}),e.jsx(S,{value:"dual",children:"Dual"}),e.jsx(S,{value:"dynamic",children:"Dynamic"})]})]})]}),o(),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(c,{htmlFor:"connectionMode",children:"Connection Mode *"}),e.jsxs(B,{value:l.connectionMode,onValueChange:i=>d({connectionMode:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"permanently",children:"Permanently"}),e.jsx(S,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e.jsx($,{value:"processing",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),e.jsx(Le,{className:"mb-4"})]}),s==="sender"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollingInterval",children:'Polling Interval "Secs" *'}),e.jsx(y,{id:"pollingInterval",value:l.pollingInterval,onChange:i=>d({pollingInterval:i.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"processingMode",children:"Processing Mode *"}),e.jsxs(B,{value:l.processingMode,onValueChange:i=>d({processingMode:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select processing mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"archive",children:"Archive"}),e.jsx(S,{value:"delete",children:"Delete"}),e.jsx(S,{value:"keep-file",children:"Keep File"})]})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(c,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),e.jsxs(B,{value:l.emptyFileHandling,onValueChange:i=>d({emptyFileHandling:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select empty file handling"})}),e.jsxs(V,{children:[e.jsx(S,{value:"do-not-create-message",children:"Do not create message"}),e.jsx(S,{value:"process-empty-files",children:"Process empty files"}),e.jsx(S,{value:"skip-empty-files",children:"Skip empty files"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"enableDuplicateHandling",checked:l.enableDuplicateHandling,onCheckedChange:i=>d({enableDuplicateHandling:i===!0})}),e.jsx(c,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),l.enableDuplicateHandling&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"duplicateMessageAlertThreshold",children:"Duplicate message alert threshold"}),e.jsx(y,{id:"duplicateMessageAlertThreshold",value:l.duplicateMessageAlertThreshold,onChange:i=>d({duplicateMessageAlertThreshold:i.target.value}),placeholder:"Enter threshold value",type:"number"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"disableChannelOnExceed",checked:l.disableChannelOnExceed,onCheckedChange:i=>d({disableChannelOnExceed:i===!0})}),e.jsx(c,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"createFileDirectory",checked:l.createFileDirectory,onCheckedChange:i=>d({createFileDirectory:i===!0})}),e.jsx(c,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"overwriteExistingFile",checked:l.overwriteExistingFile,onCheckedChange:i=>d({overwriteExistingFile:i===!0})}),e.jsx(c,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),e.jsxs(B,{value:l.fileConstructionMode,onValueChange:i=>d({fileConstructionMode:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select file construction mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"create",children:"Create"}),e.jsx(S,{value:"append",children:"Append"}),e.jsx(S,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"filePlacement",children:"File Placement *"}),e.jsxs(B,{value:l.filePlacement,onValueChange:i=>d({filePlacement:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select file placement"})}),e.jsxs(V,{children:[e.jsx(S,{value:"use-temporary-file",children:"Use Temporary File"}),e.jsx(S,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),e.jsxs(B,{value:l.emptyMessageHandling_receiver,onValueChange:i=>d({emptyMessageHandling_receiver:i}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select empty message handling"})}),e.jsxs(V,{children:[e.jsx(S,{value:"write-out-empty-file",children:"Write Out Empty File"}),e.jsx(S,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),e.jsx(y,{id:"maxConcurrentConnections",value:l.maxConcurrentConnections,onChange:i=>d({maxConcurrentConnections:i.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]})]})]})]})}),s==="sender"&&e.jsx($,{value:"transformation",className:"mt-6",children:e.jsx(Is,{config:l.transformationConfig||{mode:"passthrough"},onChange:i=>d({transformationConfig:i}),adapterType:"SFTP",disabled:!1})}),s==="sender"&&l.transformationConfig?.mode==="transform"&&e.jsx($,{value:"fileFormat",className:"mt-6",children:e.jsx(oa,{config:l.fileFormatConfig||{},onChange:i=>d({fileFormatConfig:i})})}),s==="sender"&&l.transformationConfig?.mode==="transform"&&e.jsx($,{value:"xmlConversion",className:"mt-6",children:e.jsx(Ps,{mode:s==="sender"?"INBOUND":"OUTBOUND",config:l.xmlConversion||{},onChange:i=>d({xmlConversion:i})})})]})})]})},Qi=({mode:s,onConfigChange:r})=>{const[l,j]=g.useState({sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"transform",requiresStructure:!0}}),d=o=>{const i={...l,...o};j(i),r?.(i)},N=()=>{const o=[...l.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];d({advancedEntries:o})},C=(o,i,p)=>{const a=[...l.advancedEntries];a[o]={...a[o],[i]:p},d({advancedEntries:a})},u=o=>{if(l.advancedEntries.length>1){const i=l.advancedEntries.filter((p,a)=>a!==o);d({advancedEntries:i})}};return e.jsxs(G,{className:"w-full",children:[e.jsxs(z,{children:[e.jsxs(J,{children:["File ",s==="sender"?"Inbound":"Outbound"," Adapter Configuration"]}),e.jsxs(X,{children:["Configure your File ",s," adapter settings"]})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:s==="sender"?"source":"target",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-5",children:[e.jsx(K,{value:s==="sender"?"source":"target",children:s==="sender"?"Source":"Target"}),e.jsx(K,{value:"processing",children:"Processing"}),e.jsx(K,{value:"transformation",children:"Transformation"}),e.jsx(K,{value:"fileFormat",children:"File Format"}),e.jsx(K,{value:"xmlConversion",children:"XML Conversion"})]}),s==="sender"&&e.jsx($,{value:"source",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sourceDirectory",children:"Source Directory *"}),e.jsx(y,{id:"sourceDirectory",value:l.sourceDirectory,onChange:o=>d({sourceDirectory:o.target.value}),placeholder:"Enter source directory path"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fileName",children:"File Name *"}),e.jsx(y,{id:"fileName",value:l.fileName,onChange:o=>d({fileName:o.target.value}),placeholder:"Enter file name pattern"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sorting",children:"Sorting"}),e.jsxs(B,{value:l.sorting,onValueChange:o=>d({sorting:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select sorting option"})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"timestamp-ascending",children:"Timestamp Ascending"}),e.jsx(S,{value:"timestamp-descending",children:"Timestamp Descending"}),e.jsx(S,{value:"file-size",children:"File Size"}),e.jsx(S,{value:"file-name",children:"File Name"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"advancedSelection",checked:l.advancedSelection,onCheckedChange:o=>d({advancedSelection:o===!0})}),e.jsx(c,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),l.advancedSelection&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),e.jsx(y,{id:"exclusionMask",value:l.exclusionMask,onChange:o=>d({exclusionMask:o.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(c,{className:"text-sm font-medium",children:"Multiple File Selection"}),e.jsx("button",{type:"button",onClick:N,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),l.advancedEntries.map((o,i)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"Directory"}),e.jsx(y,{value:o.directory,onChange:p=>C(i,"directory",p.target.value),placeholder:"Directory path",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"File Name"}),e.jsx(y,{value:o.fileName,onChange:p=>C(i,"fileName",p.target.value),placeholder:"File name pattern",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-xs",children:"Exclusion Mask"}),e.jsx(y,{value:o.exclusionMask,onChange:p=>C(i,"exclusionMask",p.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),l.advancedEntries.length>1&&e.jsx("button",{type:"button",onClick:()=>u(i),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},i))]})]})]})}),s==="receiver"&&e.jsx($,{value:"target",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetDirectory",children:"Target Directory *"}),e.jsx(y,{id:"targetDirectory",value:l.targetDirectory,onChange:o=>d({targetDirectory:o.target.value}),placeholder:"Enter target directory path"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetFileName",children:"File Name *"}),e.jsx(y,{id:"targetFileName",value:l.targetFileName,onChange:o=>d({targetFileName:o.target.value}),placeholder:"Enter file name"})]})]})]})}),e.jsxs($,{value:"processing",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),e.jsx(Le,{className:"mb-4"})]}),s==="sender"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),e.jsx(y,{id:"pollingInterval",value:l.pollingInterval,onChange:o=>d({pollingInterval:o.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"processingMode",children:"Processing Mode *"}),e.jsxs(B,{value:l.processingMode,onValueChange:o=>d({processingMode:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select processing mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"archive",children:"Archive"}),e.jsx(S,{value:"delete",children:"Delete"}),e.jsx(S,{value:"test",children:"Test"})]})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(c,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),e.jsxs(B,{value:l.emptyFileHandling,onValueChange:o=>d({emptyFileHandling:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select empty file handling"})}),e.jsxs(V,{children:[e.jsx(S,{value:"do-not-create",children:"Do not create message"}),e.jsx(S,{value:"process-empty",children:"Process empty files"}),e.jsx(S,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"createFileDirectory",checked:l.createFileDirectory,onCheckedChange:o=>d({createFileDirectory:o===!0})}),e.jsx(c,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"overwriteExistingFile",checked:l.overwriteExistingFile,onCheckedChange:o=>d({overwriteExistingFile:o===!0})}),e.jsx(c,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),e.jsxs(B,{value:l.fileConstructionMode,onValueChange:o=>d({fileConstructionMode:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select file construction mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"create",children:"Create"}),e.jsx(S,{value:"append",children:"Append"}),e.jsx(S,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"filePlacement",children:"File Placement *"}),e.jsxs(B,{value:l.filePlacement,onValueChange:o=>d({filePlacement:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select file placement"})}),e.jsxs(V,{children:[e.jsx(S,{value:"use-temporary-file",children:"Use Temporary File"}),e.jsx(S,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),e.jsxs(B,{value:l.emptyMessageHandling_receiver,onValueChange:o=>d({emptyMessageHandling_receiver:o}),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select empty message handling"})}),e.jsxs(V,{children:[e.jsx(S,{value:"write-out-empty-file",children:"Write Out Empty File"}),e.jsx(S,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),e.jsx(y,{id:"maxConcurrentConnections",value:l.maxConcurrentConnections,onChange:o=>d({maxConcurrentConnections:o.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),s==="sender"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),e.jsx(Le,{className:"mb-4"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"enableDuplicateHandling",checked:l.enableDuplicateHandling,onCheckedChange:o=>d({enableDuplicateHandling:o===!0})}),e.jsx(c,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),l.enableDuplicateHandling&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),e.jsx(y,{id:"duplicateThreshold",value:l.duplicateMessageAlertThreshold,onChange:o=>d({duplicateMessageAlertThreshold:o.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"disableChannelOnExceed",checked:l.disableChannelOnExceed,onCheckedChange:o=>d({disableChannelOnExceed:o===!0})}),e.jsx(c,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}),e.jsx($,{value:"transformation",className:"mt-6",children:e.jsx(Is,{config:l.transformationConfig||{mode:"transform"},onChange:o=>d({transformationConfig:o}),adapterType:"FILE",disabled:!1})}),l.transformationConfig?.mode==="transform"&&e.jsx($,{value:"fileFormat",className:"mt-6",children:e.jsx(oa,{config:l.fileFormatConfig||{},onChange:o=>d({fileFormatConfig:o})})}),l.transformationConfig?.mode==="transform"&&e.jsx($,{value:"xmlConversion",className:"mt-6",children:e.jsx(Ps,{mode:s==="sender"?"INBOUND":"OUTBOUND",config:l.xmlConversion||{},onChange:o=>d({xmlConversion:o})})})]})})]})},At=({config:s,onChange:r,adapterType:l,mode:j,disabled:d=!1})=>{const[N,C]=g.useState(""),u=A=>{const n=[];try{JSON.parse(A)}catch(I){n.push(`Invalid JSON: ${I.message}`)}return n},o=A=>{const n=[];try{new DOMParser().parseFromString(A,"text/xml").querySelector("parsererror")&&n.push("Invalid XML format")}catch(I){n.push(`XML parsing error: ${I.message}`)}return n},i=A=>{const n={...s,samplePayload:A};if(A){const I=s.format==="JSON"?u(A):o(A);if(n.validationErrors=I,s.format==="JSON"&&I.length===0)try{const v=JSON.parse(A),k=p(v);C(k),n.convertedXml=k}catch(v){le.error(ne.UI,"Error converting to XML preview",{error:v})}}r(n)},p=A=>{const n=(I,v="")=>{let k="";return Array.isArray(I)?I.forEach(E=>{k+=`${v}<item>
${n(E,v+" ")}${v}</item>
`}):typeof I=="object"&&I!==null?Object.entries(I).forEach(([E,D])=>{const Q=E.replace(/[^a-zA-Z0-9_-]/g,"_");typeof D=="object"&&D!==null?k+=`${v}<${Q}>
${n(D,v+" ")}${v}</${Q}>
`:k+=`${v}<${Q}>${a(String(D))}</${Q}>
`}):k+=`${v}${a(String(I))}
`,k};return`<?xml version="1.0" encoding="UTF-8"?>
<Message>
${n(A," ")}</Message>`},a=A=>A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),x=()=>{if(!(!s.samplePayload||s.format!=="JSON"))try{const A=JSON.parse(s.samplePayload),n=T(A);r({...s,jsonSchema:JSON.stringify(n,null,2)})}catch(A){le.error(ne.UI,"Error generating schema",{error:A})}},T=A=>{const n={$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{}},I=v=>{if(v===null)return{type:"null"};if(typeof v=="string")return{type:"string"};if(typeof v=="number")return{type:"number"};if(typeof v=="boolean")return{type:"boolean"};if(Array.isArray(v))return v.length>0?{type:"array",items:I(v[0])}:{type:"array"};if(typeof v=="object"){const k={type:"object",properties:{}};return Object.entries(v).forEach(([E,D])=>{k.properties[E]=I(D)}),k}return{type:"string"}};return Object.entries(A).forEach(([v,k])=>{n.properties[v]=I(k)}),n};return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Payload Structure Definition"}),e.jsxs(X,{children:["Define the structure of ",j==="sender"?"incoming":"outgoing"," payloads for your ",l," adapter"]})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs(fe,{children:[e.jsx(es,{className:"h-4 w-4"}),e.jsxs(Ce,{children:["For REST/HTTP adapters, the payload structure will be automatically converted to XML for mapping.",s.format==="JSON"&&" JSON payloads will be transformed to XML with appropriate element names."]})]}),e.jsxs(ke,{defaultValue:"sample",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-3",children:[e.jsx(K,{value:"sample",children:"Sample Payload"}),e.jsx(K,{value:"schema",children:"Schema Definition"}),e.jsx(K,{value:"preview",disabled:!s.samplePayload||s.format!=="JSON",children:"XML Preview"})]}),e.jsxs($,{value:"sample",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Sample ",s.format," Payload"]}),e.jsx(oe,{placeholder:s.format==="JSON"?`{
 "orderId": "12345",
 "customer": {
 "name": "John Doe",
 "email": "john@example.com"
 },
 "items": [...]
}`:`<Order>
 <OrderId>12345</OrderId>
 <Customer>
 <Name>John Doe</Name>
 </Customer>
</Order>`,className:"font-mono text-sm min-h-[300px]",value:s.samplePayload||"",onChange:A=>i(A.target.value),disabled:d}),s.validationErrors&&s.validationErrors.length>0&&e.jsx("div",{className:"space-y-1",children:s.validationErrors.map((A,n)=>e.jsx("p",{className:"text-sm text-destructive",children:A},n))}),s.samplePayload&&(!s.validationErrors||s.validationErrors.length===0)&&e.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[e.jsx(ts,{className:"h-3 w-3"}),"Valid ",s.format," payload"]})]}),s.format==="JSON"&&s.samplePayload&&(!s.validationErrors||s.validationErrors.length===0)&&e.jsxs(Ae,{variant:"outline",size:"sm",onClick:x,disabled:d,children:[e.jsx(vl,{className:"h-4 w-4 mr-2"}),"Generate JSON Schema"]})]}),e.jsx($,{value:"schema",className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:[s.format," Schema"]}),e.jsx(oe,{placeholder:s.format==="JSON"?"JSON Schema (optional)":"XSD Schema (optional)",className:"font-mono text-sm min-h-[300px]",value:s.format==="JSON"?s.jsonSchema:s.xmlSchema,onChange:A=>r({...s,[s.format==="JSON"?"jsonSchema":"xmlSchema"]:A.target.value}),disabled:d}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema definition is optional but helps with validation and documentation"})]})}),e.jsxs($,{value:"preview",className:"space-y-4",children:[e.jsxs(fe,{children:[e.jsx(gl,{className:"h-4 w-4"}),e.jsx(Ce,{children:"This preview shows how your JSON payload will be converted to XML for mapping"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"XML Conversion Preview"}),e.jsx(oe,{className:"font-mono text-sm min-h-[300px] bg-muted",value:N,readOnly:!0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This XML structure will be used in the mapping screen"})]})]})]})]})]})};function Zi({configuration:s,onConfigurationChange:r}){const{businessComponents:l,loading:j}=bt(),{structures:d}=sa(),[N,C]=g.useState(""),[u,o]=g.useState([]),[i,p]=g.useState(s.transformationConfig||{mode:"transform",requiresStructure:!0}),[a,x]=g.useState(s.payloadStructureConfig||{format:"JSON"});g.useEffect(()=>{s.processingMode||r("processingMode","ASYNCHRONOUS")},[s.processingMode,r]),g.useEffect(()=>{if(N){const n=d.filter(I=>I.usage==="source");o(n)}else o([])},[N,d]);const T=n=>{p(n),r("transformationConfig",n)},A=n=>{x(n),r("payloadStructureConfig",n)};return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"HTTP Inbound Configuration"}),e.jsx(X,{children:"Configure your HTTP sender adapter settings"})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-5",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing"}),e.jsx(K,{value:"transformation",children:"Transformation"}),e.jsx(K,{value:"payload",disabled:i.mode!=="transform",children:"Payload Structure"}),e.jsx(K,{value:"xmlConversion",disabled:i.mode!=="transform",children:"XML Conversion"})]}),e.jsx($,{value:"source",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Connection Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"endpointUrl",children:"Endpoint URL"}),e.jsx(y,{id:"endpointUrl",type:"text",placeholder:"The URL where the 3rd party sends requests",value:s.endpointUrl||"",onChange:n=>r("endpointUrl",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"httpMethod",children:"HTTP Method"}),e.jsxs(B,{value:s.httpMethod||"",onValueChange:n=>r("httpMethod",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select HTTP method"})}),e.jsxs(V,{children:[e.jsx(S,{value:"GET",children:"GET"}),e.jsx(S,{value:"POST",children:"POST"}),e.jsx(S,{value:"PUT",children:"PUT"}),e.jsx(S,{value:"DELETE",children:"DELETE"}),e.jsx(S,{value:"PATCH",children:"PATCH"}),e.jsx(S,{value:"HEAD",children:"HEAD"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"contentType",children:"Content-Type"}),e.jsxs(B,{value:s.contentType||"",onValueChange:n=>r("contentType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select media type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"application/json",children:"application/json"}),e.jsx(S,{value:"application/xml",children:"application/xml"}),e.jsx(S,{value:"text/xml",children:"text/xml"}),e.jsx(S,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),e.jsx(S,{value:"text/plain",children:"text/plain"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sslConfig",children:"SSL/TLS Configuration"}),e.jsx(oe,{id:"sslConfig",placeholder:"SSL certificates/truststore info for HTTPS",value:s.sslConfig||"",onChange:n=>r("sslConfig",n.target.value),className:"min-h-[80px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsx(y,{id:"apiVersion",type:"text",placeholder:"Version of the API being called",value:s.apiVersion||"",onChange:n=>r("apiVersion",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"rateLimits",children:"Throttling/Rate Limits"}),e.jsx(y,{id:"rateLimits",type:"text",placeholder:"Limits on calls per time period",value:s.rateLimits||"",onChange:n=>r("rateLimits",n.target.value)})]})]})}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),e.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:"processingMode",className:"text-sm font-medium",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),e.jsx(Z,{id:"processingMode",checked:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:n=>r("processingMode",n?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),e.jsx(y,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:s.asyncResponseTimeout||"",onChange:n=>r("asyncResponseTimeout",parseInt(n.target.value)||3e4)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),e.jsxs(B,{value:s.asyncResponseFormat||"HTTP_202",onValueChange:n=>r("asyncResponseFormat",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select response format"})}),e.jsxs(V,{children:[e.jsx(S,{value:"HTTP_202",children:"HTTP 202 Accepted"}),e.jsx(S,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),e.jsx(y,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:s.asyncCallbackUrl||"",onChange:n=>r("asyncCallbackUrl",n.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Data Handling"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"businessComponent",children:"Business Component"}),e.jsxs(B,{value:N,onValueChange:n=>{C(n),r("businessComponentId",n)},disabled:j,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select a business component"})}),e.jsx(V,{className:"bg-background border z-50",children:l.map(n=>e.jsx(S,{value:n.id,children:n.name},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),e.jsxs(B,{value:s.requestPayloadFormat||"",onValueChange:n=>r("requestPayloadFormat",n),disabled:!N||u.length===0,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select request structure"})}),e.jsx(V,{className:"bg-background border z-50",children:u.map(n=>e.jsxs(S,{value:n.id,children:[n.name," (",n.type,")"]},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"responseFormat",children:"Response Format"}),e.jsxs(B,{value:s.responseFormat||"",onValueChange:n=>r("responseFormat",n),disabled:!N||u.length===0,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select response structure"})}),e.jsx(V,{className:"bg-background border z-50",children:u.map(n=>e.jsxs(S,{value:n.id,children:[n.name," (",n.type,")"]},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"customHeaders",children:"Custom Headers"}),e.jsx(oe,{id:"customHeaders",placeholder:"Additional HTTP headers needed (e.g., correlation ID)",value:s.customHeaders||"",onChange:n=>r("customHeaders",n.target.value),className:"min-h-[80px]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Security"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"authenticationType",children:"Authentication Type"}),e.jsxs(B,{value:s.authenticationType||"",onValueChange:n=>r("authenticationType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select authentication method"})}),e.jsxs(V,{children:[e.jsx(S,{value:"basic",children:"Basic Auth"}),e.jsx(S,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),e.jsx(S,{value:"api-key",children:"API Key"}),e.jsx(S,{value:"jwt",children:"JWT"})]})]})]}),s.authenticationType==="basic"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"basicUsername",children:"Username"}),e.jsx(y,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:s.basicUsername||"",onChange:n=>r("basicUsername",n.target.value)})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(Be,{name:"basicPassword",label:"Password",placeholder:"Basic auth password",value:s.basicPassword||"",onValueChange:n=>r("basicPassword",n),showConfirmation:!1})})]}),s.authenticationType==="oauth2-bearer"&&e.jsx("div",{className:"space-y-2",children:e.jsx(Be,{name:"bearerToken",label:"Bearer Token",placeholder:"OAuth2 bearer token",value:s.bearerToken||"",onValueChange:n=>r("bearerToken",n),showConfirmation:!1})}),s.authenticationType==="api-key"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKeyName",children:"API Key Name"}),e.jsx(y,{id:"apiKeyName",type:"text",placeholder:"API key header name (e.g., X-API-Key)",value:s.apiKeyName||"",onChange:n=>r("apiKeyName",n.target.value)})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(Be,{name:"apiKeyValue",label:"API Key Value",placeholder:"API key value",value:s.apiKeyValue||"",onValueChange:n=>r("apiKeyValue",n),showConfirmation:!1})})]}),s.authenticationType==="jwt"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"jwtToken",children:"JWT Token"}),e.jsx(oe,{id:"jwtToken",placeholder:"JWT token or signing key",value:s.jwtToken||"",onChange:n=>r("jwtToken",n.target.value),className:"min-h-[80px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"jwtAlgorithm",children:"JWT Algorithm"}),e.jsxs(B,{value:s.jwtAlgorithm||"",onValueChange:n=>r("jwtAlgorithm",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select JWT algorithm"})}),e.jsxs(V,{children:[e.jsx(S,{value:"HS256",children:"HS256"}),e.jsx(S,{value:"HS384",children:"HS384"}),e.jsx(S,{value:"HS512",children:"HS512"}),e.jsx(S,{value:"RS256",children:"RS256"}),e.jsx(S,{value:"RS384",children:"RS384"}),e.jsx(S,{value:"RS512",children:"RS512"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Response & Error Handling"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"errorHandling",children:"Error Handling"}),e.jsx(oe,{id:"errorHandling",placeholder:"Expected error codes and their meanings",value:s.errorHandling||"",onChange:n=>r("errorHandling",n.target.value),className:"min-h-[80px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"retryPolicy",children:"Retry Policy"}),e.jsx(oe,{id:"retryPolicy",placeholder:"Instructions on retries or idempotency",value:s.retryPolicy||"",onChange:n=>r("retryPolicy",n.target.value),className:"min-h-[80px]"})]})]})]}),e.jsx($,{value:"transformation",className:"mt-6",children:e.jsx(Is,{config:i,onChange:T,adapterType:"HTTP",dataStructures:u,disabled:!1})}),i.mode==="transform"&&e.jsx($,{value:"payload",className:"mt-6",children:e.jsx(At,{config:a,onChange:A,adapterType:"HTTP",mode:"sender",disabled:!1})}),i.mode==="transform"&&e.jsx($,{value:"xmlConversion",className:"mt-6",children:e.jsx(Ps,{mode:"INBOUND",config:s.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},onChange:n=>r("xmlConversion",n)})})]})})]})}const ua=({id:s,label:r,value:l,onChange:j,businessComponentId:d,placeholder:N="Select certificate",required:C=!1})=>{const[u,o]=g.useState([]),[i,p]=g.useState(!0);g.useEffect(()=>{(async()=>{try{p(!0);const T=await cl.getAllCertificates(d);T.success&&T.data?o(T.data):(le.error(ne.UI,"Failed to fetch certificates",{error:T.error}),o([]))}catch(T){le.error(ne.UI,"Error fetching certificates",{error:T}),o([]),Vt({title:"Error",description:"Failed to load certificates",variant:"destructive"})}finally{p(!1)}})()},[d]);const a=u.filter(x=>x.status==="active");return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:s,className:"flex items-center gap-1",children:[r,C&&e.jsx("span",{className:"text-destructive",children:"*"})]}),i?e.jsx(Yr,{className:"h-10 w-full"}):e.jsxs(B,{value:l,onValueChange:j,children:[e.jsx(U,{id:s,children:e.jsx(W,{placeholder:N})}),e.jsx(V,{children:a.length===0?e.jsxs(S,{value:"",disabled:!0,children:["No certificates available ",d?"for this business component":""]}):a.map(x=>e.jsx(S,{value:x.id,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:x.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[x.type,"  ",x.issuer]})]})},x.id))})]})]})};function ec({configuration:s,onConfigurationChange:r,businessComponentId:l}){const[j,d]=g.useState(s.transformationConfig||{mode:"transform",requiresStructure:!0}),[N,C]=g.useState(s.payloadStructureConfig||{format:"JSON"}),u=i=>{d(i),r("transformationConfig",i)},o=i=>{C(i),r("payloadStructureConfig",i)};return g.useEffect(()=>{s.processingMode||r("processingMode","ASYNCHRONOUS")},[s.processingMode,r]),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"HTTP Outbound Configuration"}),e.jsx(X,{children:"Configure your HTTP receiver adapter settings"})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"target",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-5",children:[e.jsx(K,{value:"target",children:"Target"}),e.jsx(K,{value:"processing",children:"Processing"}),e.jsx(K,{value:"transformation",children:"Transformation"}),e.jsx(K,{value:"payload",disabled:j.mode!=="transform",children:"Payload Structure"}),e.jsx(K,{value:"xmlConversion",disabled:j.mode!=="transform",children:"XML Conversion"})]}),e.jsx($,{value:"target",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Connection"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),e.jsx(y,{id:"targetEndpointUrl",type:"text",placeholder:"Full URL of the 3rd party API endpoint",value:s.targetEndpointUrl||"",onChange:i=>r("targetEndpointUrl",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"httpMethod",children:"HTTP Method"}),e.jsxs(B,{value:s.httpMethod||"",onValueChange:i=>r("httpMethod",i),children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select HTTP method"})}),e.jsxs(V,{className:"bg-background border z-50",children:[e.jsx(S,{value:"GET",children:"GET"}),e.jsx(S,{value:"POST",children:"POST"}),e.jsx(S,{value:"PUT",children:"PUT"}),e.jsx(S,{value:"DELETE",children:"DELETE"}),e.jsx(S,{value:"PATCH",children:"PATCH"}),e.jsx(S,{value:"HEAD",children:"HEAD"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionTimeout",children:"Connection Timeout"}),e.jsx(y,{id:"connectionTimeout",type:"number",placeholder:"Max time to wait to establish connection (seconds)",value:s.connectionTimeout||"",onChange:i=>r("connectionTimeout",parseInt(i.target.value)||0)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"readTimeout",children:"Read Timeout"}),e.jsx(y,{id:"readTimeout",type:"number",placeholder:"Max time to wait for response (seconds)",value:s.readTimeout||"",onChange:i=>r("readTimeout",parseInt(i.target.value)||0)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"useProxy",checked:s.useProxy||!1,onCheckedChange:i=>r("useProxy",i)}),e.jsx(c,{htmlFor:"useProxy",children:"Use Proxy Settings"})]}),s.useProxy&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"proxyServer",children:"Server"}),e.jsx(y,{id:"proxyServer",type:"text",placeholder:"Proxy server address",value:s.proxyServer||"",onChange:i=>r("proxyServer",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"proxyPort",children:"Port"}),e.jsx(y,{id:"proxyPort",type:"number",placeholder:"Proxy port",value:s.proxyPort||"",onChange:i=>r("proxyPort",parseInt(i.target.value)||0)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"proxyUsername",children:"User Name"}),e.jsx(y,{id:"proxyUsername",type:"text",placeholder:"Proxy username",value:s.proxyUsername||"",onChange:i=>r("proxyUsername",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"proxyPassword",children:"Password"}),e.jsx(y,{id:"proxyPassword",type:"password",placeholder:"Proxy password",value:s.proxyPassword||"",onChange:i=>r("proxyPassword",i.target.value)})]})]})]})]})}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),e.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:"processingMode",className:"text-sm font-medium",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),e.jsx(Z,{id:"processingMode",checked:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:i=>r("processingMode",i?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(s.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),e.jsx(y,{id:"responseTimeout",type:"number",placeholder:"30000",value:s.responseTimeout||"",onChange:i=>r("responseTimeout",parseInt(i.target.value)||3e4)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"waitForResponse",checked:s.waitForResponse!==!1,onCheckedChange:i=>r("waitForResponse",i)}),e.jsx(c,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),s.processingMode==="ASYNCHRONOUS"&&e.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),e.jsx(y,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:s.asyncCorrelationId||"",onChange:i=>r("asyncCorrelationId",i.target.value)})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Security"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"authenticationType",children:"Authentication Type"}),e.jsxs(B,{value:s.authenticationType||"",onValueChange:i=>r("authenticationType",i),children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select authentication method"})}),e.jsxs(V,{className:"bg-background border z-50",children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"basic",children:"Basic"}),e.jsx(S,{value:"oauth2-client-credentials",children:"OAuth2 Client Credentials"}),e.jsx(S,{value:"client-certificate",children:"Client Certificate"})]})]})]}),s.authenticationType==="basic"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"basicUsername",children:"Username"}),e.jsx(y,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:s.basicUsername||"",onChange:i=>r("basicUsername",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"basicPassword",children:"Password"}),e.jsx(y,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:s.basicPassword||"",onChange:i=>r("basicPassword",i.target.value)})]})]}),s.authenticationType==="oauth2-client-credentials"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientId",children:"Client ID"}),e.jsx(y,{id:"clientId",type:"text",placeholder:"OAuth2 client ID",value:s.clientId||"",onChange:i=>r("clientId",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientSecret",children:"Client Secret"}),e.jsx(y,{id:"clientSecret",type:"password",placeholder:"OAuth2 client secret",value:s.clientSecret||"",onChange:i=>r("clientSecret",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"tokenUrl",children:"Token URL"}),e.jsx(y,{id:"tokenUrl",type:"text",placeholder:"OAuth2 token endpoint URL",value:s.tokenUrl||"",onChange:i=>r("tokenUrl",i.target.value)})]})]}),s.authenticationType==="client-certificate"&&e.jsx("div",{className:"space-y-4",children:e.jsx(ua,{id:"certificate",label:"Client Certificate",value:s.certificateId||"",onChange:i=>r("certificateId",i),businessComponentId:l,placeholder:"Select client certificate",required:!0})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Request"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"requestHeaders",children:"Request Headers"}),e.jsx(oe,{id:"requestHeaders",placeholder:"Headers to send with the HTTP request",value:s.requestHeaders||"",onChange:i=>r("requestHeaders",i.target.value),className:"min-h-[80px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),e.jsx(oe,{id:"requestPayloadFormat",placeholder:"Expected format/schema for request body",value:s.requestPayloadFormat||"",onChange:i=>r("requestPayloadFormat",i.target.value),className:"min-h-[80px]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Response"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"responseHandling",children:"Response Handling"}),e.jsx(oe,{id:"responseHandling",placeholder:"Expected response format and handling logic",value:s.responseHandling||"",onChange:i=>r("responseHandling",i.target.value),className:"min-h-[80px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"retryPolicy",children:"Retry Policy"}),e.jsx(oe,{id:"retryPolicy",placeholder:"Rules for retrying failed requests",value:s.retryPolicy||"",onChange:i=>r("retryPolicy",i.target.value),className:"min-h-[80px]"})]})]})]}),e.jsx($,{value:"transformation",className:"mt-6",children:e.jsx(Is,{config:j,onChange:u,adapterType:"HTTP",disabled:!1})}),j.mode==="transform"&&e.jsx($,{value:"payload",className:"mt-6",children:e.jsx(At,{config:N,onChange:o,adapterType:"HTTP",mode:"receiver",disabled:!1})}),j.mode==="transform"&&e.jsx($,{value:"xmlConversion",className:"mt-6",children:e.jsx(Ps,{mode:"OUTBOUND",config:s.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0,removeRootElement:!0,handleNamespaces:!0},onChange:i=>r("xmlConversion",i)})})]})})]})}const sc=["TCP/IP","Gateway"];function tc({configuration:s,onConfigurationChange:r}){return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"IDOC Inbound Configuration"}),e.jsx(X,{children:"Configure your IDOC sender adapter settings"})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsxs($,{value:"source",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),e.jsx(y,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:s.sapSystemId||"",onChange:l=>r("sapSystemId",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),e.jsx(y,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:s.sapClientNumber||"",onChange:l=>r("sapClientNumber",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),e.jsx(y,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:s.sapSystemNumber||"",onChange:l=>r("sapSystemNumber",l.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),e.jsx(y,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:s.sapApplicationServerHost||"",onChange:l=>r("sapApplicationServerHost",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),e.jsx(y,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:s.sapGatewayHost||"",onChange:l=>r("sapGatewayHost",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),e.jsx(y,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:s.sapGatewayService||"",onChange:l=>r("sapGatewayService",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"portNumber",children:"Port Number"}),e.jsx(y,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:s.portNumber||"",onChange:l=>r("portNumber",parseInt(l.target.value)||0)})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionType",children:"Connection Type"}),e.jsxs(B,{value:s.connectionType||"",onValueChange:l=>r("connectionType",l),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection type"})}),e.jsx(V,{children:sc.map(l=>e.jsx(S,{value:l,children:l},l))})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapUser",children:"SAP User"}),e.jsx(y,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:s.sapUser||"",onChange:l=>r("sapUser",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapPassword",children:"SAP Password"}),e.jsx(y,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:s.sapPassword||"",onChange:l=>r("sapPassword",l.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),e.jsx(y,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:s.rfcDestinationName||"",onChange:l=>r("rfcDestinationName",l.target.value)})]})})]})]}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"idocPort",children:"IDoc Port"}),e.jsx(y,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:s.idocPort||"",onChange:l=>r("idocPort",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),e.jsx(y,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:s.listenerServiceName||"",onChange:l=>r("listenerServiceName",l.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"idocType",children:"IDoc Type"}),e.jsx(y,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:s.idocType||"",onChange:l=>r("idocType",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"messageType",children:"Message Type"}),e.jsx(y,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:s.messageType||"",onChange:l=>r("messageType",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"processCode",children:"Process Code"}),e.jsx(y,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:s.processCode||"",onChange:l=>r("processCode",l.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),e.jsx(oe,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:s.sncSecuritySettings||"",onChange:l=>r("sncSecuritySettings",l.target.value),rows:4})]})})]})]})]})})]})}const ac={mysql:{vendor:"MySQL",driverClass:"com.mysql.cj.jdbc.Driver",urlFormat:"jdbc:mysql://{host}:{port}/{database}",defaultPort:3306},postgresql:{vendor:"PostgreSQL",driverClass:"org.postgresql.Driver",urlFormat:"jdbc:postgresql://{host}:{port}/{database}",defaultPort:5432},oracle:{vendor:"Oracle",driverClass:"oracle.jdbc.driver.OracleDriver",urlFormat:"jdbc:oracle:thin:@{host}:{port}:{database}",defaultPort:1521},sqlserver:{vendor:"Microsoft SQL Server",driverClass:"com.microsoft.sqlserver.jdbc.SQLServerDriver",urlFormat:"jdbc:sqlserver://{host}:{port};databaseName={database}",defaultPort:1433},db2:{vendor:"IBM DB2",driverClass:"com.ibm.db2.jcc.DB2Driver",urlFormat:"jdbc:db2://{host}:{port}/{database}",defaultPort:5e4},mariadb:{vendor:"MariaDB",driverClass:"org.mariadb.jdbc.Driver",urlFormat:"jdbc:mariadb://{host}:{port}/{database}",defaultPort:3306},h2:{vendor:"H2",driverClass:"org.h2.Driver",urlFormat:"jdbc:h2:tcp://{host}:{port}/{database}",defaultPort:9092},teradata:{vendor:"Teradata",driverClass:"com.teradata.jdbc.TeraDriver",urlFormat:"jdbc:teradata://{host}/DATABASE={database}",defaultPort:1025},redshift:{vendor:"Amazon Redshift",driverClass:"com.amazon.redshift.jdbc42.Driver",urlFormat:"jdbc:redshift://{host}:{port}/{database}",defaultPort:5439},snowflake:{vendor:"Snowflake",driverClass:"net.snowflake.client.jdbc.SnowflakeDriver",urlFormat:"jdbc:snowflake://{account}.snowflakecomputing.com/?warehouse={warehouse}&db={database}",defaultPort:443}},Bt=["com.ibm.mq.allclient.jar","com.ibm.mq.jmqi.jar","com.ibm.mq.pcf.jar","com.ibm.mq.headers.jar","com.ibm.mq.commonservices.jar","jms.jar","javax.jms-api.jar"],Ut={jar:"sapjco3.jar",nativeLibraries:{windows:["sapjco3.dll"],linux:["libsapjco3.so"],macos:["libsapjco3.dylib"]}},Wt={jar:"sapidoc3.jar",dependencies:["sapjco3.jar"]};function ha(s={}){const{driverType:r,vendor:l,enabled:j=!0}=s,{data:d,isLoading:N,error:C,refetch:u}=bl({queryKey:["jarFiles",r,l],queryFn:async()=>{const I=await dl.getAllJarFiles({driverType:r,isActive:!0});if(!I.success||!I.data)throw new Error(I.error?.message||"Failed to fetch JAR files");let v=I.data;return l&&(v=v.filter(k=>k.vendor?.toLowerCase()===l.toLowerCase())),v},enabled:j}),o=()=>{if(!d)return[];const I=new Set;return d.forEach(v=>{v.vendor&&I.add(v.vendor)}),Array.from(I).sort()},i=I=>ac[I.toLowerCase()],p=()=>{if(!d||r!=="IBMMQ")return{valid:!1,missing:Bt};const I=d.map(k=>k.file_name?.toLowerCase()||""),v=Bt.filter(k=>!I.some(E=>E.includes(k.toLowerCase())));return{valid:v.length===0,missing:v,uploaded:I.length,required:Bt.length}},a=()=>({connectionFactoryClass:"com.ibm.mq.jms.MQConnectionFactory",queueClass:"com.ibm.mq.jms.MQQueue",version:d?.find(v=>v.file_name?.toLowerCase().includes("allclient"))?.version||"Unknown"}),x=()=>{if(!d)return{valid:!1,missing:{jar:Ut.jar,nativeLibrary:!0}};const I=d.map(Q=>Q.file_name?.toLowerCase()||""),v=I.some(Q=>Q.includes("sapjco3.jar")),k=n(),E=Ut.nativeLibraries[k]||[],D=E.some(Q=>I.some(R=>R.includes(Q.toLowerCase())));return{valid:v&&D,hasJar:v,hasNativeLibrary:D,platform:k,missingJar:v?null:Ut.jar,missingNativeLibrary:D?null:E[0]}},T=()=>{if(!d)return{valid:!1,missing:[Wt.jar,...Wt.dependencies]};const v=d.map(E=>E.file_name?.toLowerCase()||"").some(E=>E.includes("sapidoc3.jar")),k=x();return{valid:v&&k.valid,hasIdocJar:v,hasJcoDependency:k.valid,missing:[v?null:Wt.jar,k.valid?null:"SAP JCo libraries"].filter(Boolean)}},A=()=>{const I=d?.find(k=>k.file_name?.toLowerCase().includes("sapjco3.jar")),v=d?.find(k=>k.file_name?.toLowerCase().includes("sapidoc3.jar"));return{jcoVersion:I?.version||"Unknown",idocVersion:v?.version||"Unknown",hasJco:!!I,hasIdoc:!!v}},n=()=>{const I=navigator.userAgent.toLowerCase();return I.includes("win")?"windows":I.includes("mac")?"macos":"linux"};return{jarFiles:d||[],isLoading:N,error:C,refetch:u,getAvailableVendors:o,getDriverInfo:i,validateIbmMqDependencies:p,getIbmMqConnectionInfo:a,validateSapJcoDependencies:x,validateSapIdocDependencies:T,getSapConnectionInfo:A}}const rc=({configuration:s,onConfigurationChange:r})=>{const{jarFiles:l,isLoading:j,validateSapJcoDependencies:d,validateSapIdocDependencies:N,getSapConnectionInfo:C}=ha({driverType:"SAP_IDOC",enabled:!0}),u=d(),o=N(),i=C();return e.jsxs("div",{className:"space-y-6",children:[!j&&(!u.valid||!o.valid)&&e.jsxs(fe,{variant:"destructive",children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx(Cs,{children:"Missing SAP Dependencies"}),e.jsxs(Ce,{className:"space-y-2",children:[e.jsx("p",{children:"SAP IDoc requires the following components:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm",children:[!o.hasIdocJar&&e.jsx("li",{children:"SAP IDoc Library: sapidoc3.jar"}),!u.hasJar&&e.jsx("li",{children:"SAP Java Connector: sapjco3.jar"}),!u.hasNativeLibrary&&e.jsxs("li",{children:["Native library for ",u.platform,": ",u.missingNativeLibrary]})]}),e.jsx("p",{className:"text-sm mt-2",children:"Please upload these files in the Admin settings before configuring this adapter. The IDoc library requires the JCo library to function properly."})]})]}),!j&&u.valid&&o.valid&&e.jsxs(fe,{variant:"default",className:"border-green-500",children:[e.jsx(_s,{className:"h-4 w-4 text-green-500"}),e.jsx(Cs,{children:"SAP Dependencies Verified"}),e.jsxs(Ce,{children:["SAP IDoc ",i.idocVersion," and JCo ",i.jcoVersion," are available for ",u.platform,"."]})]}),e.jsxs(ke,{defaultValue:"target",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"target",children:"Target"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsxs($,{value:"target",className:"space-y-6",children:[e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"SAP System Identification"}),e.jsx(X,{children:"SAP system connection details"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapSystemId",children:"SAP System ID (SID) *"}),e.jsx(y,{id:"sapSystemId",value:s.sapSystemId||"",onChange:p=>r("sapSystemId",p.target.value),placeholder:"PRD, DEV",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapClientNumber",children:"SAP Client Number *"}),e.jsx(y,{id:"sapClientNumber",value:s.sapClientNumber||"",onChange:p=>r("sapClientNumber",p.target.value),placeholder:"100",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapSystemNumber",children:"SAP System Number *"}),e.jsx(y,{id:"sapSystemNumber",value:s.sapSystemNumber||"",onChange:p=>r("sapSystemNumber",p.target.value),placeholder:"00",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Connection Details"}),e.jsx(X,{children:"SAP application server and gateway configuration"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host *"}),e.jsx(y,{id:"sapApplicationServerHost",value:s.sapApplicationServerHost||"",onChange:p=>r("sapApplicationServerHost",p.target.value),placeholder:"sapserver.example.com",required:!0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),e.jsx(y,{id:"sapGatewayHost",value:s.sapGatewayHost||"",onChange:p=>r("sapGatewayHost",p.target.value),placeholder:"sapgw.example.com"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),e.jsx(y,{id:"sapGatewayService",value:s.sapGatewayService||"",onChange:p=>r("sapGatewayService",p.target.value),placeholder:"sapgw00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"portNumber",children:"Port Number"}),e.jsx(y,{id:"portNumber",type:"number",value:s.portNumber||"",onChange:p=>r("portNumber",parseInt(p.target.value)||0),placeholder:"3300"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Network port if applicable"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionType",children:"Connection Type"}),e.jsxs(B,{value:s.connectionType||"TCP/IP",onValueChange:p=>r("connectionType",p),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"TCP/IP",children:"TCP/IP"}),e.jsx(S,{value:"Gateway",children:"Gateway"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connection protocol"})]})]})]})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Credentials"}),e.jsx(X,{children:"SAP authentication"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapUser",children:"SAP Username *"}),e.jsx(y,{id:"sapUser",value:s.sapUser||"",onChange:p=>r("sapUser",p.target.value),placeholder:"SAP Username",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapPassword",children:"SAP Password *"}),e.jsx(y,{id:"sapPassword",type:"password",value:s.sapPassword||"",onChange:p=>r("sapPassword",p.target.value),placeholder:"",required:!0})]})]})})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"RFC Destination"}),e.jsx(X,{children:"RFC destination for IDoc transmission"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),e.jsx(y,{id:"rfcDestinationName",value:s.rfcDestinationName||"",onChange:p=>r("rfcDestinationName",p.target.value),placeholder:"MIDDLEWARE_RFC"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SAP RFC destination (optional)"})]})})]})]}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"IDoc Transmission"}),e.jsx(X,{children:"Configure IDoc transmission settings"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"idocPort",children:"IDoc Port"}),e.jsx(y,{id:"idocPort",value:s.idocPort||"",onChange:p=>r("idocPort",p.target.value),placeholder:"SAPDEV"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Logical port configured in SAP"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),e.jsx(y,{id:"listenerServiceName",value:s.listenerServiceName||"",onChange:p=>r("listenerServiceName",p.target.value),placeholder:"MIDDLEWARE_IDOC_SERVICE"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Middleware service name"})]})]})})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"IDoc Identification"}),e.jsx(X,{children:"IDoc type and message configuration"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"idocType",children:"IDoc Type *"}),e.jsx(y,{id:"idocType",value:s.idocType||"",onChange:p=>r("idocType",p.target.value),placeholder:"ORDERS05",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"IDoc structure type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"messageType",children:"Message Type *"}),e.jsx(y,{id:"messageType",value:s.messageType||"",onChange:p=>r("messageType",p.target.value),placeholder:"ORDERS",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Logical message type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"processCode",children:"Process Code"}),e.jsx(y,{id:"processCode",value:s.processCode||"",onChange:p=>r("processCode",p.target.value),placeholder:"ORDE"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP process code"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"senderPartnerNumber",children:"Sender Partner Number"}),e.jsx(y,{id:"senderPartnerNumber",value:s.senderPartnerNumber||"",onChange:p=>r("senderPartnerNumber",p.target.value),placeholder:"MIDDLEWARE"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Logical sender system"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"senderPartnerType",children:"Sender Partner Type"}),e.jsxs(B,{value:s.senderPartnerType||"LS",onValueChange:p=>r("senderPartnerType",p),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"LS",children:"LS - Logical System"}),e.jsx(S,{value:"LI",children:"LI - Vendor"}),e.jsx(S,{value:"KU",children:"KU - Customer"}),e.jsx(S,{value:"B",children:"B - Bank"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"receiverPartnerNumber",children:"Receiver Partner Number"}),e.jsx(y,{id:"receiverPartnerNumber",value:s.receiverPartnerNumber||"",onChange:p=>r("receiverPartnerNumber",p.target.value),placeholder:"SAPSYSTEM"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Target SAP system"})]})]})]})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Security / Encryption"}),e.jsx(X,{children:"Secure Network Communications (SNC) settings"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),e.jsx(oe,{id:"sncSecuritySettings",value:s.sncSecuritySettings||"",onChange:p=>r("sncSecuritySettings",p.target.value),placeholder:"p:CN=username@REALM",rows:4,className:"font-mono text-sm"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure Network Communications parameters (optional)"})]})})]}),i.hasJco&&i.hasIdoc&&e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"SAP Library Information"}),e.jsx(X,{children:"Loaded SAP IDoc and JCo libraries"})]}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"JCo Version:"}),e.jsx("span",{className:"font-mono",children:i.jcoVersion})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"IDoc Version:"}),e.jsx("span",{className:"font-mono",children:i.idocVersion})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"Platform:"}),e.jsx("span",{className:"font-mono",children:u.platform})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx($a,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Ready for IDoc communication"})]})]})})]})]})]})]})};function lc({adapter:s,onUpdate:r}){const l=(j,d)=>{r({...s,configuration:{...s.configuration,[j]:d}})};return e.jsx("div",{className:"space-y-6",children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing Details"})]}),e.jsx($,{value:"source",className:"space-y-6",children:e.jsxs(G,{children:[e.jsx(z,{children:e.jsx(J,{children:"Connection Details"})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),e.jsx(y,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:s.configuration.connectionFactoryClass||"",onChange:j=>l("connectionFactoryClass",j.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queueClass",children:"Queue class"}),e.jsx(y,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:s.configuration.queueClass||"",onChange:j=>l("queueClass",j.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queueManager",children:"Queue Manager Name *"}),e.jsx(y,{id:"queueManager",placeholder:"QM1",value:s.configuration.queueManager||"",onChange:j=>l("queueManager",j.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"host",children:"Host Name / IP *"}),e.jsx(y,{id:"host",placeholder:"mqserver.example.com",value:s.configuration.host||"",onChange:j=>l("host",j.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"port",children:"Port *"}),e.jsx(y,{id:"port",type:"number",placeholder:"1414",value:s.configuration.port||"",onChange:j=>l("port",parseInt(j.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"channel",children:"Channel Name *"}),e.jsx(y,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:s.configuration.channel||"",onChange:j=>l("channel",j.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),e.jsx(y,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:s.configuration.connectionFactory||"",onChange:j=>l("connectionFactory",j.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"transportType",children:"Transport Type *"}),e.jsxs(B,{value:s.configuration.transportType||"CLIENT",onValueChange:j=>l("transportType",j),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select transport type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"CLIENT",children:"Remote TCP/IP"}),e.jsx(S,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"username",children:"User Name"}),e.jsx(y,{id:"username",placeholder:"MQ Username",value:s.configuration.username||"",onChange:j=>l("username",j.target.value)})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(Be,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:s.configuration.password||"",onValueChange:j=>l("password",j)})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"useSSL",checked:s.configuration.useSSL||!1,onCheckedChange:j=>l("useSSL",j)}),e.jsx(c,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),s.configuration.useSSL&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sslKeystore",children:"SSL Keystore Path"}),e.jsx(y,{id:"sslKeystore",placeholder:"/path/to/keystore",value:s.configuration.sslKeystore||"",onChange:j=>l("sslKeystore",j.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sslPassword",children:"SSL Keystore Password"}),e.jsx(y,{id:"sslPassword",type:"password",placeholder:"Keystore Password",value:s.configuration.sslPassword||"",onChange:j=>l("sslPassword",j.target.value)})]})]})]})]})}),e.jsx($,{value:"processing",className:"space-y-6",children:e.jsxs(G,{children:[e.jsx(z,{children:e.jsx(J,{children:"Processing Details"})}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queueName",children:"Queue Name *"}),e.jsx(y,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:s.configuration.queueName||"",onChange:j=>l("queueName",j.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"destinationType",children:"IBM MQ Destination Type *"}),e.jsxs(B,{value:s.configuration.destinationType||"",onValueChange:j=>l("destinationType",j),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select destination type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"Queue",children:"Queue"}),e.jsx(S,{value:"Topic",children:"Topic"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"messageSelector",children:"Message Selector"}),e.jsx(y,{id:"messageSelector",placeholder:"MsgType= 'FileMessage'",value:s.configuration.messageSelector||"",onChange:j=>l("messageSelector",j.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientId",children:"Client ID"}),e.jsx(y,{id:"clientId",placeholder:"Optional Client ID",value:s.configuration.clientId||"",onChange:j=>l("clientId",j.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),e.jsxs(B,{value:s.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:j=>l("ackMode",j),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select acknowledgement mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),e.jsx(S,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function nc({adapter:s,onUpdate:r,businessComponentId:l}){const{jarFiles:j,isLoading:d,validateIbmMqDependencies:N,getIbmMqConnectionInfo:C}=ha({driverType:"IBMMQ",enabled:!0}),u=N(),o=C(),i=g.useCallback((p,a)=>{r({...s,configuration:{...s.configuration,[p]:a}})},[s,r]);return g.useEffect(()=>{o&&!s.configuration.connectionFactoryClass&&(i("connectionFactoryClass",o.connectionFactoryClass),i("queueClass",o.queueClass))},[j,o,s.configuration.connectionFactoryClass,i]),e.jsxs("div",{className:"space-y-6",children:[!d&&!u.valid&&e.jsxs(fe,{variant:"destructive",children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx(Cs,{children:"Missing IBM MQ Dependencies"}),e.jsxs(Ce,{className:"space-y-2",children:[e.jsxs("p",{children:["IBM MQ requires ",u.required," JAR files. Currently ",u.uploaded," uploaded."]}),e.jsx("p",{className:"text-sm",children:"Missing JARs:"}),e.jsx("ul",{className:"list-disc list-inside text-sm",children:u.missing.map(p=>e.jsx("li",{children:p},p))})]})]}),!d&&u.valid&&e.jsxs(fe,{variant:"default",className:"border-green-500",children:[e.jsx(_s,{className:"h-4 w-4 text-green-500"}),e.jsx(Cs,{children:"IBM MQ Dependencies Verified"}),e.jsxs(Ce,{children:["All required IBM MQ JAR files are available. Version: ",o.version]})]}),e.jsxs(ke,{defaultValue:"target",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"target",children:"Target"}),e.jsx(K,{value:"processing",children:"Processing Details"})]}),e.jsx($,{value:"target",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Connection Details"}),e.jsx(X,{children:"Configure IBM MQ connection parameters"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),e.jsx(y,{id:"connectionFactoryClass",placeholder:o.connectionFactoryClass,value:s.configuration.connectionFactoryClass||o.connectionFactoryClass,onChange:p=>i("connectionFactoryClass",p.target.value),readOnly:!!o.connectionFactoryClass,className:o.connectionFactoryClass?"bg-muted":""}),o.connectionFactoryClass&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(_s,{className:"h-3 w-3"}),"Auto-detected from IBM MQ ",o.version]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queueClass",children:"Queue class"}),e.jsx(y,{id:"queueClass",placeholder:o.queueClass,value:s.configuration.queueClass||o.queueClass,onChange:p=>i("queueClass",p.target.value),readOnly:!!o.queueClass,className:o.queueClass?"bg-muted":""}),o.queueClass&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(_s,{className:"h-3 w-3"}),"Auto-detected from IBM MQ ",o.version]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queueManager",children:"Queue Manager Name *"}),e.jsx(y,{id:"queueManager",placeholder:"QM1",value:s.configuration.queueManager||"",onChange:p=>i("queueManager",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"host",children:"Host Name / IP *"}),e.jsx(y,{id:"host",placeholder:"mqserver.example.com",value:s.configuration.host||"",onChange:p=>i("host",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"port",children:"Port *"}),e.jsx(y,{id:"port",type:"number",placeholder:"1414",value:s.configuration.port||"",onChange:p=>i("port",parseInt(p.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"channel",children:"Channel Name *"}),e.jsx(y,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:s.configuration.channel||"",onChange:p=>i("channel",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),e.jsx(y,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:s.configuration.connectionFactory||"",onChange:p=>i("connectionFactory",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"transportType",children:"Transport Type *"}),e.jsxs(B,{value:s.configuration.transportType||"CLIENT",onValueChange:p=>i("transportType",p),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select transport type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"CLIENT",children:"Remote TCP/IP"}),e.jsx(S,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"username",children:"User Name"}),e.jsx(y,{id:"username",placeholder:"MQ Username",value:s.configuration.username||"",onChange:p=>i("username",p.target.value)})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(Be,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:s.configuration.password||"",onValueChange:p=>i("password",p)})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"useSSL",checked:s.configuration.useSSL||!1,onCheckedChange:p=>i("useSSL",p)}),e.jsx(c,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),s.configuration.useSSL&&e.jsx("div",{className:"space-y-4",children:e.jsx(ua,{id:"sslCertificate",label:"SSL Certificate",value:s.configuration.sslCertificateId||"",onChange:p=>i("sslCertificateId",p),businessComponentId:l,placeholder:"Select SSL certificate",required:!0})})]})]})}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(z,{children:e.jsx(J,{children:"Processing Details"})}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queueName",children:"Queue Name *"}),e.jsx(y,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:s.configuration.queueName||"",onChange:p=>i("queueName",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"destinationType",children:"JMS Destination Type *"}),e.jsxs(B,{value:s.configuration.destinationType||"",onValueChange:p=>i("destinationType",p),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select destination type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"Queue",children:"Queue"}),e.jsx(S,{value:"Topic",children:"Topic"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"messageSelector",children:"Message Selector"}),e.jsx(y,{id:"messageSelector",placeholder:"JMSType= 'FileMessage'",value:s.configuration.messageSelector||"",onChange:p=>i("messageSelector",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientId",children:"Client ID"}),e.jsx(y,{id:"clientId",placeholder:"Optional Client ID",value:s.configuration.clientId||"",onChange:p=>i("clientId",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),e.jsxs(B,{value:s.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:p=>i("ackMode",p),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select acknowledgement mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),e.jsx(S,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]}),j.length>0&&e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Loaded IBM MQ Libraries"}),e.jsxs(X,{children:[j.length," JAR files available for IBM MQ connectivity"]})]}),e.jsx(Y,{children:e.jsx("div",{className:"space-y-2",children:j.map(p=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-mono",children:p.file_name}),e.jsx("span",{className:"text-muted-foreground",children:p.version})]},p.id))})})]})]})]})]})}function ic({configuration:s,onConfigurationChange:r}){const{businessComponents:l,loading:j}=bt(),{structures:d}=sa(),[N,C]=g.useState(""),[u,o]=g.useState([]),[i,p]=g.useState(s.transformationConfig||{mode:"transform",requiresStructure:!0}),[a,x]=g.useState(s.payloadStructureConfig||{format:"JSON"});g.useEffect(()=>{s.processingMode||r("processingMode","ASYNCHRONOUS")},[s.processingMode,r]),g.useEffect(()=>{if(N){const n=d.filter(I=>I.usage==="source");o(n)}else o([])},[N,d]);const T=n=>{p(n),r("transformationConfig",n)},A=n=>{x(n),r("payloadStructureConfig",n)};return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"REST Inbound Configuration"}),e.jsx(X,{children:"Configure your REST sender adapter settings"})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-5",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing"}),e.jsx(K,{value:"transformation",children:"Transformation"}),e.jsx(K,{value:"payload",disabled:i.mode!=="transform",children:"Payload Structure"}),e.jsx(K,{value:"xmlConversion",disabled:i.mode!=="transform",children:"XML Conversion"})]}),e.jsxs($,{value:"source",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"baseEndpointUrl",children:"Base Endpoint URL"}),e.jsx(y,{id:"baseEndpointUrl",type:"text",placeholder:"https://api.yourdomain.com/integration",value:s.baseEndpointUrl||"",onChange:n=>r("baseEndpointUrl",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of your REST API"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"resourcePath",children:"Resource Path"}),e.jsx(y,{id:"resourcePath",type:"text",placeholder:"/orders, /status, /submit",value:s.resourcePath||"",onChange:n=>r("resourcePath",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific REST resource or path"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsx(y,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:s.apiVersion||"",onChange:n=>r("apiVersion",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Versioning info for API"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"httpMethod",children:"HTTP Method"}),e.jsxs(B,{value:s.httpMethod||"",onValueChange:n=>r("httpMethod",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select HTTP method"})}),e.jsxs(V,{children:[e.jsx(S,{value:"GET",children:"GET"}),e.jsx(S,{value:"POST",children:"POST"}),e.jsx(S,{value:"PUT",children:"PUT"}),e.jsx(S,{value:"DELETE",children:"DELETE"}),e.jsx(S,{value:"PATCH",children:"PATCH"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to call"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"contentType",children:"Content-Type"}),e.jsxs(B,{value:s.contentType||"",onValueChange:n=>r("contentType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select media type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"application/json",children:"application/json"}),e.jsx(S,{value:"application/xml",children:"application/xml"}),e.jsx(S,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),e.jsx(S,{value:"text/plain",children:"text/plain"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type for request"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"acceptType",children:"Accept"}),e.jsxs(B,{value:s.acceptType||"",onValueChange:n=>r("acceptType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select expected response type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"application/json",children:"application/json"}),e.jsx(S,{value:"application/xml",children:"application/xml"}),e.jsx(S,{value:"text/plain",children:"text/plain"}),e.jsx(S,{value:"text/html",children:"text/html"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type of response"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queryParameters",children:"Query Parameters"}),e.jsx(oe,{id:"queryParameters",placeholder:"?page=1&size=10",value:s.queryParameters||"",onChange:n=>r("queryParameters",n.target.value),className:"min-h-[80px]"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected query params for filtering/pagination"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),e.jsx(y,{id:"timeoutSettings",type:"number",placeholder:"30",value:s.timeoutSettings||"",onChange:n=>r("timeoutSettings",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),e.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:"processingMode",className:"text-sm font-medium",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),e.jsx(Z,{id:"processingMode",checked:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:n=>r("processingMode",n?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),e.jsx(y,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:s.asyncResponseTimeout||"",onChange:n=>r("asyncResponseTimeout",parseInt(n.target.value)||3e4)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),e.jsxs(B,{value:s.asyncResponseFormat||"HTTP_202",onValueChange:n=>r("asyncResponseFormat",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select response format"})}),e.jsxs(V,{children:[e.jsx(S,{value:"HTTP_202",children:"HTTP 202 Accepted"}),e.jsx(S,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),e.jsx(y,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:s.asyncCallbackUrl||"",onChange:n=>r("asyncCallbackUrl",n.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"authenticationType",children:"Authentication Type"}),e.jsxs(B,{value:s.authenticationType||"",onValueChange:n=>r("authenticationType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select authentication method"})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"basic",children:"Basic Auth"}),e.jsx(S,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),e.jsx(S,{value:"api-key",children:"API Key"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method required"})]}),s.authenticationType==="basic"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"basicUsername",children:"Username"}),e.jsx(y,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:s.basicUsername||"",onChange:n=>r("basicUsername",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"basicPassword",children:"Password"}),e.jsx(y,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:s.basicPassword||"",onChange:n=>r("basicPassword",n.target.value)})]})]}),s.authenticationType==="oauth2-bearer"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"bearerToken",children:"Bearer Token"}),e.jsx(y,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:s.bearerToken||"",onChange:n=>r("bearerToken",n.target.value)})]}),s.authenticationType==="api-key"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKeyName",children:"API Key Name"}),e.jsx(y,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:s.apiKeyName||"",onChange:n=>r("apiKeyName",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKeyValue",children:"API Key Value"}),e.jsx(y,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:s.apiKeyValue||"",onChange:n=>r("apiKeyValue",n.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"businessComponent",children:"Business Component"}),e.jsxs(B,{value:N,onValueChange:n=>{C(n),r("businessComponentId",n)},disabled:j,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select a business component"})}),e.jsx(V,{className:"bg-background border z-50",children:l.map(n=>e.jsx(S,{value:n.id,children:n.name},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"requestPayload",children:"Request Payload"}),e.jsxs(B,{value:s.requestPayload||"",onValueChange:n=>r("requestPayload",n),disabled:!N||u.length===0,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select request structure"})}),e.jsx(V,{className:"bg-background border z-50",children:u.map(n=>e.jsxs(S,{value:n.id,children:[n.name," (",n.type,")"]},n.id))})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Format JSON or XML schema expected in request body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"responseFormat",children:"Response Format"}),e.jsxs(B,{value:s.responseFormat||"",onValueChange:n=>r("responseFormat",n),disabled:!N||u.length===0,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select response structure"})}),e.jsx(V,{className:"bg-background border z-50",children:u.map(n=>e.jsxs(S,{value:n.id,children:[n.name," (",n.type,")"]},n.id))})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Format of API response"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"customHeaders",children:"Headers"}),e.jsx(oe,{id:"customHeaders",placeholder:"X-Correlation-ID: <UUID>",value:s.customHeaders||"",onChange:n=>r("customHeaders",n.target.value),className:"min-h-[80px]"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Required custom HTTP headers"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Throttling"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"errorHandling",children:"Error Handling"}),e.jsx(oe,{id:"errorHandling",placeholder:"4xx/5xx codes, JSON error payload",value:s.errorHandling||"",onChange:n=>r("errorHandling",n.target.value),className:"min-h-[80px]"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected HTTP status codes and error message formats"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"rateLimiting",children:"Rate Limiting / Throttling"}),e.jsx(y,{id:"rateLimiting",type:"text",placeholder:"1000 requests/minute",value:s.rateLimiting||"",onChange:n=>r("rateLimiting",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Limits on API calls per time interval"})]})]})]}),e.jsx($,{value:"transformation",className:"mt-6",children:e.jsx(Is,{config:i,onChange:T,adapterType:"REST",dataStructures:u,disabled:!1})}),i.mode==="transform"&&e.jsx($,{value:"payload",className:"mt-6",children:e.jsx(At,{config:a,onChange:A,adapterType:"REST",mode:"sender",disabled:!1})}),i.mode==="transform"&&e.jsx($,{value:"xmlConversion",className:"mt-6",children:e.jsx(Ps,{mode:"INBOUND",config:s.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},onChange:n=>r("xmlConversion",n)})})]})})]})}function cc({configuration:s,onConfigurationChange:r}){const[l,j]=g.useState(s.transformationConfig||{mode:"transform",requiresStructure:!0}),[d,N]=g.useState(s.payloadStructureConfig||{format:"JSON"}),C=n=>{j(n),r("transformationConfig",n)},u=n=>{N(n),r("payloadStructureConfig",n)},{businessComponents:o,loading:i}=bt(),{structures:p}=sa(),[a,x]=g.useState(""),[T,A]=g.useState([]);return g.useEffect(()=>{s.processingMode||r("processingMode","ASYNCHRONOUS")},[s.processingMode,r]),g.useEffect(()=>{if(a){const n=p.filter(I=>I.usage==="target");A(n)}else A([])},[a,p]),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"REST Outbound Configuration"}),e.jsx(X,{children:"Configure your REST receiver adapter settings"})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"target",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-5",children:[e.jsx(K,{value:"target",children:"Target"}),e.jsx(K,{value:"processing",children:"Processing"}),e.jsx(K,{value:"transformation",children:"Transformation"}),e.jsx(K,{value:"payload",disabled:l.mode!=="transform",children:"Payload Structure"}),e.jsx(K,{value:"xmlConversion",disabled:l.mode!=="transform",children:"XML Conversion"})]}),e.jsxs($,{value:"target",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),e.jsx(y,{id:"targetEndpointUrl",type:"text",placeholder:"https://api.thirdparty.com/endpoint",value:s.targetEndpointUrl||"",onChange:n=>r("targetEndpointUrl",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Full URL of the 3rd party API"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"resourcePath",children:"Resource Path"}),e.jsx(y,{id:"resourcePath",type:"text",placeholder:"/submit, /orders",value:s.resourcePath||"",onChange:n=>r("resourcePath",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific API resource or path"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsx(y,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:s.apiVersion||"",onChange:n=>r("apiVersion",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"API version info"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"httpMethod",children:"HTTP Method"}),e.jsxs(B,{value:s.httpMethod||"",onValueChange:n=>r("httpMethod",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select HTTP method"})}),e.jsxs(V,{children:[e.jsx(S,{value:"POST",children:"POST"}),e.jsx(S,{value:"PUT",children:"PUT"}),e.jsx(S,{value:"GET",children:"GET"}),e.jsx(S,{value:"DELETE",children:"DELETE"}),e.jsx(S,{value:"PATCH",children:"PATCH"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to use"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"contentType",children:"Content-Type"}),e.jsxs(B,{value:s.contentType||"",onValueChange:n=>r("contentType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select media type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"application/json",children:"application/json"}),e.jsx(S,{value:"application/xml",children:"application/xml"}),e.jsx(S,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),e.jsx(S,{value:"text/plain",children:"text/plain"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Media type sent in request body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"acceptType",children:"Accept"}),e.jsxs(B,{value:s.acceptType||"",onValueChange:n=>r("acceptType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select expected response type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"application/json",children:"application/json"}),e.jsx(S,{value:"application/xml",children:"application/xml"}),e.jsx(S,{value:"text/plain",children:"text/plain"}),e.jsx(S,{value:"text/html",children:"text/html"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type in response"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queryParameters",children:"Query Parameters"}),e.jsx(oe,{id:"queryParameters",placeholder:"?page=1&size=10",value:s.queryParameters||"",onChange:n=>r("queryParameters",n.target.value),className:"min-h-[80px]"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional query params for filtering/pagination"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),e.jsx(y,{id:"timeoutSettings",type:"number",placeholder:"30",value:s.timeoutSettings||"",onChange:n=>r("timeoutSettings",n.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"proxySettings",children:"Proxy Settings"}),e.jsx(oe,{id:"proxySettings",placeholder:"Proxy host, port",value:s.proxySettings||"",onChange:n=>r("proxySettings",n.target.value),className:"min-h-[80px]"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional HTTP proxy configuration"})]})]})]}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),e.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:"processingMode",className:"text-sm font-medium",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),e.jsx(Z,{id:"processingMode",checked:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:n=>r("processingMode",n?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(s.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),e.jsx(y,{id:"responseTimeout",type:"number",placeholder:"30000",value:s.responseTimeout||"",onChange:n=>r("responseTimeout",parseInt(n.target.value)||3e4)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"waitForResponse",checked:s.waitForResponse!==!1,onCheckedChange:n=>r("waitForResponse",n)}),e.jsx(c,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),s.processingMode==="ASYNCHRONOUS"&&e.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),e.jsx(y,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:s.asyncCorrelationId||"",onChange:n=>r("asyncCorrelationId",n.target.value)})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"authenticationType",children:"Authentication Type"}),e.jsxs(B,{value:s.authenticationType||"",onValueChange:n=>r("authenticationType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select authentication method"})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"basic",children:"Basic Auth"}),e.jsx(S,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),e.jsx(S,{value:"api-key",children:"API Key"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method for outbound calls"})]}),s.authenticationType==="basic"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"basicUsername",children:"Username"}),e.jsx(y,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:s.basicUsername||"",onChange:n=>r("basicUsername",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"basicPassword",children:"Password"}),e.jsx(y,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:s.basicPassword||"",onChange:n=>r("basicPassword",n.target.value)})]})]}),s.authenticationType==="oauth2-bearer"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"bearerToken",children:"Bearer Token"}),e.jsx(y,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:s.bearerToken||"",onChange:n=>r("bearerToken",n.target.value)})]}),s.authenticationType==="api-key"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKeyName",children:"API Key Name"}),e.jsx(y,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:s.apiKeyName||"",onChange:n=>r("apiKeyName",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKeyValue",children:"API Key Value"}),e.jsx(y,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:s.apiKeyValue||"",onChange:n=>r("apiKeyValue",n.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"businessComponent",children:"Business Component"}),e.jsxs(B,{value:a,onValueChange:n=>{x(n),r("businessComponentId",n)},disabled:i,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select a business component"})}),e.jsx(V,{className:"bg-background border z-50",children:o.map(n=>e.jsx(S,{value:n.id,children:n.name},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),e.jsxs(B,{value:s.requestPayloadFormat||"",onValueChange:n=>r("requestPayloadFormat",n),disabled:!a||T.length===0,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select request structure"})}),e.jsx(V,{className:"bg-background border z-50",children:T.map(n=>e.jsxs(S,{value:n.id,children:[n.name," (",n.type,")"]},n.id))})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema and format of data sent"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"responseFormat",children:"Response Format"}),e.jsxs(B,{value:s.responseFormat||"",onValueChange:n=>r("responseFormat",n),disabled:!a||T.length===0,children:[e.jsx(U,{className:"bg-background",children:e.jsx(W,{placeholder:"Select response structure"})}),e.jsx(V,{className:"bg-background border z-50",children:T.map(n=>e.jsxs(S,{value:n.id,children:[n.name," (",n.type,")"]},n.id))})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected format of API response"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"customHeaders",children:"Custom Headers"}),e.jsx(oe,{id:"customHeaders",placeholder:"X-Request-ID, Authorization",value:s.customHeaders||"",onChange:n=>r("customHeaders",n.target.value),className:"min-h-[80px]"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP headers sent with requests"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Retry"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"errorHandling",children:"Error Handling"}),e.jsx(oe,{id:"errorHandling",placeholder:"HTTP 4xx/5xx codes, error JSON",value:s.errorHandling||"",onChange:n=>r("errorHandling",n.target.value),className:"min-h-[80px]"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected error codes and handling logic"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"retryPolicy",children:"Retry Policy"}),e.jsx(oe,{id:"retryPolicy",placeholder:"Number of retries, backoff strategy",value:s.retryPolicy||"",onChange:n=>r("retryPolicy",n.target.value),className:"min-h-[80px]"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules for retrying failed requests"})]})]})]}),e.jsx($,{value:"transformation",className:"mt-6",children:e.jsx(Is,{config:l,onChange:C,adapterType:"REST",disabled:!1})}),l.mode==="transform"&&e.jsx($,{value:"payload",className:"mt-6",children:e.jsx(At,{config:d,onChange:u,adapterType:"REST",mode:"receiver",disabled:!1})}),l.mode==="transform"&&e.jsx($,{value:"xmlConversion",className:"mt-6",children:e.jsx(Ps,{mode:"OUTBOUND",config:s.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0,removeRootElement:!0,handleNamespaces:!0},onChange:n=>r("xmlConversion",n)})})]})})]})}function dc({configuration:s,onConfigurationChange:r,businessComponentId:l}){const[j,d]=g.useState([]),[N,C]=g.useState(!1),[u,o]=g.useState({}),[i,p]=g.useState([]),[a,x]=g.useState(!1);g.useEffect(()=>{s.processingMode||r("processingMode","ASYNCHRONOUS")},[s.processingMode,r]),g.useEffect(()=>{l&&T()},[l,T]),g.useEffect(()=>{s.selectedWsdl?A(s.selectedWsdl):(p([]),o({}))},[s.selectedWsdl,A]);const T=g.useCallback(async()=>{try{C(!0);const n=await xt.get("/structures",{params:{type:"wsdl",usage:"source",businessComponentId:l,limit:100}});if(n.data&&n.data.structures){le.info(ne.UI,"SOAP Inbound - Raw structures from API",{data:n.data.structures});const I=n.data.structures.filter(v=>{const k=v.type?.toLowerCase()==="wsdl",E=v.usage==="source"||v.metadata?.usage==="source"||!v.usage,D=k&&E;return le.info(ne.UI,`SOAP Inbound - Structure ${v.name}: type=${v.type}, usage=${v.usage}, metadata.usage=${v.metadata?.usage}, included=${D}`),D}).map(v=>({id:v.id,name:v.name,endpointUrl:v.metadata?.endpointUrl||""}));le.info(ne.UI,"SOAP Inbound - Filtered WSDL list",{data:I}),d(I)}else d([])}catch(n){le.error(ne.UI,"Error fetching WSDLs",{error:n}),d([])}finally{C(!1)}},[l]),A=g.useCallback(async n=>{try{x(!0);const I=await xt.get(`/structures/${n}`);if(I.data){const v=I.data;if(le.info(ne.UI,"SOAP Inbound - WSDL Structure",{data:v}),le.info(ne.UI,"SOAP Inbound - WSDL Metadata",{data:v.metadata}),v.originalContent){const k=Ha(v.originalContent);p(k),le.info(ne.UI,"SOAP Inbound - Extracted SOAP actions",{data:k}),k.length===1&&r("soapAction",k[0].soapAction);try{const Q=new DOMParser().parseFromString(v.originalContent,"text/xml").querySelectorAll("portType, wsdl\\:portType");let R=!1;Q.forEach(se=>{se.querySelectorAll("operation, wsdl\\:operation").forEach(pe=>{const ve=!!pe.querySelector("input, wsdl\\:input"),he=!!pe.querySelector("output, wsdl\\:output");ve&&he&&(R=!0)})}),R?(le.info(ne.UI,"SOAP Inbound - WSDL has synchronous operations (request/response), setting to SYNCHRONOUS"),r("processingMode","SYNCHRONOUS")):(le.info(ne.UI,"SOAP Inbound - WSDL appears to have one-way operations only, setting to ASYNCHRONOUS"),r("processingMode","ASYNCHRONOUS"))}catch(E){le.error(ne.UI,"Error parsing WSDL for sync/async detection",{error:E}),r("processingMode","SYNCHRONOUS")}}else{p([]),le.warn(ne.UI,"SOAP Inbound - No originalContent in WSDL structure");const k={};(v.metadata?.requestStructure||v.metadata?.operationInfo?.request)&&(k.request=v.metadata?.requestStructure||v.metadata?.operationInfo?.request),(v.metadata?.responseStructure||v.metadata?.operationInfo?.response)&&(k.response=v.metadata?.responseStructure||v.metadata?.operationInfo?.response),(v.metadata?.faultStructure||v.metadata?.operationInfo?.fault)&&(k.fault=v.metadata?.faultStructure||v.metadata?.operationInfo?.fault),o(k),le.info(ne.UI,"SOAP Inbound - Extracted structures",{data:k});const E=v.metadata?.hasInput||v.metadata?.operationInfo?.hasInput,D=v.metadata?.hasOutput||v.metadata?.operationInfo?.hasOutput,Q=v.metadata?.hasFault||v.metadata?.operationInfo?.hasFault;le.info(ne.UI,`SOAP Inbound - WSDL Analysis from metadata: hasInput=${E}, hasOutput=${D}, hasFault=${Q}`)}}}catch(I){le.error(ne.UI,"Error checking WSDL structure",{error:I}),r("processingMode","ASYNCHRONOUS"),o({}),p([])}finally{x(!1)}},[r]);return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"SOAP Inbound Configuration"}),e.jsx(X,{children:"Configure your SOAP sender adapter settings"})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsxs($,{value:"source",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Connection Mode"}),e.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:"connectionMode",className:"text-sm font-medium",children:(s.connectionMode||"PUSH")==="PUSH"?"Push Mode (Inbound)":"Poll Mode (Outbound)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s.connectionMode||"PUSH")==="PUSH"?"Receive SOAP requests at the configured endpoint":"Poll and send requests to external SOAP service"})]}),e.jsx(Z,{id:"connectionMode",checked:(s.connectionMode||"PUSH")==="PUSH",onCheckedChange:n=>r("connectionMode",n?"PUSH":"POLL")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"service-endpoint",children:(s.connectionMode||"PUSH")==="PUSH"?"Service Endpoint Path":"External Service URL"}),e.jsx(y,{id:"service-endpoint",value:s.serviceEndpointUrl||"",onChange:n=>r("serviceEndpointUrl",n.target.value),placeholder:(s.connectionMode||"PUSH")==="PUSH"?"/tempconvert or /soap/tempconvert":"https://api.external.com/soap/service"}),(s.connectionMode||"PUSH")==="PUSH"&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"This path will be used as the service endpoint (e.g., http://localhost:8080/soap/tempconvert)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"soap-action",children:"SOAP Action"}),i.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(B,{value:s.soapAction||"none",onValueChange:n=>r("soapAction",n==="none"?"":n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:a?"Loading SOAP actions...":"Select SOAP action"})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None (Leave blank)"}),i.map((n,I)=>e.jsxs(S,{value:n.soapAction||`action_${I}`,children:[n.operationName," - ",n.soapAction||"(empty)"]},I))]})]}),i.length>1&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["This WSDL contains ",i.length," operations. Select the operation you want to use."]})]}):e.jsx(y,{id:"soap-action",value:s.soapAction||"",onChange:n=>r("soapAction",n.target.value),placeholder:"urn:getOrderDetails",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"content-type",children:"Content-Type"}),e.jsxs(B,{value:s.contentType||"",onValueChange:n=>r("contentType",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select content type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"text/xml",children:"text/xml"}),e.jsx(S,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"soap-version",children:"SOAP Version"}),e.jsxs(B,{value:s.soapVersion||"",onValueChange:n=>{r("soapVersion",n),n==="1.1"?r("contentType","text/xml"):n==="1.2"&&r("contentType","application/soap+xml")},children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select SOAP version"})}),e.jsxs(V,{children:[e.jsx(S,{value:"1.1",children:"SOAP 1.1"}),e.jsx(S,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Source Message"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"source-wsdl",children:"Select WSDL"}),e.jsxs(B,{value:s.selectedWsdl||"",onValueChange:n=>r("selectedWsdl",n),disabled:N||!l,children:[e.jsx(U,{children:e.jsx(W,{placeholder:l?N?"Loading WSDLs...":"Select a WSDL":"Select a business component first"})}),e.jsx(V,{children:j.map(n=>e.jsx(S,{value:n.id,children:n.name},n.id))})]})]})]})]}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),e.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:"processingMode",className:"text-sm font-medium",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),e.jsx(Z,{id:"processingMode",checked:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:n=>r("processingMode",n?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),e.jsx(y,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:s.asyncResponseTimeout||"",onChange:n=>r("asyncResponseTimeout",parseInt(n.target.value)||3e4)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),e.jsxs(B,{value:s.asyncResponseFormat||"HTTP_202",onValueChange:n=>r("asyncResponseFormat",n),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select response format"})}),e.jsxs(V,{children:[e.jsx(S,{value:"HTTP_202",children:"HTTP 202 Accepted"}),e.jsx(S,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),e.jsx(y,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:s.asyncCallbackUrl||"",onChange:n=>r("asyncCallbackUrl",n.target.value)})]})]})]}),(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"response-message",children:"Response Message"}),e.jsx(oe,{id:"response-message",value:s.responseMessage||"",onChange:n=>r("responseMessage",n.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"error-handling",children:"Error Handling"}),e.jsx(oe,{id:"error-handling",value:s.errorHandling||"",onChange:n=>r("errorHandling",n.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),e.jsx(y,{id:"timeout",type:"number",value:s.timeout||"",onChange:n=>r("timeout",n.target.value),placeholder:"60"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Custom Headers"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),e.jsx(oe,{id:"custom-headers",value:s.customHeaders||"",onChange:n=>r("customHeaders",n.target.value),placeholder:"Additional SOAP headers in XML format (e.g., WS-Addressing, Custom security headers)",rows:4}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter custom SOAP headers that will be included in the request envelope"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Additional Settings"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"retry-count",children:"Retry Count"}),e.jsx(y,{id:"retry-count",type:"number",value:s.retryCount||"",onChange:n=>r("retryCount",n.target.value),placeholder:"3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"retry-interval",children:"Retry Interval (seconds)"}),e.jsx(y,{id:"retry-interval",type:"number",value:s.retryInterval||"",onChange:n=>r("retryInterval",n.target.value),placeholder:"5"})]})]})]}),s.selectedWsdl&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"WSDL Structure Details"}),u.request&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Request Structure"}),e.jsx("div",{className:"bg-muted p-4 rounded-md",children:e.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof u.request=="string"?u.request:JSON.stringify(u.request,null,2)})})]}),(s.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&u.response&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Response Structure"}),e.jsx("div",{className:"bg-muted p-4 rounded-md",children:e.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof u.response=="string"?u.response:JSON.stringify(u.response,null,2)})})]}),u.fault&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Fault Structure"}),e.jsx("div",{className:"bg-muted p-4 rounded-md",children:e.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof u.fault=="string"?u.fault:JSON.stringify(u.fault,null,2)})})]}),!u.request&&!u.response&&!u.fault&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No structure details available in WSDL metadata"})]})]})]})})]})}function oc({configuration:s,onConfigurationChange:r,businessComponentId:l}){const[j,d]=g.useState([]),[N,C]=g.useState(!1),[u,o]=g.useState({}),[i,p]=g.useState([]),[a,x]=g.useState(!1);g.useEffect(()=>{s.processingMode||r("processingMode","ASYNCHRONOUS")},[s.processingMode,r]),g.useEffect(()=>{l&&T()},[l,T]),g.useEffect(()=>{s.selectedWsdl?A(s.selectedWsdl):(p([]),o({}))},[s.selectedWsdl,A]);const T=g.useCallback(async()=>{try{C(!0);const k=await xt.get("/structures",{params:{type:"wsdl",usage:"target",businessComponentId:l,limit:100}});if(k.data&&k.data.structures){const E=k.data.structures.filter(D=>{const Q=D.type?.toLowerCase()==="wsdl",R=D.usage==="target"||D.metadata?.usage==="target"||!D.usage,se=Q&&R;return le.info(ne.UI,`SOAP Outbound - Structure ${D.name}: type=${D.type}, usage=${D.usage}, metadata.usage=${D.metadata?.usage}, included=${se}`),se}).map(D=>({id:D.id,name:D.name,endpointUrl:D.metadata?.endpointUrl||""}));d(E)}else d([])}catch(k){le.error(ne.UI,"Error fetching WSDLs",{error:k}),d([])}finally{C(!1)}},[l]),A=g.useCallback(async k=>{try{x(!0);const E=await xt.get(`/structures/${k}`);if(E.data)if(le.info(ne.UI,"SOAP Outbound - WSDL Structure",{data:E.data}),le.info(ne.UI,"SOAP Outbound - WSDL Structure",{data:E.data}),le.info(ne.UI,"SOAP Outbound - WSDL Metadata",{data:E.data.metadata}),le.info(ne.UI,"SOAP Outbound - WSDL Namespace",{data:E.data.namespace}),le.info(ne.UI,"SOAP Outbound - Full response data",{data:JSON.stringify(E.data,null,2)}),E.data.originalContent){const D=Ha(E.data.originalContent);p(D),le.info(ne.UI,"SOAP Outbound - Extracted SOAP actions",{data:D}),D.length===1&&r("soapAction",D[0].soapAction);try{const se=new DOMParser().parseFromString(E.data.originalContent,"text/xml").querySelectorAll("portType, wsdl\\:portType");let M=!1;se.forEach(pe=>{pe.querySelectorAll("operation, wsdl\\:operation").forEach(he=>{const Xe=!!he.querySelector("input, wsdl\\:input"),ge=!!he.querySelector("output, wsdl\\:output");Xe&&ge&&(M=!0)})}),M?(le.info(ne.UI,"SOAP Outbound - WSDL has synchronous operations (request/response), setting to SYNCHRONOUS"),r("processingMode","SYNCHRONOUS")):(le.info(ne.UI,"SOAP Outbound - WSDL appears to have one-way operations only, setting to ASYNCHRONOUS"),r("processingMode","ASYNCHRONOUS"))}catch(Q){le.error(ne.UI,"Error parsing WSDL for sync/async detection",{error:Q}),r("processingMode","SYNCHRONOUS")}}else{p([]),le.warn(ne.UI,"SOAP Outbound - No originalContent in WSDL structure");const D={};if((E.data.metadata?.requestStructure||E.data.metadata?.operationInfo?.request)&&(D.request=E.data.metadata?.requestStructure||E.data.metadata?.operationInfo?.request),(E.data.metadata?.responseStructure||E.data.metadata?.operationInfo?.response)&&(D.response=E.data.metadata?.responseStructure||E.data.metadata?.operationInfo?.response),(E.data.metadata?.faultStructure||E.data.metadata?.operationInfo?.fault)&&(D.fault=E.data.metadata?.faultStructure||E.data.metadata?.operationInfo?.fault),o(D),le.info(ne.UI,"SOAP Outbound - Extracted structures",{data:D}),E.data.metadata?.endpointUrl)r("targetEndpointUrl",E.data.metadata.endpointUrl),le.info(ne.UI,"SOAP Outbound - Using endpoint URL from metadata",{data:E.data.metadata.endpointUrl});else if(E.data.namespace?.schemaLocation)r("targetEndpointUrl",E.data.namespace.schemaLocation),le.info(ne.UI,"SOAP Outbound - Using endpoint URL from namespace.schemaLocation",{data:E.data.namespace.schemaLocation});else if(E.data.namespace&&typeof E.data.namespace=="string")try{const M=JSON.parse(E.data.namespace);M.schemaLocation&&(r("targetEndpointUrl",M.schemaLocation),le.info(ne.UI,"SOAP Outbound - Using endpoint URL from parsed namespace",{data:M.schemaLocation}))}catch{le.info(ne.UI,"SOAP Outbound - Could not parse namespace")}else if(E.data.originalContent)try{const ve=new DOMParser().parseFromString(E.data.originalContent,"text/xml").querySelectorAll('address, soap\\:address, soap12\\:address, wsdl\\:address, *[name()="soap:address"], *[name()="soap12:address"]');if(ve.length>0){const he=ve[0].getAttribute("location");he&&(r("targetEndpointUrl",he),le.info(ne.UI,"SOAP Outbound - Extracted endpoint URL from WSDL",{data:he}))}}catch(M){le.error(ne.UI,"Error parsing WSDL for endpoint URL",{error:M})}const Q=E.data.metadata?.hasInput||E.data.metadata?.operationInfo?.hasInput,R=E.data.metadata?.hasOutput||E.data.metadata?.operationInfo?.hasOutput,se=E.data.metadata?.hasFault||E.data.metadata?.operationInfo?.hasFault;le.info(ne.UI,`SOAP Outbound - WSDL Analysis from metadata: hasInput=${Q}, hasOutput=${R}, hasFault=${se}`)}}catch(E){le.error(ne.UI,"Error fetching WSDL details",{error:E}),r("processingMode","ASYNCHRONOUS"),o({}),p([])}finally{x(!1)}},[r]),n=k=>{r("authentication.type",k),r("authentication.credentials",{})},I=(k,E)=>{const D={...s.authentication?.credentials||{}};D[k]=E,r("authentication.credentials",D)},v=()=>{const k=s.authentication?.type,E=s.authentication?.credentials||{};switch(k){case"basic":return e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"auth-username",children:"Username"}),e.jsx(y,{id:"auth-username",value:E.username||"",onChange:D=>I("username",D.target.value),placeholder:"Enter username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"auth-password",children:"Password"}),e.jsx(y,{id:"auth-password",type:"password",value:E.password||"",onChange:D=>I("password",D.target.value),placeholder:"Enter password"})]})]});case"ws-security":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"auth-username",children:"Username"}),e.jsx(y,{id:"auth-username",value:E.username||"",onChange:D=>I("username",D.target.value),placeholder:"Enter username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"auth-password",children:"Password"}),e.jsx(y,{id:"auth-password",type:"password",value:E.password||"",onChange:D=>I("password",D.target.value),placeholder:"Enter password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password-type",children:"Password Type"}),e.jsxs(B,{value:E.passwordType||"digest",onValueChange:D=>I("passwordType",D),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select password type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"digest",children:"Password Digest"}),e.jsx(S,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"security-policy",children:"Security Policy"}),e.jsxs(B,{value:E.securityPolicy||"",onValueChange:D=>I("securityPolicy",D),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select security policy"})}),e.jsxs(V,{children:[e.jsx(S,{value:"usernametoken",children:"Username Token Only"}),e.jsx(S,{value:"timestamp",children:"Timestamp"}),e.jsx(S,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),e.jsx(S,{value:"sign",children:"Digital Sign"}),e.jsx(S,{value:"encrypt",children:"Encrypt"}),e.jsx(S,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"ws-addressing",children:"WS-Addressing"}),e.jsxs(B,{value:E.wsAddressing||"disabled",onValueChange:D=>I("wsAddressing",D),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select WS-Addressing"})}),e.jsxs(V,{children:[e.jsx(S,{value:"disabled",children:"Disabled"}),e.jsx(S,{value:"optional",children:"Optional"}),e.jsx(S,{value:"required",children:"Required"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),e.jsx(y,{id:"timestamp-ttl",type:"number",value:E.timestampTTL||"",onChange:D=>I("timestampTTL",D.target.value),placeholder:"300"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"security-algorithm",children:"Security Algorithm"}),e.jsxs(B,{value:E.securityAlgorithm||"",onValueChange:D=>I("securityAlgorithm",D),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select algorithm"})}),e.jsxs(V,{children:[e.jsx(S,{value:"aes128",children:"AES-128"}),e.jsx(S,{value:"aes256",children:"AES-256"}),e.jsx(S,{value:"3des",children:"Triple DES"}),e.jsx(S,{value:"rsa15",children:"RSA 1.5"}),e.jsx(S,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(ua,{id:"soapCertificate",label:"SOAP Certificate",value:s.certificateId||"",onChange:D=>r("certificateId",D),businessComponentId:l,placeholder:"Select SOAP certificate",required:!0}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),e.jsxs(B,{value:s.verifyServerCertificate||"true",onValueChange:D=>r("verifyServerCertificate",D),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select verification"})}),e.jsxs(V,{children:[e.jsx(S,{value:"true",children:"Yes"}),e.jsx(S,{value:"false",children:"No"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"custom-policy",children:"Custom Security Policy"}),e.jsx(oe,{id:"custom-policy",value:E.customPolicy||"",onChange:D=>I("customPolicy",D.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"security-token-reference",children:"Security Token Reference"}),e.jsxs(B,{value:E.securityTokenReference||"binarySecurityToken",onValueChange:D=>I("securityTokenReference",D),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select token reference"})}),e.jsxs(V,{children:[e.jsx(S,{value:"binarySecurityToken",children:"Binary Security Token"}),e.jsx(S,{value:"keyIdentifier",children:"Key Identifier"}),e.jsx(S,{value:"x509Data",children:"X509 Data"}),e.jsx(S,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"auth-client-id",children:"Client ID"}),e.jsx(y,{id:"auth-client-id",value:E.clientId||"",onChange:D=>I("clientId",D.target.value),placeholder:"Enter client ID"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"auth-client-secret",children:"Client Secret"}),e.jsx(y,{id:"auth-client-secret",type:"password",value:E.clientSecret||"",onChange:D=>I("clientSecret",D.target.value),placeholder:"Enter client secret"})]})]});default:return null}};return e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"SOAP Outbound Configuration"}),e.jsx(X,{children:"Configure your SOAP receiver adapter settings"})]}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"target",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"target",children:"Target"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsxs($,{value:"target",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"target-endpoint",children:"Target Endpoint URL"}),e.jsx(y,{id:"target-endpoint",value:s.targetEndpointUrl||"",onChange:k=>r("targetEndpointUrl",k.target.value),placeholder:"https://api.thirdparty.com/soap/service"}),s.selectedWsdl&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-populated from selected WSDL"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"soap-action",children:"SOAP Action"}),i.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(B,{value:s.soapAction||"none",onValueChange:k=>r("soapAction",k==="none"?"":k),children:[e.jsx(U,{children:e.jsx(W,{placeholder:a?"Loading SOAP actions...":"Select SOAP action"})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None (Leave blank)"}),i.map((k,E)=>e.jsxs(S,{value:k.soapAction||`action_${E}`,children:[k.operationName," - ",k.soapAction||"(empty)"]},E))]})]}),i.length>1&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["This WSDL contains ",i.length," operations. Select the operation you want to use."]})]}):e.jsx(y,{id:"soap-action",value:s.soapAction||"",onChange:k=>r("soapAction",k.target.value),placeholder:"urn:submitOrder",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"content-type",children:"Content-Type"}),e.jsxs(B,{value:s.contentType||"",onValueChange:k=>r("contentType",k),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select content type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"text/xml",children:"text/xml"}),e.jsx(S,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"soap-version",children:"SOAP Version"}),e.jsxs(B,{value:s.soapVersion||"",onValueChange:k=>{r("soapVersion",k),k==="1.1"?r("contentType","text/xml"):k==="1.2"&&r("contentType","application/soap+xml")},children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select SOAP version"})}),e.jsxs(V,{children:[e.jsx(S,{value:"1.1",children:"SOAP 1.1"}),e.jsx(S,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Target Message"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"target-wsdl",children:"Select WSDL"}),e.jsxs(B,{value:s.selectedWsdl||"",onValueChange:k=>r("selectedWsdl",k),disabled:N||!l,children:[e.jsx(U,{children:e.jsx(W,{placeholder:l?N?"Loading WSDLs...":"Select a WSDL":"Select a business component first"})}),e.jsx(V,{children:j.map(k=>e.jsx(S,{value:k.id,children:k.name},k.id))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Connection Parameters"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connection-timeout",children:"Connection Timeout (seconds)"}),e.jsx(y,{id:"connection-timeout",type:"number",value:s.connectionTimeout||"",onChange:k=>r("connectionTimeout",parseInt(k.target.value)||0),placeholder:"30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"read-timeout",children:"Read Timeout (seconds)"}),e.jsx(y,{id:"read-timeout",type:"number",value:s.readTimeout||"",onChange:k=>r("readTimeout",parseInt(k.target.value)||0),placeholder:"30"})]})]})]})]}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),e.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:"processingMode",className:"text-sm font-medium",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),e.jsx(Z,{id:"processingMode",checked:(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:k=>r("processingMode",k?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(s.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),e.jsx(y,{id:"responseTimeout",type:"number",placeholder:"30000",value:s.responseTimeout||"",onChange:k=>r("responseTimeout",parseInt(k.target.value)||3e4)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"waitForResponse",checked:s.waitForResponse!==!1,onCheckedChange:k=>r("waitForResponse",k)}),e.jsx(c,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&e.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),e.jsx(y,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:s.asyncCorrelationId||"",onChange:k=>r("asyncCorrelationId",k.target.value)})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"auth-type",children:"Authentication Type"}),e.jsxs(B,{value:s.authentication?.type||"none",onValueChange:n,children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select authentication type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"basic",children:"Basic Auth"}),e.jsx(S,{value:"ws-security",children:"WS-Security UsernameToken"}),e.jsx(S,{value:"oauth",children:"OAuth"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),e.jsxs(B,{value:s.wsSecurityPolicyType||"",onValueChange:k=>r("wsSecurityPolicyType",k),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Define Parameter"})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),v()]})]}),(s.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"response-message",children:"Response Message"}),e.jsx(oe,{id:"response-message",value:s.responseMessage||"",onChange:k=>r("responseMessage",k.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"error-handling",children:"Error Handling"}),e.jsx(oe,{id:"error-handling",value:s.errorHandling||"",onChange:k=>r("errorHandling",k.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"retry-policy",children:"Retry Policy"}),e.jsx(oe,{id:"retry-policy",value:s.retryPolicy||"",onChange:k=>r("retryPolicy",k.target.value),placeholder:"Rules for retrying failed SOAP calls (Number of retries, backoff strategy)",rows:3})]})]})]}),s.selectedWsdl&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"WSDL Structure Details"}),u.request&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Request Structure"}),e.jsx("div",{className:"bg-muted p-4 rounded-md",children:e.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof u.request=="string"?u.request:JSON.stringify(u.request,null,2)})})]}),(s.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&u.response&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Response Structure"}),e.jsx("div",{className:"bg-muted p-4 rounded-md",children:e.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof u.response=="string"?u.response:JSON.stringify(u.response,null,2)})})]}),u.fault&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Fault Structure"}),e.jsx("div",{className:"bg-muted p-4 rounded-md",children:e.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof u.fault=="string"?u.fault:JSON.stringify(u.fault,null,2)})})]}),!u.request&&!u.response&&!u.fault&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No structure details available in WSDL metadata"})]})]})]})})]})}const uc=({configuration:s,onConfigurationChange:r})=>{const l=()=>{switch(s.authentication?.type||"none"){case"basic":return e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"username",children:"Username"}),e.jsx(y,{id:"username",value:s.authentication?.credentials?.username||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,username:d.target.value}}),placeholder:"Enter username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password",children:"Password"}),e.jsx(y,{id:"password",type:"password",value:s.authentication?.credentials?.password||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,password:d.target.value}}),placeholder:"Enter password"})]})]});case"oauth2":return e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientId",children:"Client ID"}),e.jsx(y,{id:"clientId",value:s.authentication?.credentials?.clientId||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,clientId:d.target.value}}),placeholder:"Enter client ID"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientSecret",children:"Client Secret"}),e.jsx(y,{id:"clientSecret",type:"password",value:s.authentication?.credentials?.clientSecret||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,clientSecret:d.target.value}}),placeholder:"Enter client secret"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"tokenUrl",children:"Token URL"}),e.jsx(y,{id:"tokenUrl",value:s.authentication?.credentials?.tokenUrl||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,tokenUrl:d.target.value}}),placeholder:"https://oauth.example.com/token"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"scope",children:"Scope"}),e.jsx(y,{id:"scope",value:s.authentication?.credentials?.scope||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,scope:d.target.value}}),placeholder:"read write"})]})]});case"api-key":return e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKey",children:"API Key"}),e.jsx(y,{id:"apiKey",type:"password",value:s.authentication?.credentials?.apiKey||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,apiKey:d.target.value}}),placeholder:"Enter API key"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKeyHeader",children:"API Key Header"}),e.jsx(y,{id:"apiKeyHeader",value:s.authentication?.credentials?.apiKeyHeader||"X-API-Key",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,apiKeyHeader:d.target.value}}),placeholder:"X-API-Key"})]})]});default:return null}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(ke,{defaultValue:"target",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"target",children:"Target"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsx($,{value:"target",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Service Connection"}),e.jsx(X,{children:"Configure OData service connection parameters"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),e.jsx(y,{id:"serviceBaseUrl",value:s.baseUrl||"",onChange:j=>r("baseUrl",j.target.value),placeholder:"https://odata.example.com/service"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"entitySetName",children:"Entity Set Name"}),e.jsx(y,{id:"entitySetName",value:s.entitySetName||"",onChange:j=>r("entitySetName",j.target.value),placeholder:"Products, Orders"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific OData entity set to query"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsxs(B,{value:s.apiVersion||"",onValueChange:j=>r("apiVersion",j),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select OData version"})}),e.jsxs(V,{children:[e.jsx(S,{value:"v2",children:"v2"}),e.jsx(S,{value:"v4",children:"v4"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"authenticationType",children:"Authentication Type"}),e.jsxs(B,{value:s.authentication?.type||"none",onValueChange:j=>r("authentication",{type:j,credentials:{}}),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"basic",children:"Basic Auth"}),e.jsx(S,{value:"oauth2",children:"OAuth2"}),e.jsx(S,{value:"api-key",children:"API Key"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Method to authenticate"})]}),l(),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"queryOptions",children:"Query Options"}),e.jsx(oe,{id:"queryOptions",value:s.queryOptions||"",onChange:j=>r("queryOptions",j.target.value),placeholder:"$filter=Price gt 100&$top=10",rows:3}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"OData query parameters (e.g., $filter, $top)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),e.jsx(y,{id:"timeout",type:"number",value:s.timeout||"",onChange:j=>r("timeout",parseInt(j.target.value)||30),placeholder:"30"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),e.jsx($,{value:"processing",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Data Handling"}),e.jsx(X,{children:"Configure data processing and validation"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),e.jsx(oe,{id:"dataMappingRules",value:s.dataMappingRules||"",onChange:j=>r("dataMappingRules",j.target.value),placeholder:"Map ProductID to id",rows:4}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping OData fields to middleware objects"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),e.jsx(oe,{id:"dataValidationRules",value:s.dataValidationRules||"",onChange:j=>r("dataValidationRules",j.target.value),placeholder:"Required fields, format checks",rows:4}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on received data"})]})]})]})})]})})},hc=({configuration:s,onConfigurationChange:r})=>{const l=()=>{switch(s.authentication?.type||"none"){case"basic":return e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"username",children:"Username"}),e.jsx(y,{id:"username",value:s.authentication?.credentials?.username||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,username:d.target.value}}),placeholder:"Enter username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password",children:"Password"}),e.jsx(y,{id:"password",type:"password",value:s.authentication?.credentials?.password||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,password:d.target.value}}),placeholder:"Enter password"})]})]});case"oauth2":return e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientId",children:"Client ID"}),e.jsx(y,{id:"clientId",value:s.authentication?.credentials?.clientId||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,clientId:d.target.value}}),placeholder:"Enter client ID"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientSecret",children:"Client Secret"}),e.jsx(y,{id:"clientSecret",type:"password",value:s.authentication?.credentials?.clientSecret||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,clientSecret:d.target.value}}),placeholder:"Enter client secret"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"tokenUrl",children:"Token URL"}),e.jsx(y,{id:"tokenUrl",value:s.authentication?.credentials?.tokenUrl||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,tokenUrl:d.target.value}}),placeholder:"https://oauth.example.com/token"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"scope",children:"Scope"}),e.jsx(y,{id:"scope",value:s.authentication?.credentials?.scope||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,scope:d.target.value}}),placeholder:"read write"})]})]});case"api-key":return e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKey",children:"API Key"}),e.jsx(y,{id:"apiKey",type:"password",value:s.authentication?.credentials?.apiKey||"",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,apiKey:d.target.value}}),placeholder:"Enter API key"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKeyHeader",children:"API Key Header"}),e.jsx(y,{id:"apiKeyHeader",value:s.authentication?.credentials?.apiKeyHeader||"X-API-Key",onChange:d=>r("authentication",{...s.authentication,credentials:{...s.authentication?.credentials,apiKeyHeader:d.target.value}}),placeholder:"X-API-Key"})]})]});default:return null}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsx($,{value:"source",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Service Connection"}),e.jsx(X,{children:"Configure OData service connection parameters"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),e.jsx(y,{id:"serviceBaseUrl",value:s.baseUrl||"",onChange:j=>r("baseUrl",j.target.value),placeholder:"https://odata.example.com/service"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"entitySetName",children:"Entity Set Name"}),e.jsx(y,{id:"entitySetName",value:s.entitySetName||"",onChange:j=>r("entitySetName",j.target.value),placeholder:"Orders, Customers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"OData entity set to update/create"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsxs(B,{value:s.apiVersion||"",onValueChange:j=>r("apiVersion",j),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select OData version"})}),e.jsxs(V,{children:[e.jsx(S,{value:"v2",children:"v2"}),e.jsx(S,{value:"v4",children:"v4"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"authenticationType",children:"Authentication Type"}),e.jsxs(B,{value:s.authentication?.type||"none",onValueChange:j=>r("authentication",{type:j,credentials:{}}),children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"none",children:"None"}),e.jsx(S,{value:"basic",children:"Basic Auth"}),e.jsx(S,{value:"oauth2",children:"OAuth2"}),e.jsx(S,{value:"api-key",children:"API Key"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentication method"})]}),l(),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),e.jsx(y,{id:"timeout",type:"number",value:s.timeout||"",onChange:j=>r("timeout",parseInt(j.target.value)||30),placeholder:"30"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),e.jsx($,{value:"processing",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Data Preparation"}),e.jsx(X,{children:"Configure data processing and validation before sending"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),e.jsx(oe,{id:"dataMappingRules",value:s.dataMappingRules||"",onChange:j=>r("dataMappingRules",j.target.value),placeholder:"Map OrderID to OrderId",rows:4}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping middleware objects to OData fields"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),e.jsx(oe,{id:"dataValidationRules",value:s.dataValidationRules||"",onChange:j=>r("dataValidationRules",j.target.value),placeholder:"Required fields, format checks",rows:4}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})})},mc=({configuration:s,onConfigurationChange:r})=>{const{jarFiles:l,isLoading:j,validateSapJcoDependencies:d,getSapConnectionInfo:N}=ha({driverType:"SAP_JCO",enabled:!0}),C=d(),u=N();return e.jsxs("div",{className:"space-y-6",children:[!j&&!C.valid&&e.jsxs(fe,{variant:"destructive",children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx(Cs,{children:"Missing SAP JCo Dependencies"}),e.jsxs(Ce,{className:"space-y-2",children:[e.jsx("p",{children:"SAP RFC requires the following components:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm",children:[!C.hasJar&&e.jsxs("li",{children:["SAP Java Connector: ",C.missingJar]}),!C.hasNativeLibrary&&e.jsxs("li",{children:["Native library for ",C.platform,": ",C.missingNativeLibrary]})]}),e.jsx("p",{className:"text-sm mt-2",children:"Please upload these files in the Admin settings before configuring this adapter."})]})]}),!j&&C.valid&&e.jsxs(fe,{variant:"default",className:"border-green-500",children:[e.jsx(_s,{className:"h-4 w-4 text-green-500"}),e.jsx(Cs,{children:"SAP JCo Dependencies Verified"}),e.jsxs(Ce,{children:["SAP Java Connector ",u.jcoVersion," is available for ",C.platform,"."]})]}),e.jsxs(ke,{defaultValue:"target",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"target",children:"Target"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsxs($,{value:"target",className:"space-y-6",children:[e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"SAP System Identification"}),e.jsx(X,{children:"SAP system connection details"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapSystemId",children:"SAP System ID (SID) *"}),e.jsx(y,{id:"sapSystemId",value:s.sapSystemId||"",onChange:o=>r("sapSystemId",o.target.value),placeholder:"PRD, DEV",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapClientNumber",children:"SAP Client Number *"}),e.jsx(y,{id:"sapClientNumber",value:s.sapClientNumber||"",onChange:o=>r("sapClientNumber",o.target.value),placeholder:"100",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapSystemNumber",children:"SAP System Number *"}),e.jsx(y,{id:"sapSystemNumber",value:s.sapSystemNumber||"",onChange:o=>r("sapSystemNumber",o.target.value),placeholder:"00",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Connection Details"}),e.jsx(X,{children:"SAP application server and gateway configuration"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host *"}),e.jsx(y,{id:"sapApplicationServerHost",value:s.sapApplicationServerHost||"",onChange:o=>r("sapApplicationServerHost",o.target.value),placeholder:"sapserver.example.com",required:!0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),e.jsx(y,{id:"sapGatewayHost",value:s.sapGatewayHost||"",onChange:o=>r("sapGatewayHost",o.target.value),placeholder:"sapgw.example.com"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),e.jsx(y,{id:"sapGatewayService",value:s.sapGatewayService||"",onChange:o=>r("sapGatewayService",o.target.value),placeholder:"sapgw00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapLanguage",children:"SAP Language"}),e.jsxs(B,{value:s.sapLanguage||"EN",onValueChange:o=>r("sapLanguage",o),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select language"})}),e.jsxs(V,{children:[e.jsx(S,{value:"EN",children:"English"}),e.jsx(S,{value:"DE",children:"German"}),e.jsx(S,{value:"FR",children:"French"}),e.jsx(S,{value:"ES",children:"Spanish"}),e.jsx(S,{value:"PT",children:"Portuguese"}),e.jsx(S,{value:"ZH",children:"Chinese"}),e.jsx(S,{value:"JA",children:"Japanese"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Login language"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapLogonGroup",children:"SAP Logon Group"}),e.jsx(y,{id:"sapLogonGroup",value:s.sapLogonGroup||"",onChange:o=>r("sapLogonGroup",o.target.value),placeholder:"PUBLIC"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"For load balancing"})]})]})]})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Credentials"}),e.jsx(X,{children:"SAP authentication"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapUsername",children:"SAP Username *"}),e.jsx(y,{id:"sapUsername",value:s.sapUsername||"",onChange:o=>r("sapUsername",o.target.value),placeholder:"SAP Username",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapPassword",children:"SAP Password *"}),e.jsx(y,{id:"sapPassword",type:"password",value:s.sapPassword||"",onChange:o=>r("sapPassword",o.target.value),placeholder:"",required:!0})]})]})})]})]}),e.jsxs($,{value:"processing",className:"space-y-6",children:[e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"RFC Processing"}),e.jsx(X,{children:"Remote Function Call execution details"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"functionName",children:"RFC Function Name *"}),e.jsx(y,{id:"functionName",value:s.functionName||"",onChange:o=>r("functionName",o.target.value),placeholder:"BAPI_CUSTOMER_GETDETAIL2",required:!0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Name of the RFC function module to call"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"importParameters",children:"Import Parameters (JSON)"}),e.jsx(oe,{id:"importParameters",value:s.importParameters||"",onChange:o=>r("importParameters",o.target.value),placeholder:'{"CUSTOMER": "0000001234", "COMPANYCODE": "1000"}',className:"min-h-[100px] font-mono text-sm"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Input parameters for the RFC function"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"tableParameters",children:"Table Parameters (JSON)"}),e.jsx(oe,{id:"tableParameters",value:s.tableParameters||"",onChange:o=>r("tableParameters",o.target.value),placeholder:'{"ADDRESSES": [], "SALES_AREAS": []}',className:"min-h-[100px] font-mono text-sm"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Table parameters for the RFC function"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"maxPoolSize",children:"Connection Pool Size"}),e.jsx(y,{id:"maxPoolSize",type:"number",value:s.maxPoolSize||"5",onChange:o=>r("maxPoolSize",parseInt(o.target.value)),placeholder:"5"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum connections"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"peakLimit",children:"Peak Limit"}),e.jsx(y,{id:"peakLimit",type:"number",value:s.peakLimit||"10",onChange:o=>r("peakLimit",parseInt(o.target.value)),placeholder:"10"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak connection limit"})]})]})]})]}),u.hasJco&&e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"SAP JCo Information"}),e.jsx(X,{children:"Loaded SAP Java Connector libraries"})]}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"JCo Version:"}),e.jsx("span",{className:"font-mono",children:u.jcoVersion})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"Platform:"}),e.jsx("span",{className:"font-mono",children:C.platform})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx($a,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Ready for RFC communication"})]})]})})]})]})]})]})},xc=({configuration:s,onConfigurationChange:r})=>e.jsx("div",{className:"space-y-6",children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsxs($,{value:"source",className:"space-y-6",children:[e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"SAP System Identification"}),e.jsx(X,{children:"SAP system connection details"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),e.jsx(y,{id:"sapSystemId",value:s.sapSystemId||"",onChange:l=>r("sapSystemId",l.target.value),placeholder:"PRD, DEV"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),e.jsx(y,{id:"sapClientNumber",value:s.sapClientNumber||"",onChange:l=>r("sapClientNumber",l.target.value),placeholder:"100"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),e.jsx(y,{id:"sapSystemNumber",value:s.sapSystemNumber||"",onChange:l=>r("sapSystemNumber",l.target.value),placeholder:"00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Connection Details"}),e.jsx(X,{children:"SAP application server and gateway configuration"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),e.jsx(y,{id:"sapApplicationServerHost",value:s.sapApplicationServerHost||"",onChange:l=>r("sapApplicationServerHost",l.target.value),placeholder:"sapserver.example.com"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),e.jsx(y,{id:"sapGatewayHost",value:s.sapGatewayHost||"",onChange:l=>r("sapGatewayHost",l.target.value),placeholder:"sapgw.example.com"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),e.jsx(y,{id:"sapGatewayService",value:s.sapGatewayService||"",onChange:l=>r("sapGatewayService",l.target.value),placeholder:"sapgw00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"portNumber",children:"Port Number"}),e.jsx(y,{id:"portNumber",type:"number",value:s.portNumber||"",onChange:l=>r("portNumber",l.target.value),placeholder:"3300"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionType",children:"Connection Type"}),e.jsxs(B,{value:s.connectionType||"",onValueChange:l=>r("connectionType",l),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select connection type"})}),e.jsxs(V,{children:[e.jsx(S,{value:"TCP",children:"TCP/IP"}),e.jsx(S,{value:"Gateway",children:"Gateway"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Authentication"}),e.jsx(X,{children:"SAP user credentials"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sapUser",children:"SAP User"}),e.jsx(y,{id:"sapUser",value:s.sapUser||"",onChange:l=>r("sapUser",l.target.value),placeholder:"sapuser"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Be,{name:"sapPassword",label:"SAP Password",placeholder:"secret",value:s.sapPassword||"",onValueChange:l=>r("sapPassword",l),showConfirmation:!1}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"RFC Configuration"}),e.jsx(X,{children:"RFC-specific settings"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),e.jsx(y,{id:"rfcDestinationName",value:s.rfcDestinationName||"",onChange:l=>r("rfcDestinationName",l.target.value),placeholder:"MIDDLEWARE_DEST"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"callerServiceName",children:"Caller Service Name"}),e.jsx(y,{id:"callerServiceName",value:s.callerServiceName||"",onChange:l=>r("callerServiceName",l.target.value),placeholder:"RfcInboundService"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service calling the RFC"})]})]})})]})]}),e.jsx($,{value:"processing",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Data Preparation"}),e.jsx(X,{children:"Configuration for preparing data before sending to SAP"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),e.jsx(oe,{id:"dataMappingRules",value:s.dataMappingRules||"",onChange:l=>r("dataMappingRules",l.target.value),placeholder:"Map OrderID to VBELN",rows:4}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Map middleware data to SAP RFC parameters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"validationRules",children:"Validation Rules"}),e.jsx(oe,{id:"validationRules",value:s.validationRules||"",onChange:l=>r("validationRules",l.target.value),placeholder:"Mandatory fields, formats",rows:4}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})}),pc=({configuration:s,onConfigurationChange:r})=>e.jsx("div",{className:"space-y-6",children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsxs($,{value:"source",className:"space-y-6",children:[e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Mail Server Connection"}),e.jsx(X,{children:"Configure connection to the incoming mail server"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"mailServerHost",children:"Mail Server Host"}),e.jsx(y,{id:"mailServerHost",value:s.mailServerHost||"",onChange:l=>r("mailServerHost",l.target.value),placeholder:"imap.mailserver.com, pop3.mail.com"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the incoming mail server"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"mailServerPort",children:"Mail Server Port"}),e.jsx(y,{id:"mailServerPort",type:"number",value:s.mailServerPort||"",onChange:l=>r("mailServerPort",l.target.value),placeholder:"993 for IMAP SSL, 995 for POP3 SSL"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for IMAP/POP3 service"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"mailProtocol",children:"Protocol"}),e.jsxs(B,{value:s.mailProtocol||"",onValueChange:l=>r("mailProtocol",l),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select mail protocol"})}),e.jsxs(V,{children:[e.jsx(S,{value:"IMAP",children:"IMAP"}),e.jsx(S,{value:"POP3",children:"POP3"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail protocol used"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"mailUsername",children:"Username"}),e.jsx(y,{id:"mailUsername",value:s.mailUsername||"",onChange:l=>r("mailUsername",l.target.value),placeholder:"user@example.com"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Be,{name:"mailPassword",label:"Password",placeholder:"password",value:s.mailPassword||"",onValueChange:l=>r("mailPassword",l),showConfirmation:!1}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account password"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"useSSLTLS",checked:s.useSSLTLS||!1,onCheckedChange:l=>r("useSSLTLS",l)}),e.jsx(c,{htmlFor:"useSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"folderName",children:"Folder Name"}),e.jsx(y,{id:"folderName",value:s.folderName||"INBOX",onChange:l=>r("folderName",l.target.value),placeholder:"INBOX"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail folder to poll"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollingInterval",children:"Polling Interval (ms)"}),e.jsx(y,{id:"pollingInterval",type:"number",value:s.pollingInterval||"",onChange:l=>r("pollingInterval",l.target.value),placeholder:"60000"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency of checking for new emails"})]})]})]})]}),e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Message Filtering and Fetching"}),e.jsx(X,{children:"Configure email search criteria and limits"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"searchCriteria",children:"Search Criteria"}),e.jsx(y,{id:"searchCriteria",value:s.searchCriteria||"",onChange:l=>r("searchCriteria",l.target.value),placeholder:"UNSEEN or FROM:support@example.com"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email search/filter criteria (subject, sender, flags)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"maxMessages",children:"Max Messages"}),e.jsx(y,{id:"maxMessages",type:"number",value:s.maxMessages||"",onChange:l=>r("maxMessages",l.target.value),placeholder:"100"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of emails to fetch per poll"})]})]})]})]}),e.jsx($,{value:"processing",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Message Processing"}),e.jsx(X,{children:"Configure how emails are processed after retrieval"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"contentHandling",children:"Content Handling"}),e.jsx(oe,{id:"contentHandling",value:s.contentHandling||"",onChange:l=>r("contentHandling",l.target.value),placeholder:"Save attachments, parse body text",rows:3}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"How to handle email content (plain text, HTML, attachments)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"mailEncoding",children:"Encoding"}),e.jsxs(B,{value:s.mailEncoding||"",onValueChange:l=>r("mailEncoding",l),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select encoding"})}),e.jsxs(V,{children:[e.jsx(S,{value:"UTF-8",children:"UTF-8"}),e.jsx(S,{value:"ISO-8859-1",children:"ISO-8859-1"}),e.jsx(S,{value:"ASCII",children:"ASCII"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Character encoding used"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"deleteAfterFetch",checked:s.deleteAfterFetch||!1,onCheckedChange:l=>r("deleteAfterFetch",l)}),e.jsx(c,{htmlFor:"deleteAfterFetch",className:"text-sm font-normal",children:"Delete After Fetch"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete emails after processing"})]})]})]})]})})]})}),jc=({configuration:s,onConfigurationChange:r})=>e.jsx("div",{className:"space-y-6",children:e.jsxs(ke,{defaultValue:"source",className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-2",children:[e.jsx(K,{value:"source",children:"Source"}),e.jsx(K,{value:"processing",children:"Processing"})]}),e.jsx($,{value:"source",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"SMTP Server Connection"}),e.jsx(X,{children:"Configure connection to the SMTP server for sending emails"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"smtpServerHost",children:"SMTP Server Host"}),e.jsx(y,{id:"smtpServerHost",value:s.smtpServerHost||"",onChange:l=>r("smtpServerHost",l.target.value),placeholder:"smtp.mailserver.com"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the SMTP server"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"smtpServerPort",children:"SMTP Server Port"}),e.jsx(y,{id:"smtpServerPort",type:"number",value:s.smtpServerPort||"",onChange:l=>r("smtpServerPort",l.target.value),placeholder:"587 (TLS), 465 (SSL)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for SMTP service"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-7",children:[e.jsx(Pe,{id:"smtpUseSSLTLS",checked:s.smtpUseSSLTLS||!1,onCheckedChange:l=>r("smtpUseSSLTLS",l)}),e.jsx(c,{htmlFor:"smtpUseSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"smtpUsername",children:"Username"}),e.jsx(y,{id:"smtpUsername",value:s.smtpUsername||"",onChange:l=>r("smtpUsername",l.target.value),placeholder:"user@example.com"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Be,{name:"smtpPassword",label:"Password",placeholder:"password",value:s.smtpPassword||"",onValueChange:l=>r("smtpPassword",l),showConfirmation:!1}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication password"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"connectionTimeout",children:"Connection Timeout (ms)"}),e.jsx(y,{id:"connectionTimeout",type:"number",value:s.connectionTimeout||"",onChange:l=>r("connectionTimeout",l.target.value),placeholder:"30000"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection timeout in milliseconds"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"readTimeout",children:"Read Timeout (ms)"}),e.jsx(y,{id:"readTimeout",type:"number",value:s.readTimeout||"",onChange:l=>r("readTimeout",l.target.value),placeholder:"30000"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Read timeout in milliseconds"})]})]})]})]})}),e.jsx($,{value:"processing",className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Message Preparation"}),e.jsx(X,{children:"Configure email content and recipients"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fromAddress",children:"From Address"}),e.jsx(y,{id:"fromAddress",value:s.fromAddress||"",onChange:l=>r("fromAddress",l.target.value),placeholder:"sender@example.com"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Inbound's email address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"toAddresses",children:"To Addresses"}),e.jsx(oe,{id:"toAddresses",value:s.toAddresses||"",onChange:l=>r("toAddresses",l.target.value),placeholder:"recipient1@example.com, recipient2@example.com",rows:2}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recipient email addresses (comma-separated)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"ccAddresses",children:"CC Addresses"}),e.jsx(oe,{id:"ccAddresses",value:s.ccAddresses||"",onChange:l=>r("ccAddresses",l.target.value),placeholder:"cc1@example.com, cc2@example.com",rows:2}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"CC recipients (optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"bccAddresses",children:"BCC Addresses"}),e.jsx(oe,{id:"bccAddresses",value:s.bccAddresses||"",onChange:l=>r("bccAddresses",l.target.value),placeholder:"bcc1@example.com, bcc2@example.com",rows:2}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"BCC recipients (optional)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"emailSubject",children:"Subject"}),e.jsx(y,{id:"emailSubject",value:s.emailSubject||"",onChange:l=>r("emailSubject",l.target.value),placeholder:"Order Confirmation"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email subject line"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"emailBody",children:"Body"}),e.jsx(oe,{id:"emailBody",value:s.emailBody||"",onChange:l=>r("emailBody",l.target.value),placeholder:"Email content - plain text or HTML",rows:6}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email body (plain text or HTML content)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"emailAttachments",children:"Attachments"}),e.jsx(oe,{id:"emailAttachments",value:s.emailAttachments||"",onChange:l=>r("emailAttachments",l.target.value),placeholder:"PDF, images, etc.",rows:2}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Files to attach"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"emailEncoding",children:"Encoding"}),e.jsxs(B,{value:s.emailEncoding||"",onValueChange:l=>r("emailEncoding",l),children:[e.jsx(U,{children:e.jsx(W,{placeholder:"Select encoding"})}),e.jsxs(V,{children:[e.jsx(S,{value:"UTF-8",children:"UTF-8"}),e.jsx(S,{value:"ISO-8859-1",children:"ISO-8859-1"}),e.jsx(S,{value:"ASCII",children:"ASCII"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Character encoding used"})]})]})]})]})})]})}),vc=({config:s,onChange:r,onTest:l,mode:j="create"})=>{const{toast:d}=tt(),[N,C]=g.useState(!1),[u,o]=g.useState("basic");g.useState(!1);const[i,p]=g.useState(s.features||{enablePageManagement:!0,enableInsights:!0,enableComments:!0,enableMessaging:!1,enableLiveVideo:!1,enableStories:!0,enableReels:!0,enableScheduling:!0,enableAudienceTargeting:!0}),a=()=>{C(!0);const T=s.clientId||s.appId,A=encodeURIComponent(window.location.origin+"/oauth/facebook/callback"),n=["pages_show_list","pages_read_engagement","pages_manage_posts","pages_read_user_content","pages_manage_engagement","read_insights","ads_management"].join(","),I=btoa(JSON.stringify({adapterId:s.id,timestamp:Date.now()})),v=`https://www.facebook.com/v18.0/dialog/oauth?client_id=${T}&redirect_uri=${A}&scope=${n}&state=${I}&response_type=code`,k=window.open(v,"FacebookAuth","width=600,height=700"),E=setInterval(()=>{k?.closed&&(clearInterval(E),C(!1))},1e3)};g.useEffect(()=>{r({...s,features:i})},[i,s,r]);const x=j==="view";return e.jsxs("div",{className:"space-y-6",children:[s.accessToken&&e.jsxs(fe,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[e.jsx(ts,{className:"h-4 w-4 text-green-600"}),e.jsxs(Ce,{className:"text-green-800 dark:text-green-200",children:["Connected to Facebook. Page ID: ",s.pageId]})]}),e.jsxs(ke,{value:u,onValueChange:o,children:[e.jsxs(Te,{className:"grid w-full grid-cols-4",children:[e.jsx(K,{value:"basic",children:"Basic Setup"}),e.jsx(K,{value:"features",children:"Features"}),e.jsx(K,{value:"webhook",children:"Webhooks"}),e.jsx(K,{value:"advanced",children:"Advanced"})]}),e.jsx($,{value:"basic",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-600"}),"Facebook App Configuration"]}),e.jsx(X,{children:"Configure your Facebook app credentials and page settings"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"appId",children:"App ID"}),e.jsx(y,{id:"appId",value:s.appId||"",onChange:T=>r({...s,appId:T.target.value}),placeholder:"Your Facebook App ID",disabled:x})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"appSecret",children:"App Secret"}),e.jsx(y,{id:"appSecret",type:"password",value:s.appSecret||"",onChange:T=>r({...s,appSecret:T.target.value}),placeholder:"Your Facebook App Secret",disabled:x})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"pageId",children:"Facebook Page ID"}),e.jsx(y,{id:"pageId",value:s.pageId||"",onChange:T=>r({...s,pageId:T.target.value}),placeholder:"Your Facebook Page ID",disabled:x}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You can find your Page ID in Page Settings  Page Info"})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx(c,{children:"Authentication"}),s.accessToken?e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{variant:"success",children:"Connected"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Token expires: ",s.tokenExpiresAt?new Date(s.tokenExpiresAt).toLocaleDateString():"Never"]})]}),!x&&e.jsx(Ae,{variant:"outline",size:"sm",onClick:a,children:"Reconnect"})]}):e.jsx(Ae,{onClick:a,className:"w-full mt-2",disabled:!s.appId||N||x,children:N?"Connecting...":"Connect Facebook Account"})]})]})]})}),e.jsx($,{value:"features",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Enabled Features"}),e.jsx(X,{children:"Choose which Facebook features to enable for this adapter"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"pageManagement",children:"Page Management"})]}),e.jsx(Z,{id:"pageManagement",checked:i.enablePageManagement,onCheckedChange:T=>p({...i,enablePageManagement:T}),disabled:x})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"insights",children:"Insights & Analytics"})]}),e.jsx(Z,{id:"insights",checked:i.enableInsights,onCheckedChange:T=>p({...i,enableInsights:T}),disabled:x})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"comments",children:"Comments"})]}),e.jsx(Z,{id:"comments",checked:i.enableComments,onCheckedChange:T=>p({...i,enableComments:T}),disabled:x})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"messaging",children:"Messaging"})]}),e.jsx(Z,{id:"messaging",checked:i.enableMessaging,onCheckedChange:T=>p({...i,enableMessaging:T}),disabled:x})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"liveVideo",children:"Live Video"})]}),e.jsx(Z,{id:"liveVideo",checked:i.enableLiveVideo,onCheckedChange:T=>p({...i,enableLiveVideo:T}),disabled:x})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"stories",children:"Stories"})]}),e.jsx(Z,{id:"stories",checked:i.enableStories,onCheckedChange:T=>p({...i,enableStories:T}),disabled:x})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"reels",children:"Reels"})]}),e.jsx(Z,{id:"reels",checked:i.enableReels,onCheckedChange:T=>p({...i,enableReels:T}),disabled:x})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"scheduling",children:"Post Scheduling"})]}),e.jsx(Z,{id:"scheduling",checked:i.enableScheduling,onCheckedChange:T=>p({...i,enableScheduling:T}),disabled:x})]})]})})]})}),e.jsx($,{value:"webhook",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ga,{className:"h-5 w-5"}),"Webhook Configuration"]}),e.jsx(X,{children:"Configure webhooks to receive real-time updates from Facebook"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{htmlFor:"webhookEnabled",children:"Enable Webhooks"}),e.jsx(Z,{id:"webhookEnabled",checked:s.webhookEnabled||!1,onCheckedChange:T=>r({...s,webhookEnabled:T}),disabled:x})]}),s.webhookEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(c,{children:"Webhook URL"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(y,{value:`${window.location.origin}/webhooks/facebook`,readOnly:!0,className:"font-mono text-sm"}),e.jsx(Ae,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/webhooks/facebook`),d({title:"Copied!",description:"Webhook URL copied to clipboard"})},children:"Copy"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Add this URL in your Facebook App webhook settings"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"webhookVerifyToken",children:"Verify Token"}),e.jsx(y,{id:"webhookVerifyToken",value:s.webhookVerifyToken||"",onChange:T=>r({...s,webhookVerifyToken:T.target.value}),placeholder:"Create a secure verify token",disabled:x}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this same token in your Facebook App webhook configuration"})]}),e.jsxs(fe,{children:[e.jsx(es,{className:"h-4 w-4"}),e.jsxs(Ce,{children:["Configure these webhook subscriptions in your Facebook App:",e.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[e.jsx("li",{children:"Page: feed, comments, messages"}),e.jsx("li",{children:"Instagram: comments, messages"}),e.jsx("li",{children:"WhatsApp Business: messages"})]})]})]})]})]})]})}),e.jsx($,{value:"advanced",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Advanced Settings"}),e.jsx(X,{children:"Configure advanced options for the Facebook adapter"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsx(y,{id:"apiVersion",value:s.apiVersion||"v18.0",onChange:T=>r({...s,apiVersion:T.target.value}),placeholder:"v18.0",disabled:x})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"requestsPerHour",children:"Rate Limit (requests/hour)"}),e.jsx(y,{id:"requestsPerHour",type:"number",value:s.rateLimitConfig?.requestsPerHour||200,onChange:T=>r({...s,rateLimitConfig:{...s.rateLimitConfig,requestsPerHour:parseInt(T.target.value)}}),disabled:x})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"retryAttempts",children:"Max Retry Attempts"}),e.jsx(y,{id:"retryAttempts",type:"number",value:s.retryConfig?.maxRetries||3,onChange:T=>r({...s,retryConfig:{...s.retryConfig,maxRetries:parseInt(T.target.value)}}),disabled:x})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"baseUrl",children:"API Base URL"}),e.jsx(y,{id:"baseUrl",value:s.baseUrl||"https://graph.facebook.com",onChange:T=>r({...s,baseUrl:T.target.value}),placeholder:"https://graph.facebook.com",disabled:x})]})]})]})})]}),l&&!x&&s.accessToken&&e.jsx("div",{className:"flex justify-end",children:e.jsx(Ae,{onClick:l,variant:"outline",children:"Test Connection"})})]})},gc=({config:s,onChange:r,onTest:l,mode:j="create"})=>{tt();const[d,N]=g.useState(!1),[C,u]=g.useState("basic"),[o,i]=g.useState(s.features||{enableCampaignManagement:!0,enableAudienceTargeting:!0,enableBudgetOptimization:!0,enableCreativeAssets:!0,enablePerformanceTracking:!0,enableAutomatedRules:!1,enableA_BTesting:!0,enableCustomConversions:!0,enablePixelTracking:!0,enableLeadForms:!0}),[p,a]=g.useState(s.limits||{maxCampaignsPerAccount:5e3,maxAdSetsPerCampaign:5e3,maxAdsPerAdSet:5e3,maxCustomAudiences:500,minDailyBudgetCents:100,maxDailyBudgetCents:1e8,maxBatchSize:50}),x=()=>{N(!0);const n=s.clientId||s.appId,I=encodeURIComponent(window.location.origin+"/oauth/facebook/callback"),v=["ads_management","ads_read","business_management","pages_read_engagement","pages_manage_ads","leads_retrieval","catalog_management"].join(","),k=btoa(JSON.stringify({adapterId:s.id,adapterType:"facebook_ads",timestamp:Date.now()})),E=`https://www.facebook.com/v18.0/dialog/oauth?client_id=${n}&redirect_uri=${I}&scope=${v}&state=${k}&response_type=code`,D=window.open(E,"FacebookAdsAuth","width=600,height=700"),Q=setInterval(()=>{D?.closed&&(clearInterval(Q),N(!1))},1e3)};g.useEffect(()=>{r({...s,features:o,limits:p})},[o,p,s,r]);const T=j==="view",A=["BRAND_AWARENESS","REACH","TRAFFIC","ENGAGEMENT","APP_INSTALLS","VIDEO_VIEWS","LEAD_GENERATION","MESSAGES","CONVERSIONS","CATALOG_SALES","STORE_TRAFFIC"];return e.jsxs("div",{className:"space-y-6",children:[s.accessToken&&e.jsxs(fe,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[e.jsx(ts,{className:"h-4 w-4 text-green-600"}),e.jsxs(Ce,{className:"text-green-800 dark:text-green-200",children:["Connected to Facebook Ads. Account ID: ",s.adAccountId]})]}),e.jsxs(ke,{value:C,onValueChange:u,children:[e.jsxs(Te,{className:"grid w-full grid-cols-5",children:[e.jsx(K,{value:"basic",children:"Basic Setup"}),e.jsx(K,{value:"features",children:"Features"}),e.jsx(K,{value:"targeting",children:"Targeting"}),e.jsx(K,{value:"budget",children:"Budget & Limits"}),e.jsx(K,{value:"advanced",children:"Advanced"})]}),e.jsx($,{value:"basic",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-600"}),"Facebook Ads Configuration"]}),e.jsx(X,{children:"Configure your Facebook Ads account and authentication"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"appId",children:"App ID"}),e.jsx(y,{id:"appId",value:s.appId||"",onChange:n=>r({...s,appId:n.target.value}),placeholder:"Your Facebook App ID",disabled:T})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"appSecret",children:"App Secret"}),e.jsx(y,{id:"appSecret",type:"password",value:s.appSecret||"",onChange:n=>r({...s,appSecret:n.target.value}),placeholder:"Your Facebook App Secret",disabled:T})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"adAccountId",children:"Ad Account ID"}),e.jsx(y,{id:"adAccountId",value:s.adAccountId||"",onChange:n=>r({...s,adAccountId:n.target.value}),placeholder:"123456789012345",disabled:T}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Without the 'act_' prefix"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"businessId",children:"Business ID (Optional)"}),e.jsx(y,{id:"businessId",value:s.businessId||"",onChange:n=>r({...s,businessId:n.target.value}),placeholder:"Your Business Manager ID",disabled:T})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx(c,{children:"Authentication"}),s.accessToken?e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{variant:"success",children:"Connected"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Token expires: ",s.tokenExpiresAt?new Date(s.tokenExpiresAt).toLocaleDateString():"Never"]})]}),!T&&e.jsx(Ae,{variant:"outline",size:"sm",onClick:x,children:"Reconnect"})]}):e.jsx(Ae,{onClick:x,className:"w-full mt-2",disabled:!s.appId||d||T,children:d?"Connecting...":"Connect Facebook Ads Account"})]})]})]})}),e.jsx($,{value:"features",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Enabled Features"}),e.jsx(X,{children:"Choose which Facebook Ads features to enable"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nl,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"campaignManagement",children:"Campaign Management"})]}),e.jsx(Z,{id:"campaignManagement",checked:o.enableCampaignManagement,onCheckedChange:n=>i({...o,enableCampaignManagement:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"audienceTargeting",children:"Audience Targeting"})]}),e.jsx(Z,{id:"audienceTargeting",checked:o.enableAudienceTargeting,onCheckedChange:n=>i({...o,enableAudienceTargeting:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ta,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"budgetOptimization",children:"Budget Optimization"})]}),e.jsx(Z,{id:"budgetOptimization",checked:o.enableBudgetOptimization,onCheckedChange:n=>i({...o,enableBudgetOptimization:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"creativeAssets",children:"Creative Assets"})]}),e.jsx(Z,{id:"creativeAssets",checked:o.enableCreativeAssets,onCheckedChange:n=>i({...o,enableCreativeAssets:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"performanceTracking",children:"Performance Tracking"})]}),e.jsx(Z,{id:"performanceTracking",checked:o.enablePerformanceTracking,onCheckedChange:n=>i({...o,enablePerformanceTracking:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"automatedRules",children:"Automated Rules"})]}),e.jsx(Z,{id:"automatedRules",checked:o.enableAutomatedRules,onCheckedChange:n=>i({...o,enableAutomatedRules:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"abTesting",children:"A/B Testing"})]}),e.jsx(Z,{id:"abTesting",checked:o.enableA_BTesting,onCheckedChange:n=>i({...o,enableA_BTesting:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"customConversions",children:"Custom Conversions"})]}),e.jsx(Z,{id:"customConversions",checked:o.enableCustomConversions,onCheckedChange:n=>i({...o,enableCustomConversions:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"pixelTracking",children:"Pixel Tracking"})]}),e.jsx(Z,{id:"pixelTracking",checked:o.enablePixelTracking,onCheckedChange:n=>i({...o,enablePixelTracking:n}),disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ta,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"leadForms",children:"Lead Forms"})]}),e.jsx(Z,{id:"leadForms",checked:o.enableLeadForms,onCheckedChange:n=>i({...o,enableLeadForms:n}),disabled:T})]})]})})]})}),e.jsx($,{value:"targeting",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"h-5 w-5"}),"Default Targeting Options"]}),e.jsx(X,{children:"Configure default targeting settings for new campaigns"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"defaultObjective",children:"Default Campaign Objective"}),e.jsxs(B,{value:s.defaultObjective||"CONVERSIONS",onValueChange:n=>r({...s,defaultObjective:n}),disabled:T,children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsx(V,{children:A.map(n=>e.jsx(S,{value:n,children:n.replace(/_/g," ")},n))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"defaultAgeMin",children:"Default Age Range"}),e.jsxs("div",{className:"flex gap-2 items-center mt-1",children:[e.jsx(y,{id:"defaultAgeMin",type:"number",value:s.defaultAgeMin||18,onChange:n=>r({...s,defaultAgeMin:parseInt(n.target.value)}),placeholder:"18",className:"w-20",disabled:T}),e.jsx("span",{children:"to"}),e.jsx(y,{type:"number",value:s.defaultAgeMax||65,onChange:n=>r({...s,defaultAgeMax:parseInt(n.target.value)}),placeholder:"65+",className:"w-20",disabled:T})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"defaultGenders",children:"Default Genders"}),e.jsxs(B,{value:s.defaultGenders||"all",onValueChange:n=>r({...s,defaultGenders:n}),disabled:T,children:[e.jsx(U,{children:e.jsx(W,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"all",children:"All"}),e.jsx(S,{value:"male",children:"Male"}),e.jsx(S,{value:"female",children:"Female"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"defaultLocations",children:"Default Locations (comma-separated)"}),e.jsx(y,{id:"defaultLocations",value:s.defaultLocations||"",onChange:n=>r({...s,defaultLocations:n.target.value}),placeholder:"United States, Canada, United Kingdom",disabled:T})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"defaultInterests",children:"Default Interests (comma-separated)"}),e.jsx(y,{id:"defaultInterests",value:s.defaultInterests||"",onChange:n=>r({...s,defaultInterests:n.target.value}),placeholder:"Technology, Business, Marketing",disabled:T})]})]})]})}),e.jsx($,{value:"budget",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ta,{className:"h-5 w-5"}),"Budget & Limits Configuration"]}),e.jsx(X,{children:"Configure budget limits and campaign restrictions"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"minDailyBudget",children:"Min Daily Budget ($)"}),e.jsx(y,{id:"minDailyBudget",type:"number",value:(p.minDailyBudgetCents/100).toFixed(2),onChange:n=>a({...p,minDailyBudgetCents:Math.round(parseFloat(n.target.value)*100)}),step:"0.01",disabled:T})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxDailyBudget",children:"Max Daily Budget ($)"}),e.jsx(y,{id:"maxDailyBudget",type:"number",value:(p.maxDailyBudgetCents/100).toFixed(2),onChange:n=>a({...p,maxDailyBudgetCents:Math.round(parseFloat(n.target.value)*100)}),step:"0.01",disabled:T})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxCampaigns",children:"Max Campaigns per Account"}),e.jsx(y,{id:"maxCampaigns",type:"number",value:p.maxCampaignsPerAccount,onChange:n=>a({...p,maxCampaignsPerAccount:parseInt(n.target.value)}),disabled:T})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxAdSets",children:"Max Ad Sets per Campaign"}),e.jsx(y,{id:"maxAdSets",type:"number",value:p.maxAdSetsPerCampaign,onChange:n=>a({...p,maxAdSetsPerCampaign:parseInt(n.target.value)}),disabled:T})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxAds",children:"Max Ads per Ad Set"}),e.jsx(y,{id:"maxAds",type:"number",value:p.maxAdsPerAdSet,onChange:n=>a({...p,maxAdsPerAdSet:parseInt(n.target.value)}),disabled:T})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxAudiences",children:"Max Custom Audiences"}),e.jsx(y,{id:"maxAudiences",type:"number",value:p.maxCustomAudiences,onChange:n=>a({...p,maxCustomAudiences:parseInt(n.target.value)}),disabled:T})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxBatchSize",children:"Max Batch Size"}),e.jsx(y,{id:"maxBatchSize",type:"number",value:p.maxBatchSize,onChange:n=>a({...p,maxBatchSize:parseInt(n.target.value)}),disabled:T}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of items to process in a single batch operation"})]}),e.jsxs(fe,{children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx(Ce,{children:"These limits help prevent accidental overspending and API rate limit violations. Adjust based on your account tier and requirements."})]})]})]})}),e.jsx($,{value:"advanced",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Advanced Settings"}),e.jsx(X,{children:"Configure advanced options for the Facebook Ads adapter"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsx(y,{id:"apiVersion",value:s.apiVersion||"v18.0",onChange:n=>r({...s,apiVersion:n.target.value}),placeholder:"v18.0",disabled:T})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"pollingInterval",children:"Polling Interval (ms)"}),e.jsx(y,{id:"pollingInterval",type:"number",value:s.pollingInterval||3e5,onChange:n=>r({...s,pollingInterval:parseInt(n.target.value)}),disabled:T}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"How often to poll for performance data (default: 5 minutes)"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"requestsPerHour",children:"Rate Limit (requests/hour)"}),e.jsx(y,{id:"requestsPerHour",type:"number",value:s.rateLimitConfig?.requestsPerHour||200,onChange:n=>r({...s,rateLimitConfig:{...s.rateLimitConfig,requestsPerHour:parseInt(n.target.value)}}),disabled:T})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"retryAttempts",children:"Max Retry Attempts"}),e.jsx(y,{id:"retryAttempts",type:"number",value:s.retryConfig?.maxRetries||3,onChange:n=>r({...s,retryConfig:{...s.retryConfig,maxRetries:parseInt(n.target.value)}}),disabled:T})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"retryDelay",children:"Retry Delay (ms)"}),e.jsx(y,{id:"retryDelay",type:"number",value:s.retryConfig?.retryDelay||1e3,onChange:n=>r({...s,retryConfig:{...s.retryConfig,retryDelay:parseInt(n.target.value)}}),disabled:T})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"baseUrl",children:"API Base URL"}),e.jsx(y,{id:"baseUrl",value:s.baseUrl||"https://graph.facebook.com",onChange:n=>r({...s,baseUrl:n.target.value}),placeholder:"https://graph.facebook.com",disabled:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Al,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"enableBulkOperations",children:"Enable Bulk Operations"})]}),e.jsx(Z,{id:"enableBulkOperations",checked:s.enableBulkOperations!==!1,onCheckedChange:n=>r({...s,enableBulkOperations:n}),disabled:T})]})]})]})})]}),l&&!T&&s.accessToken&&e.jsx("div",{className:"flex justify-end",children:e.jsx(Ae,{onClick:l,variant:"outline",children:"Test Connection"})})]})},bc=({config:s,onChange:r,onTest:l,mode:j="create"})=>{tt();const[d,N]=g.useState(!1),[C,u]=g.useState("basic"),[o,i]=g.useState(s.features||{enablePostPublishing:!0,enableStories:!0,enableReels:!0,enableCommentManagement:!0,enableHashtagAnalytics:!0,enableUserInsights:!0,enableShoppingTags:!0,enableIGTV:!0,enableContentScheduling:!0,enableMentionMonitoring:!0,enableCarouselPosts:!0,enableProductTagging:!0}),p=()=>{N(!0);const x=s.clientId||s.appId,T=encodeURIComponent(window.location.origin+"/oauth/facebook/callback"),A=["instagram_basic","instagram_content_publish","instagram_manage_comments","instagram_manage_insights","instagram_shopping_tag_products","pages_show_list","pages_read_engagement","business_management"].join(","),n=btoa(JSON.stringify({adapterId:s.id,adapterType:"instagram",timestamp:Date.now()})),I=`https://www.facebook.com/v18.0/dialog/oauth?client_id=${x}&redirect_uri=${T}&scope=${A}&state=${n}&response_type=code`,v=window.open(I,"InstagramAuth","width=600,height=700"),k=setInterval(()=>{v?.closed&&(clearInterval(k),N(!1))},1e3)};g.useEffect(()=>{r({...s,features:o})},[o,s,r]);const a=j==="view";return e.jsxs("div",{className:"space-y-6",children:[s.accessToken&&e.jsxs(fe,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[e.jsx(ts,{className:"h-4 w-4 text-green-600"}),e.jsxs(Ce,{className:"text-green-800 dark:text-green-200",children:["Connected to Instagram Business Account: ",s.instagramBusinessAccountId]})]}),e.jsxs(ke,{value:C,onValueChange:u,children:[e.jsxs(Te,{className:"grid w-full grid-cols-4",children:[e.jsx(K,{value:"basic",children:"Basic Setup"}),e.jsx(K,{value:"features",children:"Features"}),e.jsx(K,{value:"content",children:"Content Settings"}),e.jsx(K,{value:"advanced",children:"Advanced"})]}),e.jsx($,{value:"basic",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ar,{className:"h-5 w-5"}),"Instagram Configuration"]}),e.jsx(X,{children:"Configure your Instagram Business account credentials"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs(fe,{children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx(Ce,{children:"Instagram API requires a Facebook App and an Instagram Business Account connected to a Facebook Page"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"appId",children:"Facebook App ID"}),e.jsx(y,{id:"appId",value:s.appId||"",onChange:x=>r({...s,appId:x.target.value}),placeholder:"Your Facebook App ID",disabled:a})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"appSecret",children:"Facebook App Secret"}),e.jsx(y,{id:"appSecret",type:"password",value:s.appSecret||"",onChange:x=>r({...s,appSecret:x.target.value}),placeholder:"Your Facebook App Secret",disabled:a})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"instagramBusinessAccountId",children:"Instagram Business Account ID"}),e.jsx(y,{id:"instagramBusinessAccountId",value:s.instagramBusinessAccountId||"",onChange:x=>r({...s,instagramBusinessAccountId:x.target.value}),placeholder:"Instagram Business Account ID",disabled:a}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available after connecting Facebook Page"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"facebookPageId",children:"Facebook Page ID"}),e.jsx(y,{id:"facebookPageId",value:s.facebookPageId||"",onChange:x=>r({...s,facebookPageId:x.target.value}),placeholder:"Connected Facebook Page ID",disabled:a})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx(c,{children:"Authentication"}),s.accessToken?e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{variant:"success",children:"Connected"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Token expires: ",s.tokenExpiresAt?new Date(s.tokenExpiresAt).toLocaleDateString():"Never"]})]}),!a&&e.jsx(Ae,{variant:"outline",size:"sm",onClick:p,children:"Reconnect"})]}):e.jsx(Ae,{onClick:p,className:"w-full mt-2",disabled:!s.appId||d||a,children:d?"Connecting...":"Connect Instagram Business Account"})]})]})]})}),e.jsx($,{value:"features",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Enabled Features"}),e.jsx(X,{children:"Choose which Instagram features to enable"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"postPublishing",children:"Post Publishing"})]}),e.jsx(Z,{id:"postPublishing",checked:o.enablePostPublishing,onCheckedChange:x=>i({...o,enablePostPublishing:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yl,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"stories",children:"Stories"})]}),e.jsx(Z,{id:"stories",checked:o.enableStories,onCheckedChange:x=>i({...o,enableStories:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"reels",children:"Reels"})]}),e.jsx(Z,{id:"reels",checked:o.enableReels,onCheckedChange:x=>i({...o,enableReels:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"commentManagement",children:"Comment Management"})]}),e.jsx(Z,{id:"commentManagement",checked:o.enableCommentManagement,onCheckedChange:x=>i({...o,enableCommentManagement:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ol,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"hashtagAnalytics",children:"Hashtag Analytics"})]}),e.jsx(Z,{id:"hashtagAnalytics",checked:o.enableHashtagAnalytics,onCheckedChange:x=>i({...o,enableHashtagAnalytics:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"userInsights",children:"User Insights"})]}),e.jsx(Z,{id:"userInsights",checked:o.enableUserInsights,onCheckedChange:x=>i({...o,enableUserInsights:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"shoppingTags",children:"Shopping Tags"})]}),e.jsx(Z,{id:"shoppingTags",checked:o.enableShoppingTags,onCheckedChange:x=>i({...o,enableShoppingTags:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vn,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"igtv",children:"IGTV/Long Videos"})]}),e.jsx(Z,{id:"igtv",checked:o.enableIGTV,onCheckedChange:x=>i({...o,enableIGTV:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kl,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"scheduling",children:"Content Scheduling"})]}),e.jsx(Z,{id:"scheduling",checked:o.enableContentScheduling,onCheckedChange:x=>i({...o,enableContentScheduling:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kr,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"mentionMonitoring",children:"Mention Monitoring"})]}),e.jsx(Z,{id:"mentionMonitoring",checked:o.enableMentionMonitoring,onCheckedChange:x=>i({...o,enableMentionMonitoring:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ya,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"carouselPosts",children:"Carousel Posts"})]}),e.jsx(Z,{id:"carouselPosts",checked:o.enableCarouselPosts,onCheckedChange:x=>i({...o,enableCarouselPosts:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"productTagging",children:"Product Tagging"})]}),e.jsx(Z,{id:"productTagging",checked:o.enableProductTagging,onCheckedChange:x=>i({...o,enableProductTagging:x}),disabled:a})]})]})})]})}),e.jsx($,{value:"content",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),"Content Settings"]}),e.jsx(X,{children:"Configure content publishing preferences"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"defaultHashtags",children:"Default Hashtags"}),e.jsx(y,{id:"defaultHashtags",value:s.defaultHashtags||"",onChange:x=>r({...s,defaultHashtags:x.target.value}),placeholder:"#instagram #business #social",disabled:a}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Comma-separated list of hashtags to include by default"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"imageMinWidth",children:"Min Image Width (px)"}),e.jsx(y,{id:"imageMinWidth",type:"number",value:s.imageMinWidth||320,onChange:x=>r({...s,imageMinWidth:parseInt(x.target.value)}),disabled:a})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"imageMaxSize",children:"Max Image Size (MB)"}),e.jsx(y,{id:"imageMaxSize",type:"number",value:s.imageMaxSize||8,onChange:x=>r({...s,imageMaxSize:parseInt(x.target.value)}),disabled:a})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"videoMinDuration",children:"Min Video Duration (s)"}),e.jsx(y,{id:"videoMinDuration",type:"number",value:s.videoMinDuration||3,onChange:x=>r({...s,videoMinDuration:parseInt(x.target.value)}),disabled:a})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"videoMaxDuration",children:"Max Video Duration (s)"}),e.jsx(y,{id:"videoMaxDuration",type:"number",value:s.videoMaxDuration||60,onChange:x=>r({...s,videoMaxDuration:parseInt(x.target.value)}),disabled:a})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"captionMaxLength",children:"Caption Max Length"}),e.jsx(y,{id:"captionMaxLength",type:"number",value:s.captionMaxLength||2200,onChange:x=>r({...s,captionMaxLength:parseInt(x.target.value)}),disabled:a}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Instagram allows up to 2,200 characters in captions"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"hashtagLimit",children:"Hashtag Limit per Post"}),e.jsx(y,{id:"hashtagLimit",type:"number",value:s.hashtagLimit||30,onChange:x=>r({...s,hashtagLimit:parseInt(x.target.value)}),disabled:a}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Instagram allows up to 30 hashtags per post"})]})]})]})}),e.jsx($,{value:"advanced",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Advanced Settings"}),e.jsx(X,{children:"Configure advanced options for the Instagram adapter"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsx(y,{id:"apiVersion",value:s.apiVersion||"v18.0",onChange:x=>r({...s,apiVersion:x.target.value}),placeholder:"v18.0",disabled:a})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"pollingInterval",children:"Content Polling Interval (ms)"}),e.jsx(y,{id:"pollingInterval",type:"number",value:s.pollingInterval||3e5,onChange:x=>r({...s,pollingInterval:parseInt(x.target.value)}),disabled:a}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"How often to check for new comments/mentions (default: 5 min)"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"insightsInterval",children:"Insights Polling Interval (ms)"}),e.jsx(y,{id:"insightsInterval",type:"number",value:s.insightsInterval||36e5,onChange:x=>r({...s,insightsInterval:parseInt(x.target.value)}),disabled:a}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"How often to fetch analytics data (default: 1 hour)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"requestsPerHour",children:"Rate Limit (requests/hour)"}),e.jsx(y,{id:"requestsPerHour",type:"number",value:s.rateLimitConfig?.requestsPerHour||200,onChange:x=>r({...s,rateLimitConfig:{...s.rateLimitConfig,requestsPerHour:parseInt(x.target.value)}}),disabled:a})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"retryAttempts",children:"Max Retry Attempts"}),e.jsx(y,{id:"retryAttempts",type:"number",value:s.retryConfig?.maxRetries||3,onChange:x=>r({...s,retryConfig:{...s.retryConfig,maxRetries:parseInt(x.target.value)}}),disabled:a})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"baseUrl",children:"API Base URL"}),e.jsx(y,{id:"baseUrl",value:s.baseUrl||"https://graph.facebook.com",onChange:x=>r({...s,baseUrl:x.target.value}),placeholder:"https://graph.facebook.com",disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"autoApproveComments",children:"Auto-approve Comments"})]}),e.jsx(Z,{id:"autoApproveComments",checked:s.autoApproveComments||!1,onCheckedChange:x=>r({...s,autoApproveComments:x}),disabled:a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"enableWebhooks",children:"Enable Webhooks"})]}),e.jsx(Z,{id:"enableWebhooks",checked:s.enableWebhooks||!1,onCheckedChange:x=>r({...s,enableWebhooks:x}),disabled:a})]})]})]})})]}),l&&!a&&s.accessToken&&e.jsx("div",{className:"flex justify-end",children:e.jsx(Ae,{onClick:l,variant:"outline",children:"Test Connection"})})]})},yc=({config:s,onChange:r,onTest:l,mode:j="create"})=>{const{toast:d}=tt(),[N,C]=g.useState(!1),[u,o]=g.useState("basic"),[i,p]=g.useState(s.features||{enableTextMessaging:!0,enableMediaMessaging:!0,enableTemplateMessaging:!0,enableInteractiveMessages:!0,enableStatusUpdates:!0,enableGroupMessaging:!0,enableContactManagement:!0,enableBusinessProfile:!0,enableCatalogs:!0,enableQRCodes:!0,enableLabels:!0,enableFlows:!0}),[a,x]=g.useState(s.settings||{maxTextLength:4096,maxCaptionLength:1024,maxButtonsPerMessage:3,maxSectionsPerList:10,maxItemsPerSection:10,sessionTimeoutMinutes:1440,autoDownloadMedia:!0,saveMediaLocally:!1,mediaStoragePath:"/tmp/whatsapp-media"}),T=()=>{C(!0);const n=s.clientId||s.appId,I=encodeURIComponent(window.location.origin+"/oauth/facebook/callback"),v=["whatsapp_business_management","whatsapp_business_messaging","business_management","pages_show_list","pages_read_engagement","pages_manage_metadata"].join(","),k=btoa(JSON.stringify({adapterId:s.id,adapterType:"whatsapp",timestamp:Date.now()})),E=`https://www.facebook.com/v18.0/dialog/oauth?client_id=${n}&redirect_uri=${I}&scope=${v}&state=${k}&response_type=code`,D=window.open(E,"WhatsAppAuth","width=600,height=700"),Q=setInterval(()=>{D?.closed&&(clearInterval(Q),C(!1))},1e3)};g.useEffect(()=>{r({...s,features:i,settings:a})},[i,a,s,r]);const A=j==="view";return e.jsxs("div",{className:"space-y-6",children:[s.accessToken&&e.jsxs(fe,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[e.jsx(ts,{className:"h-4 w-4 text-green-600"}),e.jsxs(Ce,{className:"text-green-800 dark:text-green-200",children:["Connected to WhatsApp Business Account: ",s.phoneNumberId]})]}),e.jsxs(ke,{value:u,onValueChange:o,children:[e.jsxs(Te,{className:"grid w-full grid-cols-5",children:[e.jsx(K,{value:"basic",children:"Basic Setup"}),e.jsx(K,{value:"features",children:"Features"}),e.jsx(K,{value:"messaging",children:"Messaging"}),e.jsx(K,{value:"webhook",children:"Webhooks"}),e.jsx(K,{value:"advanced",children:"Advanced"})]}),e.jsx($,{value:"basic",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5 text-green-600"}),"WhatsApp Business Configuration"]}),e.jsx(X,{children:"Configure your WhatsApp Business account credentials"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs(fe,{children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx(Ce,{children:"WhatsApp Business API requires a Facebook App and WhatsApp Business Account"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"appId",children:"Facebook App ID"}),e.jsx(y,{id:"appId",value:s.appId||"",onChange:n=>r({...s,appId:n.target.value}),placeholder:"Your Facebook App ID",disabled:A})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"appSecret",children:"Facebook App Secret"}),e.jsx(y,{id:"appSecret",type:"password",value:s.appSecret||"",onChange:n=>r({...s,appSecret:n.target.value}),placeholder:"Your Facebook App Secret",disabled:A})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"phoneNumberId",children:"Phone Number ID"}),e.jsx(y,{id:"phoneNumberId",value:s.phoneNumberId||"",onChange:n=>r({...s,phoneNumberId:n.target.value}),placeholder:"WhatsApp Phone Number ID",disabled:A}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From WhatsApp Business Manager"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"businessAccountId",children:"Business Account ID"}),e.jsx(y,{id:"businessAccountId",value:s.businessAccountId||"",onChange:n=>r({...s,businessAccountId:n.target.value}),placeholder:"WhatsApp Business Account ID",disabled:A})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"systemUserAccessToken",children:"System User Access Token (Optional)"}),e.jsx(y,{id:"systemUserAccessToken",type:"password",value:s.systemUserAccessToken||"",onChange:n=>r({...s,systemUserAccessToken:n.target.value}),placeholder:"For production use",disabled:A}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended for production environments"})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx(c,{children:"Authentication"}),s.accessToken||s.systemUserAccessToken?e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{variant:"success",children:"Connected"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.systemUserAccessToken?"Using System User Token":"Using OAuth Token"})]}),!A&&e.jsx(Ae,{variant:"outline",size:"sm",onClick:T,children:"Reconnect"})]}):e.jsx(Ae,{onClick:T,className:"w-full mt-2",disabled:!s.appId||N||A,children:N?"Connecting...":"Connect WhatsApp Business Account"})]})]})]})}),e.jsx($,{value:"features",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Enabled Features"}),e.jsx(X,{children:"Choose which WhatsApp Business features to enable"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"textMessaging",children:"Text Messaging"})]}),e.jsx(Z,{id:"textMessaging",checked:i.enableTextMessaging,onCheckedChange:n=>p({...i,enableTextMessaging:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"mediaMessaging",children:"Media Messaging"})]}),e.jsx(Z,{id:"mediaMessaging",checked:i.enableMediaMessaging,onCheckedChange:n=>p({...i,enableMediaMessaging:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ta,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"templateMessaging",children:"Template Messaging"})]}),e.jsx(Z,{id:"templateMessaging",checked:i.enableTemplateMessaging,onCheckedChange:n=>p({...i,enableTemplateMessaging:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ga,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"interactiveMessages",children:"Interactive Messages"})]}),e.jsx(Z,{id:"interactiveMessages",checked:i.enableInteractiveMessages,onCheckedChange:n=>p({...i,enableInteractiveMessages:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"statusUpdates",children:"Status Updates"})]}),e.jsx(Z,{id:"statusUpdates",checked:i.enableStatusUpdates,onCheckedChange:n=>p({...i,enableStatusUpdates:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"groupMessaging",children:"Group Messaging"})]}),e.jsx(Z,{id:"groupMessaging",checked:i.enableGroupMessaging,onCheckedChange:n=>p({...i,enableGroupMessaging:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tl,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"contactManagement",children:"Contact Management"})]}),e.jsx(Z,{id:"contactManagement",checked:i.enableContactManagement,onCheckedChange:n=>p({...i,enableContactManagement:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"businessProfile",children:"Business Profile"})]}),e.jsx(Z,{id:"businessProfile",checked:i.enableBusinessProfile,onCheckedChange:n=>p({...i,enableBusinessProfile:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"catalogs",children:"Catalogs"})]}),e.jsx(Z,{id:"catalogs",checked:i.enableCatalogs,onCheckedChange:n=>p({...i,enableCatalogs:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gn,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"qrCodes",children:"QR Codes"})]}),e.jsx(Z,{id:"qrCodes",checked:i.enableQRCodes,onCheckedChange:n=>p({...i,enableQRCodes:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yn,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"labels",children:"Labels"})]}),e.jsx(Z,{id:"labels",checked:i.enableLabels,onCheckedChange:n=>p({...i,enableLabels:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ga,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"flows",children:"Flows"})]}),e.jsx(Z,{id:"flows",checked:i.enableFlows,onCheckedChange:n=>p({...i,enableFlows:n}),disabled:A})]})]})})]})}),e.jsx($,{value:"messaging",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5"}),"Messaging Settings"]}),e.jsx(X,{children:"Configure message limits and behavior"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxTextLength",children:"Max Text Length"}),e.jsx(y,{id:"maxTextLength",type:"number",value:a.maxTextLength,onChange:n=>x({...a,maxTextLength:parseInt(n.target.value)}),disabled:A}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum characters per text message"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxCaptionLength",children:"Max Caption Length"}),e.jsx(y,{id:"maxCaptionLength",type:"number",value:a.maxCaptionLength,onChange:n=>x({...a,maxCaptionLength:parseInt(n.target.value)}),disabled:A})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxButtonsPerMessage",children:"Max Buttons per Message"}),e.jsx(y,{id:"maxButtonsPerMessage",type:"number",value:a.maxButtonsPerMessage,onChange:n=>x({...a,maxButtonsPerMessage:parseInt(n.target.value)}),max:"3",disabled:A})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxSectionsPerList",children:"Max Sections per List"}),e.jsx(y,{id:"maxSectionsPerList",type:"number",value:a.maxSectionsPerList,onChange:n=>x({...a,maxSectionsPerList:parseInt(n.target.value)}),max:"10",disabled:A})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"maxItemsPerSection",children:"Max Items per Section"}),e.jsx(y,{id:"maxItemsPerSection",type:"number",value:a.maxItemsPerSection,onChange:n=>x({...a,maxItemsPerSection:parseInt(n.target.value)}),max:"10",disabled:A})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),e.jsx(y,{id:"sessionTimeout",type:"number",value:a.sessionTimeoutMinutes,onChange:n=>x({...a,sessionTimeoutMinutes:parseInt(n.target.value)}),disabled:A}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"24-hour window for customer responses"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ka,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"autoDownloadMedia",children:"Auto-download Media"})]}),e.jsx(Z,{id:"autoDownloadMedia",checked:a.autoDownloadMedia,onCheckedChange:n=>x({...a,autoDownloadMedia:n}),disabled:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(HardDrive,{className:"h-4 w-4"}),e.jsx(c,{htmlFor:"saveMediaLocally",children:"Save Media Locally"})]}),e.jsx(Z,{id:"saveMediaLocally",checked:a.saveMediaLocally,onCheckedChange:n=>x({...a,saveMediaLocally:n}),disabled:A})]}),a.saveMediaLocally&&e.jsxs("div",{children:[e.jsx(c,{htmlFor:"mediaStoragePath",children:"Media Storage Path"}),e.jsx(y,{id:"mediaStoragePath",value:a.mediaStoragePath,onChange:n=>x({...a,mediaStoragePath:n.target.value}),placeholder:"/tmp/whatsapp-media",disabled:A})]})]})]})]})}),e.jsx($,{value:"webhook",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ga,{className:"h-5 w-5"}),"Webhook Configuration"]}),e.jsx(X,{children:"Configure webhooks to receive real-time updates"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{htmlFor:"webhookEnabled",children:"Enable Webhooks"}),e.jsx(Z,{id:"webhookEnabled",checked:s.webhookEnabled||!1,onCheckedChange:n=>r({...s,webhookEnabled:n}),disabled:A})]}),s.webhookEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(c,{children:"Webhook URL"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(y,{value:`${window.location.origin}/webhooks/whatsapp`,readOnly:!0,className:"font-mono text-sm"}),e.jsx(Ae,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/webhooks/whatsapp`),d({title:"Copied!",description:"Webhook URL copied to clipboard"})},children:"Copy"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Add this URL in your WhatsApp Business webhook settings"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"verifyToken",children:"Verify Token"}),e.jsx(y,{id:"verifyToken",value:s.verifyToken||"",onChange:n=>r({...s,verifyToken:n.target.value}),placeholder:"Create a secure verify token",disabled:A}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this same token in your WhatsApp webhook configuration"})]}),e.jsxs(fe,{children:[e.jsx(es,{className:"h-4 w-4"}),e.jsxs(Ce,{children:["Configure these webhook fields in WhatsApp Business:",e.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[e.jsx("li",{children:"messages - For incoming messages"}),e.jsx("li",{children:"message_status - For delivery receipts"}),e.jsx("li",{children:"message_template_status_update - For template approvals"})]})]})]})]})]})]})}),e.jsx($,{value:"advanced",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Advanced Settings"}),e.jsx(X,{children:"Configure advanced options for the WhatsApp Business adapter"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"apiVersion",children:"API Version"}),e.jsx(y,{id:"apiVersion",value:s.apiVersion||"v18.0",onChange:n=>r({...s,apiVersion:n.target.value}),placeholder:"v18.0",disabled:A})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"requestsPerHour",children:"Rate Limit (requests/hour)"}),e.jsx(y,{id:"requestsPerHour",type:"number",value:s.rateLimitConfig?.requestsPerHour||1e3,onChange:n=>r({...s,rateLimitConfig:{...s.rateLimitConfig,requestsPerHour:parseInt(n.target.value)}}),disabled:A}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"WhatsApp has higher rate limits than other platforms"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"retryAttempts",children:"Max Retry Attempts"}),e.jsx(y,{id:"retryAttempts",type:"number",value:s.retryConfig?.maxRetries||3,onChange:n=>r({...s,retryConfig:{...s.retryConfig,maxRetries:parseInt(n.target.value)}}),disabled:A})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"baseUrl",children:"API Base URL"}),e.jsx(y,{id:"baseUrl",value:s.baseUrl||"https://graph.facebook.com",onChange:n=>r({...s,baseUrl:n.target.value}),placeholder:"https://graph.facebook.com",disabled:A})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"statusPollingInterval",children:"Status Polling Interval (ms)"}),e.jsx(y,{id:"statusPollingInterval",type:"number",value:s.statusPollingInterval||6e4,onChange:n=>r({...s,statusPollingInterval:parseInt(n.target.value)}),disabled:A}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"How often to clean up processed messages"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"messageRetentionHours",children:"Message Retention (hours)"}),e.jsx(y,{id:"messageRetentionHours",type:"number",value:s.messageRetentionHours||24,onChange:n=>r({...s,messageRetentionHours:parseInt(n.target.value)}),disabled:A})]})]}),e.jsxs(fe,{children:[e.jsx(_a,{className:"h-4 w-4"}),e.jsxs(Ce,{children:[e.jsx("strong",{children:"Security Note:"})," Always use System User Access Tokens for production. User access tokens expire after 60 days."]})]})]})]})})]}),l&&!A&&(s.accessToken||s.systemUserAccessToken)&&e.jsx("div",{className:"flex justify-end",children:e.jsx(Ae,{onClick:l,variant:"outline",children:"Test Connection"})})]})};function Vs(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const fc=({configuration:s,onConfigurationChange:r,onValidation:l})=>{const[j,d]=g.useState(0),[N,C]=g.useState(s.authType||"oauth2"),[u,o]=g.useState({}),i=(a,x)=>{const T={...s},A=a.split(".");let n=T;for(let I=0;I<A.length-1;I++)n[A[I]]||(n[A[I]]={}),n=n[A[I]];n[A[A.length-1]]=x,r(T),p(T)},p=a=>{const x={};N==="bearer"&&!a.bearerToken&&(x.bearerToken="Bearer token is required"),N==="oauth2"&&(a.apiKey||(x.apiKey="API Key is required"),a.apiKeySecret||(x.apiKeySecret="API Key Secret is required"),a.accessToken||(x.accessToken="Access Token is required"),a.accessTokenSecret||(x.accessTokenSecret="Access Token Secret is required")),a.limits&&(a.limits.maxTweetLength>280&&(x.maxTweetLength="Maximum tweet length cannot exceed 280 characters"),a.limits.maxThreadLength>25&&(x.maxThreadLength="Maximum thread length cannot exceed 25 tweets"),a.limits.maxImagesPerTweet>4&&(x.maxImagesPerTweet="Maximum 4 images allowed per tweet")),o(x),l(Object.keys(x).length===0)};return e.jsxs(q,{sx:{width:"100%"},children:[e.jsx(me,{elevation:0,sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:j,onChange:(a,x)=>d(x),variant:"scrollable",children:[e.jsx(_,{icon:e.jsx(cs,{}),label:"Authentication"}),e.jsx(_,{icon:e.jsx(aa,{}),label:"Features"}),e.jsx(_,{icon:e.jsx(Ss,{}),label:"Limits & Rate Limiting"}),e.jsx(_,{icon:e.jsx(El,{}),label:"Polling & Webhooks"}),e.jsx(_,{icon:e.jsx(Qs,{}),label:"Advanced Settings"})]})}),e.jsxs(Vs,{value:j,index:0,children:[e.jsx(q,{sx:{mb:3},children:e.jsxs(ae,{severity:"info",icon:e.jsx(ss,{}),children:["Twitter API v2 requires authentication for all operations. Choose between OAuth 2.0 (user context) or Bearer Token (app-only context). User context provides access to more features.",e.jsx(We,{href:"https://developer.twitter.com/en/docs/authentication/overview",target:"_blank",sx:{ml:1},children:"Learn more"})]})}),e.jsxs(re,{component:"fieldset",sx:{mb:3},children:[e.jsx(Pl,{component:"legend",children:"Authentication Type"}),e.jsxs(Il,{value:N,onChange:a=>{C(a.target.value),i("authType",a.target.value)},children:[e.jsx(h,{value:"oauth2",control:e.jsx(ba,{}),label:"OAuth 2.0 (User Context - Full Access)"}),e.jsx(h,{value:"bearer",control:e.jsx(ba,{}),label:"Bearer Token (App-only Context - Limited Access)"})]})]}),N==="bearer"?e.jsx(f,{fullWidth:!0,label:"Bearer Token",type:"password",value:s.bearerToken||"",onChange:a=>i("bearerToken",a.target.value),error:!!u.bearerToken,helperText:u.bearerToken||"App-only authentication token",margin:"normal",required:!0}):e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"API Key (Consumer Key)",value:s.apiKey||"",onChange:a=>i("apiKey",a.target.value),error:!!u.apiKey,helperText:u.apiKey||"Your Twitter app API key",margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"API Key Secret (Consumer Secret)",type:"password",value:s.apiKeySecret||"",onChange:a=>i("apiKeySecret",a.target.value),error:!!u.apiKeySecret,helperText:u.apiKeySecret,margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Access Token",value:s.accessToken||"",onChange:a=>i("accessToken",a.target.value),error:!!u.accessToken,helperText:u.accessToken||"User access token",margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Access Token Secret",type:"password",value:s.accessTokenSecret||"",onChange:a=>i("accessTokenSecret",a.target.value),error:!!u.accessTokenSecret,helperText:u.accessTokenSecret,margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Client ID (OAuth 2.0)",value:s.clientId||"",onChange:a=>i("clientId",a.target.value),helperText:"Required for OAuth 2.0 flows",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Client Secret (OAuth 2.0)",type:"password",value:s.clientSecret||"",onChange:a=>i("clientSecret",a.target.value),helperText:"Required for OAuth 2.0 flows",margin:"normal"})})]}),e.jsx(q,{sx:{mt:3},children:e.jsx(Ne,{variant:"outlined",href:"https://developer.twitter.com/en/portal/projects-and-apps",target:"_blank",children:"Get Twitter API Credentials"})})]}),e.jsxs(Vs,{value:j,index:1,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Core Features"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTweetComposition??!0,onChange:a=>i("features.enableTweetComposition",a.target.checked)}),label:"Tweet Composition"}),e.jsx(L,{children:"Create and post tweets"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableThreading??!0,onChange:a=>i("features.enableThreading",a.target.checked)}),label:"Threading Support"}),e.jsx(L,{children:"Create tweet threads"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTimelineRetrieval??!0,onChange:a=>i("features.enableTimelineRetrieval",a.target.checked)}),label:"Timeline Retrieval"}),e.jsx(L,{children:"Access home and user timelines"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMentionMonitoring??!0,onChange:a=>i("features.enableMentionMonitoring",a.target.checked)}),label:"Mention Monitoring"}),e.jsx(L,{children:"Track @mentions"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableFollowerAnalytics??!0,onChange:a=>i("features.enableFollowerAnalytics",a.target.checked)}),label:"Follower Analytics"}),e.jsx(L,{children:"Track follower metrics"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMediaUpload??!0,onChange:a=>i("features.enableMediaUpload",a.target.checked)}),label:"Media Upload"}),e.jsx(L,{children:"Upload images, GIFs, and videos"})]})]})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Advanced Features"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSpacesIntegration??!1,onChange:a=>i("features.enableSpacesIntegration",a.target.checked)}),label:"Spaces Integration"}),e.jsx(L,{children:"Monitor and interact with Twitter Spaces"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDirectMessages??!1,onChange:a=>i("features.enableDirectMessages",a.target.checked)}),label:"Direct Messages"}),e.jsx(L,{children:"Send and receive DMs"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLists??!1,onChange:a=>i("features.enableLists",a.target.checked)}),label:"Lists Management"}),e.jsx(L,{children:"Create and manage Twitter lists"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBookmarks??!1,onChange:a=>i("features.enableBookmarks",a.target.checked)}),label:"Bookmarks"}),e.jsx(L,{children:"Save and manage bookmarks"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePolls??!1,onChange:a=>i("features.enablePolls",a.target.checked)}),label:"Polls"}),e.jsx(L,{children:"Create polls in tweets"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableScheduledTweets??!1,onChange:a=>i("features.enableScheduledTweets",a.target.checked)}),label:"Scheduled Tweets"}),e.jsx(L,{children:"Schedule tweets for later"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableQuoteTweets??!0,onChange:a=>i("features.enableQuoteTweets",a.target.checked)}),label:"Quote Tweets"}),e.jsx(L,{children:"Quote other tweets"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableRetweets??!0,onChange:a=>i("features.enableRetweets",a.target.checked)}),label:"Retweets"}),e.jsx(L,{children:"Retweet functionality"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLikes??!0,onChange:a=>i("features.enableLikes",a.target.checked)}),label:"Likes"}),e.jsx(L,{children:"Like tweets"})]})]})})]}),e.jsxs(Vs,{value:j,index:2,children:[e.jsxs(Ee,{defaultExpanded:!0,children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Content Limits"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Tweet Length"}),e.jsx(Fe,{value:s.limits?.maxTweetLength||280,onChange:(a,x)=>i("limits.maxTweetLength",x),min:1,max:280,marks:[{value:140,label:"140"},{value:280,label:"280"}],valueLabelDisplay:"on"}),u.maxTweetLength&&e.jsx(L,{error:!0,children:u.maxTweetLength})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Thread Length"}),e.jsx(Fe,{value:s.limits?.maxThreadLength||25,onChange:(a,x)=>i("limits.maxThreadLength",x),min:2,max:25,marks:[{value:5,label:"5"},{value:15,label:"15"},{value:25,label:"25"}],valueLabelDisplay:"on"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Images Per Tweet"}),e.jsx(Fe,{value:s.limits?.maxImagesPerTweet||4,onChange:(a,x)=>i("limits.maxImagesPerTweet",x),min:1,max:4,marks:!0,valueLabelDisplay:"on"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Video Length (seconds)"}),e.jsx(Fe,{value:s.limits?.maxVideoLength||140,onChange:(a,x)=>i("limits.maxVideoLength",x),min:1,max:140,marks:[{value:30,label:"30s"},{value:60,label:"1m"},{value:140,label:"2m20s"}],valueLabelDisplay:"on"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Video Size (MB)",type:"number",value:s.limits?.maxVideoSizeMB||512,onChange:a=>i("limits.maxVideoSizeMB",parseInt(a.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max GIF Size (MB)",type:"number",value:s.limits?.maxGifSizeMB||15,onChange:a=>i("limits.maxGifSizeMB",parseInt(a.target.value)),margin:"normal"})})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Poll Limits"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Poll Options"}),e.jsx(Fe,{value:s.limits?.maxPollOptions||4,onChange:(a,x)=>i("limits.maxPollOptions",x),min:2,max:4,marks:!0,valueLabelDisplay:"on"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Poll Duration (hours)",type:"number",value:s.limits?.maxPollDurationHours||168,onChange:a=>i("limits.maxPollDurationHours",parseInt(a.target.value)),helperText:"Maximum: 7 days (168 hours)",margin:"normal"})})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"List Limits"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Lists Per Account",type:"number",value:s.limits?.maxListsPerAccount||1e3,onChange:a=>i("limits.maxListsPerAccount",parseInt(a.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Accounts Per List",type:"number",value:s.limits?.maxAccountsPerList||5e3,onChange:a=>i("limits.maxAccountsPerList",parseInt(a.target.value)),margin:"normal"})})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Rate Limiting"})}),e.jsxs(Me,{children:[e.jsx(ae,{severity:"info",sx:{mb:2},children:"Twitter API v2 has strict rate limits. Configure these settings to avoid hitting limits."}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max API Calls Per Hour",type:"number",value:s.rateLimiting?.maxCallsPerHour||300,onChange:a=>i("rateLimiting.maxCallsPerHour",parseInt(a.target.value)),helperText:"Twitter's default: 300/15min for most endpoints",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Burst Limit",type:"number",value:s.rateLimiting?.burstLimit||100,onChange:a=>i("rateLimiting.burstLimit",parseInt(a.target.value)),helperText:"Maximum calls in a short burst",margin:"normal"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(h,{control:e.jsx(m,{checked:s.rateLimiting?.enableAdaptiveRateLimiting??!0,onChange:a=>i("rateLimiting.enableAdaptiveRateLimiting",a.target.checked)}),label:"Enable Adaptive Rate Limiting"}),e.jsx(L,{children:"Automatically adjust rate based on API response headers"})]})]})]})]})]}),e.jsxs(Vs,{value:j,index:3,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Polling Configuration"}),e.jsx(ae,{severity:"info",sx:{mb:2},children:"Configure how often to poll Twitter for new data. Lower intervals provide more real-time data but consume more API calls."}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Mention Polling Interval (seconds)",type:"number",value:s.polling?.mentionPollingInterval||60,onChange:a=>i("polling.mentionPollingInterval",parseInt(a.target.value)),helperText:"How often to check for new mentions",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Timeline Polling Interval (seconds)",type:"number",value:s.polling?.timelinePollingInterval||300,onChange:a=>i("polling.timelinePollingInterval",parseInt(a.target.value)),helperText:"How often to check timeline updates",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"DM Polling Interval (seconds)",type:"number",value:s.polling?.dmPollingInterval||120,onChange:a=>i("polling.dmPollingInterval",parseInt(a.target.value)),helperText:"How often to check for new direct messages",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Spaces Polling Interval (seconds)",type:"number",value:s.polling?.spacesPollingInterval||300,onChange:a=>i("polling.spacesPollingInterval",parseInt(a.target.value)),helperText:"How often to check for live Spaces",margin:"normal"})})]}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Webhook Configuration"}),e.jsx(ae,{severity:"warning",sx:{mb:2},children:"Twitter webhooks require Account Activity API access and proper webhook URL registration."}),e.jsx(h,{control:e.jsx(m,{checked:s.webhook?.enabled??!1,onChange:a=>i("webhook.enabled",a.target.checked)}),label:"Enable Webhooks"}),s.webhook?.enabled&&e.jsxs(q,{sx:{mt:2},children:[e.jsx(f,{fullWidth:!0,label:"Webhook Environment",value:s.webhook?.environment||"",onChange:a=>i("webhook.environment",a.target.value),helperText:"Twitter webhook environment name",margin:"normal"}),e.jsx(f,{fullWidth:!0,label:"Webhook URL",value:s.webhook?.url||"",onChange:a=>i("webhook.url",a.target.value),helperText:"Your server's webhook endpoint URL",margin:"normal"}),e.jsxs(xe,{sx:{mt:2},children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Webhook Events"}),e.jsx(h,{control:e.jsx(Rs,{checked:s.webhook?.events?.tweets??!0,onChange:a=>i("webhook.events.tweets",a.target.checked)}),label:"Tweet Events"}),e.jsx(h,{control:e.jsx(Rs,{checked:s.webhook?.events?.favorites??!0,onChange:a=>i("webhook.events.favorites",a.target.checked)}),label:"Favorite Events"}),e.jsx(h,{control:e.jsx(Rs,{checked:s.webhook?.events?.follows??!0,onChange:a=>i("webhook.events.follows",a.target.checked)}),label:"Follow Events"}),e.jsx(h,{control:e.jsx(Rs,{checked:s.webhook?.events?.directMessages??!0,onChange:a=>i("webhook.events.directMessages",a.target.checked)}),label:"Direct Message Events"})]})]})]}),e.jsxs(Vs,{value:j,index:4,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Data Processing"}),e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Tweet Fields to Retrieve"}),e.jsx(ce,{multiple:!0,value:s.dataProcessing?.tweetFields||["id","text","created_at","author_id"],onChange:a=>i("dataProcessing.tweetFields",a.target.value),renderValue:a=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:a.map(x=>e.jsx(ye,{label:x,size:"small"},x))}),children:["id","text","created_at","author_id","conversation_id","public_metrics","entities","attachments","geo","lang","possibly_sensitive","reply_settings","source","withheld"].map(a=>e.jsx(F,{value:a,children:a},a))})]}),e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"User Fields to Retrieve"}),e.jsx(ce,{multiple:!0,value:s.dataProcessing?.userFields||["id","name","username"],onChange:a=>i("dataProcessing.userFields",a.target.value),renderValue:a=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:a.map(x=>e.jsx(ye,{label:x,size:"small"},x))}),children:["id","name","username","created_at","description","location","pinned_tweet_id","profile_image_url","protected","public_metrics","url","verified","verified_type"].map(a=>e.jsx(F,{value:a,children:a},a))})]}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Error Handling"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Retry Attempts",type:"number",value:s.errorHandling?.maxRetryAttempts||3,onChange:a=>i("errorHandling.maxRetryAttempts",parseInt(a.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Retry Delay (ms)",type:"number",value:s.errorHandling?.retryDelay||1e3,onChange:a=>i("errorHandling.retryDelay",parseInt(a.target.value)),margin:"normal"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(h,{control:e.jsx(m,{checked:s.errorHandling?.enableExponentialBackoff??!0,onChange:a=>i("errorHandling.enableExponentialBackoff",a.target.checked)}),label:"Enable Exponential Backoff"}),e.jsx(L,{children:"Increase retry delay exponentially on consecutive failures"})]})]}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Logging & Monitoring"}),e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Log Level"}),e.jsxs(ce,{value:s.logging?.level||"INFO",onChange:a=>i("logging.level",a.target.value),children:[e.jsx(F,{value:"DEBUG",children:"DEBUG"}),e.jsx(F,{value:"INFO",children:"INFO"}),e.jsx(F,{value:"WARN",children:"WARN"}),e.jsx(F,{value:"ERROR",children:"ERROR"})]})]}),e.jsxs(xe,{sx:{mt:2},children:[e.jsx(h,{control:e.jsx(m,{checked:s.logging?.logApiCalls??!1,onChange:a=>i("logging.logApiCalls",a.target.checked)}),label:"Log API Calls"}),e.jsx(h,{control:e.jsx(m,{checked:s.logging?.logRateLimitHeaders??!0,onChange:a=>i("logging.logRateLimitHeaders",a.target.checked)}),label:"Log Rate Limit Headers"}),e.jsx(h,{control:e.jsx(m,{checked:s.monitoring?.enableMetrics??!0,onChange:a=>i("monitoring.enableMetrics",a.target.checked)}),label:"Enable Metrics Collection"}),e.jsx(h,{control:e.jsx(m,{checked:s.monitoring?.enableHealthCheck??!0,onChange:a=>i("monitoring.enableHealthCheck",a.target.checked)}),label:"Enable Health Check Endpoint"})]}),e.jsx(q,{sx:{mt:3},children:e.jsxs(ae,{severity:"info",children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Best Practices"}),e.jsxs("ul",{style:{marginLeft:20,marginTop:8},children:[e.jsx("li",{children:"Always handle rate limit responses gracefully"}),e.jsx("li",{children:"Use webhook events when possible to reduce polling"}),e.jsx("li",{children:"Batch requests when retrieving multiple items"}),e.jsx("li",{children:"Cache frequently accessed data locally"}),e.jsx("li",{children:"Monitor your API usage to avoid hitting limits"})]})]})})]})]})};function us(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const Cc=({configuration:s,onConfigurationChange:r,onValidation:l})=>{const[j,d]=g.useState(0),[N,C]=g.useState({}),u=(x,T)=>{const A={...s},n=x.split(".");let I=A;for(let v=0;v<n.length-1;v++)I[n[v]]||(I[n[v]]={}),I=I[n[v]];I[n[n.length-1]]=T,r(A),o(A)},o=x=>{const T={};x.adsAccountId||(T.adsAccountId="Ads Account ID is required"),x.apiKey||(T.apiKey="API Key is required"),x.apiKeySecret||(T.apiKeySecret="API Key Secret is required"),x.accessToken||(T.accessToken="Access Token is required"),x.accessTokenSecret||(T.accessTokenSecret="Access Token Secret is required"),x.limits&&(x.limits.minDailyBudget<1&&(T.minDailyBudget="Minimum daily budget must be at least $1"),x.limits.maxDailyBudget>1e6&&(T.maxDailyBudget="Maximum daily budget cannot exceed $1,000,000"),x.limits.maxCampaignsPerAccount>200&&(T.maxCampaignsPerAccount="Maximum campaigns per account cannot exceed 200")),C(T),l(Object.keys(T).length===0)},i=[{value:"AWARENESS",label:"Awareness - Maximize reach"},{value:"TWEET_ENGAGEMENTS",label:"Tweet Engagements - Likes, retweets, replies"},{value:"VIDEO_VIEWS",label:"Video Views - Maximize video views"},{value:"PRE_ROLL_VIEWS",label:"Pre-roll Views - In-stream video views"},{value:"APP_INSTALLS",label:"App Installs - Drive app downloads"},{value:"WEBSITE_TRAFFIC",label:"Website Traffic - Drive clicks to website"},{value:"FOLLOWERS",label:"Followers - Grow your audience"},{value:"APP_ENGAGEMENTS",label:"App Engagements - Drive app opens"},{value:"WEBSITE_CONVERSIONS",label:"Website Conversions - Drive actions"},{value:"IN_STREAM_VIDEO_VIEWS",label:"In-stream Video Views"}],p=[{value:"AUTO",label:"Automatic Bidding"},{value:"MAX",label:"Maximum Bid"},{value:"TARGET",label:"Target Bid"}],a=[{value:"ALL_ON_TWITTER",label:"All on Twitter"},{value:"PUBLISHER_NETWORK",label:"Publisher Network"},{value:"TWITTER_SEARCH",label:"Twitter Search Results"},{value:"TWITTER_TIMELINE",label:"Twitter Timeline"},{value:"TWITTER_PROFILE",label:"Twitter Profiles"}];return e.jsxs(q,{sx:{width:"100%"},children:[e.jsx(me,{elevation:0,sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:j,onChange:(x,T)=>d(T),variant:"scrollable",children:[e.jsx(_,{icon:e.jsx(cs,{}),label:"Authentication"}),e.jsx(_,{icon:e.jsx(ra,{}),label:"Campaign Settings"}),e.jsx(_,{icon:e.jsx(aa,{}),label:"Features"}),e.jsx(_,{icon:e.jsx(yt,{}),label:"Budget & Bidding"}),e.jsx(_,{icon:e.jsx(Us,{}),label:"Targeting & Audiences"}),e.jsx(_,{icon:e.jsx(ds,{}),label:"Analytics & Reporting"}),e.jsx(_,{icon:e.jsx(Ss,{}),label:"Limits & Advanced"})]})}),e.jsxs(us,{value:j,index:0,children:[e.jsx(q,{sx:{mb:3},children:e.jsxs(ae,{severity:"info",icon:e.jsx(ss,{}),children:["Twitter Ads API uses OAuth 1.0a authentication. You'll need to create a Twitter Ads account and app to get these credentials.",e.jsx(We,{href:"https://business.twitter.com/en/help/campaign-setup/access-twitter-ads.html",target:"_blank",sx:{ml:1},children:"Learn more"})]})}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Ads Account ID",value:s.adsAccountId||"",onChange:x=>u("adsAccountId",x.target.value),error:!!N.adsAccountId,helperText:N.adsAccountId||"Your Twitter Ads account ID (e.g., 18ce54d4x5t)",margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"API Key (Consumer Key)",value:s.apiKey||"",onChange:x=>u("apiKey",x.target.value),error:!!N.apiKey,helperText:N.apiKey||"Your Twitter app API key",margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"API Key Secret (Consumer Secret)",type:"password",value:s.apiKeySecret||"",onChange:x=>u("apiKeySecret",x.target.value),error:!!N.apiKeySecret,helperText:N.apiKeySecret,margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Access Token",value:s.accessToken||"",onChange:x=>u("accessToken",x.target.value),error:!!N.accessToken,helperText:N.accessToken||"User access token with ads permissions",margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Access Token Secret",type:"password",value:s.accessTokenSecret||"",onChange:x=>u("accessTokenSecret",x.target.value),error:!!N.accessTokenSecret,helperText:N.accessTokenSecret,margin:"normal",required:!0})})]}),e.jsx(q,{sx:{mt:3},children:e.jsx(Ne,{variant:"outlined",href:"https://developer.twitter.com/en/portal/projects-and-apps",target:"_blank",children:"Get Twitter Ads API Access"})})]}),e.jsxs(us,{value:j,index:1,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Default Campaign Settings"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Default Campaign Objective"}),e.jsx(ce,{value:s.defaultObjective||"TWEET_ENGAGEMENTS",onChange:x=>u("defaultObjective",x.target.value),children:i.map(x=>e.jsx(F,{value:x.value,children:x.label},x.value))}),e.jsx(L,{children:"Default objective for new campaigns"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Default Bid Type"}),e.jsx(ce,{value:s.defaultBidType||"AUTO",onChange:x=>u("defaultBidType",x.target.value),children:p.map(x=>e.jsx(F,{value:x.value,children:x.label},x.value))})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Default Placements"}),e.jsx(ce,{multiple:!0,value:s.defaultPlacements||["ALL_ON_TWITTER"],onChange:x=>u("defaultPlacements",x.target.value),renderValue:x=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:x.map(T=>e.jsx(ye,{label:T,size:"small"},T))}),children:a.map(x=>e.jsx(F,{value:x.value,children:x.label},x.value))})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Funding Instrument Type"}),e.jsxs(ce,{value:s.fundingInstrumentType||"CREDIT_CARD",onChange:x=>u("fundingInstrumentType",x.target.value),children:[e.jsx(F,{value:"CREDIT_CARD",children:"Credit Card"}),e.jsx(F,{value:"AGENCY_CREDIT_LINE",children:"Agency Credit Line"}),e.jsx(F,{value:"INSERTION_ORDER",children:"Insertion Order"}),e.jsx(F,{value:"CREDIT_LINE",children:"Credit Line"})]})]})})]})]}),e.jsxs(us,{value:j,index:2,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Campaign Management Features"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCampaignManagement??!0,onChange:x=>u("features.enableCampaignManagement",x.target.checked)}),label:"Campaign Management"}),e.jsx(L,{children:"Create, update, and manage campaigns"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAdGroupManagement??!0,onChange:x=>u("features.enableAdGroupManagement",x.target.checked)}),label:"Ad Group Management"}),e.jsx(L,{children:"Manage line items and ad groups"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCreativeManagement??!0,onChange:x=>u("features.enableCreativeManagement",x.target.checked)}),label:"Creative Management"}),e.jsx(L,{children:"Create and manage ad creatives"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBudgetManagement??!0,onChange:x=>u("features.enableBudgetManagement",x.target.checked)}),label:"Budget Management"}),e.jsx(L,{children:"Monitor and control spending"})]})]})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Ad Formats"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePromotedTweets??!0,onChange:x=>u("features.enablePromotedTweets",x.target.checked)}),label:"Promoted Tweets"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePromotedAccounts??!0,onChange:x=>u("features.enablePromotedAccounts",x.target.checked)}),label:"Promoted Accounts"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePromotedTrends??!1,onChange:x=>u("features.enablePromotedTrends",x.target.checked)}),label:"Promoted Trends"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoAds??!0,onChange:x=>u("features.enableVideoAds",x.target.checked)}),label:"Video Ads"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCarouselAds??!0,onChange:x=>u("features.enableCarouselAds",x.target.checked)}),label:"Carousel Ads"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMomentAds??!1,onChange:x=>u("features.enableMomentAds",x.target.checked)}),label:"Moment Ads"})})]})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Card Types"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableWebsiteCards??!0,onChange:x=>u("features.enableWebsiteCards",x.target.checked)}),label:"Website Cards"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAppCards??!0,onChange:x=>u("features.enableAppCards",x.target.checked)}),label:"App Cards"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLeadGenCards??!0,onChange:x=>u("features.enableLeadGenCards",x.target.checked)}),label:"Lead Generation Cards"})})]})})]}),e.jsxs(us,{value:j,index:3,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Budget Limits"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Minimum Daily Budget",type:"number",value:s.limits?.minDailyBudget||1,onChange:x=>u("limits.minDailyBudget",parseFloat(x.target.value)),error:!!N.minDailyBudget,helperText:N.minDailyBudget||"Minimum daily budget in USD",margin:"normal",InputProps:{startAdornment:e.jsx(Xs,{position:"start",children:"$"})}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Maximum Daily Budget",type:"number",value:s.limits?.maxDailyBudget||1e6,onChange:x=>u("limits.maxDailyBudget",parseFloat(x.target.value)),error:!!N.maxDailyBudget,helperText:N.maxDailyBudget||"Maximum daily budget in USD",margin:"normal",InputProps:{startAdornment:e.jsx(Xs,{position:"start",children:"$"})}})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBidding??!0,onChange:x=>u("features.enableBidding",x.target.checked)}),label:"Enable Bidding Management"}),e.jsx(L,{children:"Control bid strategies and amounts for campaigns"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"warning",children:"Budget alerts will be triggered when campaigns reach 75%, 90%, and 100% of their daily budget."})})]}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Budget Alert Thresholds"}),e.jsx(t,{container:!0,spacing:2,children:[50,75,90,95].map(x=>e.jsx(t,{item:!0,xs:6,md:3,children:e.jsx(h,{control:e.jsx(Rs,{checked:s.budgetAlertThresholds?.includes(x)??x>=75,onChange:T=>{const A=s.budgetAlertThresholds||[75,90];T.target.checked?u("budgetAlertThresholds",[...A,x].sort()):u("budgetAlertThresholds",A.filter(n=>n!==x))}}),label:`${x}%`})},x))})]}),e.jsxs(us,{value:j,index:4,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Audience Features"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAudienceTargeting??!0,onChange:x=>u("features.enableAudienceTargeting",x.target.checked)}),label:"Audience Targeting"}),e.jsx(L,{children:"Target specific audiences"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCustomAudiences??!0,onChange:x=>u("features.enableCustomAudiences",x.target.checked)}),label:"Custom Audiences"}),e.jsx(L,{children:"Upload and manage custom audience lists"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTailoredAudiences??!0,onChange:x=>u("features.enableTailoredAudiences",x.target.checked)}),label:"Tailored Audiences"}),e.jsx(L,{children:"Create audiences from web activity"})]})]})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Audience Limits"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Minimum Custom Audience Size",type:"number",value:s.limits?.minCustomAudienceSize||100,onChange:x=>u("limits.minCustomAudienceSize",parseInt(x.target.value)),helperText:"Minimum number of users for custom audience",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Maximum Custom Audience Size",type:"number",value:s.limits?.maxCustomAudienceSize||5e5,onChange:x=>u("limits.maxCustomAudienceSize",parseInt(x.target.value)),helperText:"Maximum number of users per custom audience",margin:"normal"})})]}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Targeting Options"}),e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Enabled Targeting Types"}),e.jsx(ce,{multiple:!0,value:s.enabledTargetingTypes||["LOCATION","GENDER","AGE","LANGUAGE","INTEREST","KEYWORD"],onChange:x=>u("enabledTargetingTypes",x.target.value),renderValue:x=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:x.map(T=>e.jsx(ye,{label:T,size:"small"},T))}),children:["LOCATION","GENDER","AGE","LANGUAGE","INTEREST","KEYWORD","FOLLOWER","DEVICE","BEHAVIOR","PLATFORM","CARRIER","TV_SHOW","TV_GENRE","EVENT"].map(x=>e.jsx(F,{value:x,children:x.replace(/_/g," ")},x))}),e.jsx(L,{children:"Select which targeting options to enable"})]})]}),e.jsxs(us,{value:j,index:5,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Analytics & Reporting"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnalytics??!0,onChange:x=>u("features.enableAnalytics",x.target.checked)}),label:"Analytics"}),e.jsx(L,{children:"Track campaign performance metrics"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableReporting??!0,onChange:x=>u("features.enableReporting",x.target.checked)}),label:"Custom Reporting"}),e.jsx(L,{children:"Generate custom reports"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableConversionTracking??!0,onChange:x=>u("features.enableConversionTracking",x.target.checked)}),label:"Conversion Tracking"}),e.jsx(L,{children:"Track conversions and ROI"})]})]})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Metrics Configuration"}),e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Default Metrics"}),e.jsx(ce,{multiple:!0,value:s.defaultMetrics||["IMPRESSIONS","ENGAGEMENTS","CLICKS","SPEND"],onChange:x=>u("defaultMetrics",x.target.value),renderValue:x=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:x.map(T=>e.jsx(ye,{label:T,size:"small"},T))}),children:["IMPRESSIONS","ENGAGEMENTS","ENGAGEMENT_RATE","RETWEETS","REPLIES","LIKES","FOLLOWS","CLICKS","LINK_CLICKS","APP_CLICKS","APP_INSTALLS","VIDEO_VIEWS","SPEND","COST_PER_ENGAGEMENT","COST_PER_FOLLOWER","CONVERSION_PURCHASES","CONVERSION_SIGN_UPS","CONVERSION_DOWNLOADS"].map(x=>e.jsx(F,{value:x,children:x.replace(/_/g," ").toLowerCase()},x))}),e.jsx(L,{children:"Select default metrics to track"})]}),e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Default Report Granularity"}),e.jsxs(ce,{value:s.defaultGranularity||"DAY",onChange:x=>u("defaultGranularity",x.target.value),children:[e.jsx(F,{value:"HOUR",children:"Hourly"}),e.jsx(F,{value:"DAY",children:"Daily"}),e.jsx(F,{value:"TOTAL",children:"Total"})]})]}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Polling Intervals"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Campaign Performance Polling (minutes)",type:"number",value:(s.polling?.campaignPollingInterval||3e5)/6e4,onChange:x=>u("polling.campaignPollingInterval",parseInt(x.target.value)*6e4),helperText:"How often to check campaign performance",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Conversion Events Polling (minutes)",type:"number",value:(s.polling?.conversionPollingInterval||18e5)/6e4,onChange:x=>u("polling.conversionPollingInterval",parseInt(x.target.value)*6e4),helperText:"How often to check for conversion events",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Budget Check Interval (minutes)",type:"number",value:(s.polling?.budgetCheckInterval||6e5)/6e4,onChange:x=>u("polling.budgetCheckInterval",parseInt(x.target.value)*6e4),helperText:"How often to check budget alerts",margin:"normal"})})]})]}),e.jsxs(us,{value:j,index:6,children:[e.jsxs(Ee,{defaultExpanded:!0,children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Campaign & Ad Group Limits"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Campaigns Per Account",type:"number",value:s.limits?.maxCampaignsPerAccount||200,onChange:x=>u("limits.maxCampaignsPerAccount",parseInt(x.target.value)),error:!!N.maxCampaignsPerAccount,helperText:N.maxCampaignsPerAccount||"Maximum: 200",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Ad Groups Per Campaign",type:"number",value:s.limits?.maxAdGroupsPerCampaign||100,onChange:x=>u("limits.maxAdGroupsPerCampaign",parseInt(x.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Ads Per Ad Group",type:"number",value:s.limits?.maxAdsPerAdGroup||50,onChange:x=>u("limits.maxAdsPerAdGroup",parseInt(x.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Keywords Per Ad Group",type:"number",value:s.limits?.maxKeywordsPerAdGroup||1e3,onChange:x=>u("limits.maxKeywordsPerAdGroup",parseInt(x.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Targeting Criteria Per Ad Group",type:"number",value:s.limits?.maxTargetingCriteriaPerAdGroup||50,onChange:x=>u("limits.maxTargetingCriteriaPerAdGroup",parseInt(x.target.value)),margin:"normal"})})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Rate Limiting"})}),e.jsxs(Me,{children:[e.jsx(ae,{severity:"info",sx:{mb:2},children:"Twitter Ads API has specific rate limits per endpoint. Configure these settings to stay within limits."}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max API Calls Per Window",type:"number",value:s.rateLimiting?.maxCallsPerWindow||15,onChange:x=>u("rateLimiting.maxCallsPerWindow",parseInt(x.target.value)),helperText:"Maximum calls per 15-minute window",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Rate Limit Window (minutes)",type:"number",value:s.rateLimiting?.windowMinutes||15,onChange:x=>u("rateLimiting.windowMinutes",parseInt(x.target.value)),margin:"normal"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(h,{control:e.jsx(m,{checked:s.rateLimiting?.enableAdaptiveRateLimiting??!0,onChange:x=>u("rateLimiting.enableAdaptiveRateLimiting",x.target.checked)}),label:"Enable Adaptive Rate Limiting"}),e.jsx(L,{children:"Automatically adjust rate based on API response headers"})]})]})]})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Error Handling"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Retry Attempts",type:"number",value:s.errorHandling?.maxRetryAttempts||3,onChange:x=>u("errorHandling.maxRetryAttempts",parseInt(x.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Retry Delay (ms)",type:"number",value:s.errorHandling?.retryDelay||1e3,onChange:x=>u("errorHandling.retryDelay",parseInt(x.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.errorHandling?.enableExponentialBackoff??!0,onChange:x=>u("errorHandling.enableExponentialBackoff",x.target.checked)}),label:"Enable Exponential Backoff"})})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Advanced Settings"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"API Version",value:s.apiVersion||"12",onChange:x=>u("apiVersion",x.target.value),helperText:"Twitter Ads API version (default: 12)",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Log Level"}),e.jsxs(ce,{value:s.logging?.level||"INFO",onChange:x=>u("logging.level",x.target.value),children:[e.jsx(F,{value:"DEBUG",children:"DEBUG"}),e.jsx(F,{value:"INFO",children:"INFO"}),e.jsx(F,{value:"WARN",children:"WARN"}),e.jsx(F,{value:"ERROR",children:"ERROR"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(xe,{children:[e.jsx(h,{control:e.jsx(m,{checked:s.logging?.logApiCalls??!1,onChange:x=>u("logging.logApiCalls",x.target.checked)}),label:"Log API Calls"}),e.jsx(h,{control:e.jsx(m,{checked:s.monitoring?.enableMetrics??!0,onChange:x=>u("monitoring.enableMetrics",x.target.checked)}),label:"Enable Metrics Collection"}),e.jsx(h,{control:e.jsx(m,{checked:s.monitoring?.enableHealthCheck??!0,onChange:x=>u("monitoring.enableHealthCheck",x.target.checked)}),label:"Enable Health Check Endpoint"})]})})]})})]}),e.jsx(q,{sx:{mt:3},children:e.jsxs(ae,{severity:"info",children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Best Practices"}),e.jsxs("ul",{style:{marginLeft:20,marginTop:8},children:[e.jsx("li",{children:"Always test campaigns with small budgets first"}),e.jsx("li",{children:"Use Custom Audiences for better targeting"}),e.jsx("li",{children:"Monitor spend closely with budget alerts"}),e.jsx("li",{children:"Leverage A/B testing for creative optimization"}),e.jsx("li",{children:"Use conversion tracking to measure ROI"}),e.jsx("li",{children:"Review performance metrics regularly"})]})]})})]})]})};function hs(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const Sc=({configuration:s,onConfigurationChange:r,onValidation:l})=>{const[j,d]=g.useState(0),[N,C]=g.useState({}),u=(a,x)=>{const T={...s},A=a.split(".");let n=T;for(let I=0;I<A.length-1;I++)n[A[I]]||(n[A[I]]={}),n=n[A[I]];n[A[A.length-1]]=x,r(T),o(T)},o=a=>{const x={};a.clientId||(x.clientId="Client ID is required"),a.clientSecret||(x.clientSecret="Client Secret is required"),!a.accessToken&&!a.refreshToken&&(x.accessToken="Access Token or Refresh Token is required"),!a.memberUrn&&!a.organizationId&&(x.memberUrn="Either Member URN or Organization ID is required"),a.limits&&(a.limits.maxPostLength>3e3&&(x.maxPostLength="Maximum post length is 3000 characters"),a.limits.maxArticleLength>125e3&&(x.maxArticleLength="Maximum article length is 125000 characters"),a.limits.maxHashtagsPerPost>30&&(x.maxHashtagsPerPost="Maximum 30 hashtags allowed per post")),C(x),l(Object.keys(x).length===0)},i=[{value:"CONNECTIONS",label:"Connections only (1st degree)"},{value:"PUBLIC",label:"Anyone on LinkedIn"},{value:"LOGGED_IN",label:"LinkedIn members"},{value:"CONTAINER",label:"Container members only"}],p=["ADMIN","ANALYST","ASSOCIATE","CONTENT_ADMIN","CURATOR","LEAD_GEN_FORMS_MANAGER","MANAGER","MESSAGING_AGENT","PAID_MEDIA_ADMIN","RECRUITER"];return e.jsxs(q,{sx:{width:"100%"},children:[e.jsx(me,{elevation:0,sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:j,onChange:(a,x)=>d(x),variant:"scrollable",children:[e.jsx(_,{icon:e.jsx(cs,{}),label:"Authentication"}),e.jsx(_,{icon:e.jsx(za,{}),label:"Account Settings"}),e.jsx(_,{icon:e.jsx(aa,{}),label:"Features"}),e.jsx(_,{icon:e.jsx(wl,{}),label:"Content Settings"}),e.jsx(_,{icon:e.jsx(Us,{}),label:"Social Features"}),e.jsx(_,{icon:e.jsx(ds,{}),label:"Analytics & Insights"}),e.jsx(_,{icon:e.jsx(Ss,{}),label:"Limits & Advanced"})]})}),e.jsxs(hs,{value:j,index:0,children:[e.jsx(q,{sx:{mb:3},children:e.jsxs(ae,{severity:"info",icon:e.jsx(ss,{}),children:["LinkedIn uses OAuth 2.0 for authentication. You'll need to create a LinkedIn app to get these credentials. Access tokens expire after 60 days and need to be refreshed.",e.jsx(We,{href:"https://www.linkedin.com/developers/apps",target:"_blank",sx:{ml:1},children:"Create LinkedIn App"})]})}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client ID",value:s.clientId||"",onChange:a=>u("clientId",a.target.value),error:!!N.clientId,helperText:N.clientId||"Your LinkedIn app Client ID",margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",type:"password",value:s.clientSecret||"",onChange:a=>u("clientSecret",a.target.value),error:!!N.clientSecret,helperText:N.clientSecret,margin:"normal",required:!0})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Access Token",type:"password",value:s.accessToken||"",onChange:a=>u("accessToken",a.target.value),error:!!N.accessToken,helperText:N.accessToken||"OAuth 2.0 access token (expires after 60 days)",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Refresh Token",type:"password",value:s.refreshToken||"",onChange:a=>u("refreshToken",a.target.value),helperText:"Optional: Used to automatically refresh access tokens",margin:"normal"})})]}),e.jsx(q,{sx:{mt:3},children:e.jsxs(ae,{severity:"warning",children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Required OAuth 2.0 Scopes:"}),e.jsxs("ul",{style:{marginTop:8,marginBottom:0},children:[e.jsx("li",{children:"r_liteprofile - Read basic profile data"}),e.jsx("li",{children:"r_emailaddress - Read email address"}),e.jsx("li",{children:"w_member_social - Create, modify, and delete posts"}),e.jsx("li",{children:"r_organization_social - Read organization data"}),e.jsx("li",{children:"w_organization_social - Manage organization posts"}),e.jsx("li",{children:"rw_organization_admin - Full organization management (if applicable)"})]})]})})]}),e.jsxs(hs,{value:j,index:1,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"LinkedIn Account Configuration"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Member URN",value:s.memberUrn||"",onChange:a=>u("memberUrn",a.target.value),error:!!N.memberUrn,helperText:N.memberUrn||"Your LinkedIn member URN (e.g., urn:li:person:ABC123)",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Organization ID",value:s.organizationId||"",onChange:a=>u("organizationId",a.target.value),helperText:"Organization ID for company page management (optional)",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Default Post Visibility"}),e.jsx(ce,{value:s.defaultVisibility||"CONNECTIONS",onChange:a=>u("defaultVisibility",a.target.value),children:i.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))}),e.jsx(L,{children:"Default visibility for new posts"})]})}),s.organizationId&&e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Organization Role"}),e.jsx(ce,{value:s.organizationRole||"CONTENT_ADMIN",onChange:a=>u("organizationRole",a.target.value),children:p.map(a=>e.jsx(F,{value:a,children:a.replace(/_/g," ")},a))}),e.jsx(L,{children:"Your role in the organization"})]})})]})]}),e.jsxs(hs,{value:j,index:2,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Core Features"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableProfileAccess??!0,onChange:a=>u("features.enableProfileAccess",a.target.checked)}),label:"Profile Access"}),e.jsx(L,{children:"Read and update profile information"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePostSharing??!0,onChange:a=>u("features.enablePostSharing",a.target.checked)}),label:"Post Sharing"}),e.jsx(L,{children:"Create and share posts"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableArticlePublishing??!0,onChange:a=>u("features.enableArticlePublishing",a.target.checked)}),label:"Article Publishing"}),e.jsx(L,{children:"Publish long-form articles"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCommentManagement??!0,onChange:a=>u("features.enableCommentManagement",a.target.checked)}),label:"Comment Management"}),e.jsx(L,{children:"Create and manage comments"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessaging??!1,onChange:a=>u("features.enableMessaging",a.target.checked)}),label:"Direct Messaging"}),e.jsx(L,{children:"Send and receive messages"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableConnectionManagement??!0,onChange:a=>u("features.enableConnectionManagement",a.target.checked)}),label:"Connection Management"}),e.jsx(L,{children:"Manage connections and invitations"})]})]})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Company Features"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCompanyPageManagement??!0,onChange:a=>u("features.enableCompanyPageManagement",a.target.checked),disabled:!s.organizationId}),label:"Company Page Management"}),e.jsx(L,{children:"Manage company page content"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEmployeeAdvocacy??!0,onChange:a=>u("features.enableEmployeeAdvocacy",a.target.checked)}),label:"Employee Advocacy"}),e.jsx(L,{children:"Employee content sharing"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEventCreation??!0,onChange:a=>u("features.enableEventCreation",a.target.checked)}),label:"Event Creation"}),e.jsx(L,{children:"Create and manage events"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableNewsletters??!0,onChange:a=>u("features.enableNewsletters",a.target.checked)}),label:"Newsletters"}),e.jsx(L,{children:"Newsletter publishing"})]})]})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Advanced Features"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableScheduledPosts??!0,onChange:a=>u("features.enableScheduledPosts",a.target.checked)}),label:"Scheduled Posts"}),e.jsx(L,{children:"Schedule posts for later"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableHashtagTracking??!0,onChange:a=>u("features.enableHashtagTracking",a.target.checked)}),label:"Hashtag Tracking"}),e.jsx(L,{children:"Follow and track hashtags"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableContentSuggestions??!0,onChange:a=>u("features.enableContentSuggestions",a.target.checked)}),label:"Content Suggestions"}),e.jsx(L,{children:"AI-powered content ideas"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAudienceTargeting??!0,onChange:a=>u("features.enableAudienceTargeting",a.target.checked)}),label:"Audience Targeting"}),e.jsx(L,{children:"Target specific audiences"})]})]})})]}),e.jsxs(hs,{value:j,index:3,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Media Support"}),e.jsx(xe,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableImageSharing??!0,onChange:a=>u("features.enableImageSharing",a.target.checked)}),label:"Image Sharing"}),e.jsx(L,{children:"Share images with posts"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoSharing??!0,onChange:a=>u("features.enableVideoSharing",a.target.checked)}),label:"Video Sharing"}),e.jsx(L,{children:"Share video content"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDocumentSharing??!0,onChange:a=>u("features.enableDocumentSharing",a.target.checked)}),label:"Document Sharing"}),e.jsx(L,{children:"Share PDFs and documents"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLiveVideo??!1,onChange:a=>u("features.enableLiveVideo",a.target.checked)}),label:"Live Video"}),e.jsx(L,{children:"LinkedIn Live broadcasting"})]})]})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Content Limits"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Post Length (characters)"}),e.jsx(Fe,{value:s.limits?.maxPostLength||3e3,onChange:(a,x)=>u("limits.maxPostLength",x),min:100,max:3e3,marks:[{value:700,label:"700"},{value:1300,label:"1300"},{value:3e3,label:"3000"}],valueLabelDisplay:"on"}),N.maxPostLength&&e.jsx(L,{error:!0,children:N.maxPostLength})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Hashtags Per Post"}),e.jsx(Fe,{value:s.limits?.maxHashtagsPerPost||30,onChange:(a,x)=>u("limits.maxHashtagsPerPost",x),min:1,max:30,marks:[{value:5,label:"5"},{value:15,label:"15"},{value:30,label:"30"}],valueLabelDisplay:"on"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Images Per Post"}),e.jsx(Fe,{value:s.limits?.maxImagesPerPost||20,onChange:(a,x)=>u("limits.maxImagesPerPost",x),min:1,max:20,marks:!0,valueLabelDisplay:"on"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Video Length (minutes)"}),e.jsx(Fe,{value:(s.limits?.maxVideoLength||600)/60,onChange:(a,x)=>u("limits.maxVideoLength",x*60),min:1,max:10,marks:[{value:1,label:"1m"},{value:5,label:"5m"},{value:10,label:"10m"}],valueLabelDisplay:"on"})]})]}),e.jsxs(t,{container:!0,spacing:3,sx:{mt:1},children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Image Size (MB)",type:"number",value:s.limits?.maxImageSizeMB||10,onChange:a=>u("limits.maxImageSizeMB",parseInt(a.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Video Size (MB)",type:"number",value:s.limits?.maxVideoSizeMB||5120,onChange:a=>u("limits.maxVideoSizeMB",parseInt(a.target.value)),helperText:"Maximum: 5GB (5120 MB)",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Document Size (MB)",type:"number",value:s.limits?.maxDocumentSizeMB||100,onChange:a=>u("limits.maxDocumentSizeMB",parseInt(a.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Article Length (characters)",type:"number",value:s.limits?.maxArticleLength||125e3,onChange:a=>u("limits.maxArticleLength",parseInt(a.target.value)),error:!!N.maxArticleLength,helperText:N.maxArticleLength||"Maximum: 125,000 characters",margin:"normal"})})]})]}),e.jsxs(hs,{value:j,index:4,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Social Limits"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Connections Per Day",type:"number",value:s.limits?.maxConnectionsPerDay||100,onChange:a=>u("limits.maxConnectionsPerDay",parseInt(a.target.value)),helperText:"LinkedIn's daily connection request limit",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Messages Per Day",type:"number",value:s.limits?.maxMessagesPerDay||250,onChange:a=>u("limits.maxMessagesPerDay",parseInt(a.target.value)),helperText:"Daily messaging limit",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Posts Per Day",type:"number",value:s.limits?.maxPostsPerDay||100,onChange:a=>u("limits.maxPostsPerDay",parseInt(a.target.value)),helperText:"Daily posting limit",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Mentions Per Post",type:"number",value:s.limits?.maxMentionsPerPost||50,onChange:a=>u("limits.maxMentionsPerPost",parseInt(a.target.value)),margin:"normal"})})]}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Reaction Types"}),e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Enabled Reaction Types"}),e.jsx(ce,{multiple:!0,value:s.enabledReactions||["LIKE","PRAISE","APPRECIATION","EMPATHY","INTEREST"],onChange:a=>u("enabledReactions",a.target.value),renderValue:a=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:a.map(x=>e.jsx(ye,{label:x,size:"small"},x))}),children:["LIKE","PRAISE","APPRECIATION","EMPATHY","INTEREST","CELEBRATION","ENTERTAINMENT","MAYBE"].map(a=>e.jsx(F,{value:a,children:a},a))})]})]}),e.jsxs(hs,{value:j,index:5,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Analytics & Insights"}),e.jsx(xe,{children:e.jsx(t,{container:!0,spacing:2,children:e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnalytics??!0,onChange:a=>u("features.enableAnalytics",a.target.checked)}),label:"Enable Analytics"}),e.jsx(L,{children:"Track post and page performance"})]})})}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Metrics to Track"}),e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Default Metrics"}),e.jsx(ce,{multiple:!0,value:s.defaultMetrics||["IMPRESSIONS","CLICKS","ENGAGEMENT","LIKES"],onChange:a=>u("defaultMetrics",a.target.value),renderValue:a=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:a.map(x=>e.jsx(ye,{label:x,size:"small"},x))}),children:["IMPRESSIONS","CLICKS","ENGAGEMENT","ENGAGEMENT_RATE","LIKES","COMMENTS","SHARES","FOLLOWS","VIDEO_VIEWS","VIDEO_COMPLETION_RATE","CLICK_THROUGH_RATE","SOCIAL_ACTIONS","UNIQUE_IMPRESSIONS"].map(a=>e.jsx(F,{value:a,children:a.replace(/_/g," ").toLowerCase()},a))}),e.jsx(L,{children:"Select which metrics to track by default"})]}),e.jsx(te,{sx:{my:3}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Polling Intervals"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Feed Polling Interval (minutes)",type:"number",value:(s.polling?.feedPollingInterval||3e5)/6e4,onChange:a=>u("polling.feedPollingInterval",parseInt(a.target.value)*6e4),helperText:"How often to check for new posts",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Comment Polling Interval (minutes)",type:"number",value:(s.polling?.commentPollingInterval||6e5)/6e4,onChange:a=>u("polling.commentPollingInterval",parseInt(a.target.value)*6e4),helperText:"How often to check for new comments",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Message Polling Interval (minutes)",type:"number",value:(s.polling?.messagePollingInterval||12e4)/6e4,onChange:a=>u("polling.messagePollingInterval",parseInt(a.target.value)*6e4),helperText:"How often to check for new messages",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Analytics Polling Interval (minutes)",type:"number",value:(s.polling?.analyticsPollingInterval||18e5)/6e4,onChange:a=>u("polling.analyticsPollingInterval",parseInt(a.target.value)*6e4),helperText:"How often to update analytics",margin:"normal"})})]})]}),e.jsxs(hs,{value:j,index:6,children:[e.jsxs(Ee,{defaultExpanded:!0,children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"API Limits"})}),e.jsxs(Me,{children:[e.jsx(ae,{severity:"info",sx:{mb:2},children:"LinkedIn API has strict rate limits. Stay within these limits to avoid throttling."}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Batch Size",type:"number",value:s.limits?.maxBatchSize||50,onChange:a=>u("limits.maxBatchSize",parseInt(a.target.value)),helperText:"Maximum items per batch operation",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"API Call Limit (per day)",type:"number",value:s.apiCallLimit||1e3,onChange:a=>u("apiCallLimit",parseInt(a.target.value)),helperText:"Daily API call limit",margin:"normal"})})]})]})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Rate Limiting"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Requests Per Second",type:"number",value:s.rateLimiting?.maxRequestsPerSecond||10,onChange:a=>u("rateLimiting.maxRequestsPerSecond",parseInt(a.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Concurrent Requests",type:"number",value:s.rateLimiting?.maxConcurrentRequests||5,onChange:a=>u("rateLimiting.maxConcurrentRequests",parseInt(a.target.value)),margin:"normal"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(h,{control:e.jsx(m,{checked:s.rateLimiting?.enableAdaptiveRateLimiting??!0,onChange:a=>u("rateLimiting.enableAdaptiveRateLimiting",a.target.checked)}),label:"Enable Adaptive Rate Limiting"}),e.jsx(L,{children:"Automatically adjust rate based on API response headers"})]})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Error Handling"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Retry Attempts",type:"number",value:s.errorHandling?.maxRetryAttempts||3,onChange:a=>u("errorHandling.maxRetryAttempts",parseInt(a.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Retry Delay (ms)",type:"number",value:s.errorHandling?.retryDelay||1e3,onChange:a=>u("errorHandling.retryDelay",parseInt(a.target.value)),margin:"normal"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.errorHandling?.enableExponentialBackoff??!0,onChange:a=>u("errorHandling.enableExponentialBackoff",a.target.checked)}),label:"Enable Exponential Backoff"})})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{variant:"h6",children:"Advanced Settings"})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"API Version",value:s.apiVersion||"202401",onChange:a=>u("apiVersion",a.target.value),helperText:"LinkedIn API version (format: YYYYMM)",margin:"normal"})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,margin:"normal",children:[e.jsx(ie,{children:"Log Level"}),e.jsxs(ce,{value:s.logging?.level||"INFO",onChange:a=>u("logging.level",a.target.value),children:[e.jsx(F,{value:"DEBUG",children:"DEBUG"}),e.jsx(F,{value:"INFO",children:"INFO"}),e.jsx(F,{value:"WARN",children:"WARN"}),e.jsx(F,{value:"ERROR",children:"ERROR"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(xe,{children:[e.jsx(h,{control:e.jsx(m,{checked:s.logging?.logApiCalls??!1,onChange:a=>u("logging.logApiCalls",a.target.checked)}),label:"Log API Calls"}),e.jsx(h,{control:e.jsx(m,{checked:s.monitoring?.enableMetrics??!0,onChange:a=>u("monitoring.enableMetrics",a.target.checked)}),label:"Enable Metrics Collection"}),e.jsx(h,{control:e.jsx(m,{checked:s.monitoring?.enableHealthCheck??!0,onChange:a=>u("monitoring.enableHealthCheck",a.target.checked)}),label:"Enable Health Check Endpoint"})]})})]})})]}),e.jsx(q,{sx:{mt:3},children:e.jsxs(ae,{severity:"info",children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Best Practices"}),e.jsxs("ul",{style:{marginLeft:20,marginTop:8},children:[e.jsx("li",{children:"Post during peak engagement hours (Tuesday-Thursday, 8-10 AM and 5-6 PM)"}),e.jsx("li",{children:"Use 3-5 relevant hashtags per post"}),e.jsx("li",{children:"Include visuals to increase engagement by 2x"}),e.jsx("li",{children:"Keep posts concise (150-300 characters perform best)"}),e.jsx("li",{children:"Engage with comments within the first hour"}),e.jsx("li",{children:"Monitor analytics to optimize content strategy"})]})]})})]})]})};function ms(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const Nc=[{value:"BRAND_AWARENESS",label:"Brand Awareness - Increase visibility"},{value:"WEBSITE_VISITS",label:"Website Visits - Drive traffic"},{value:"ENGAGEMENT",label:"Engagement - Get likes, comments, shares"},{value:"VIDEO_VIEWS",label:"Video Views - Promote video content"},{value:"LEAD_GENERATION",label:"Lead Generation - Collect leads"},{value:"WEBSITE_CONVERSIONS",label:"Website Conversions - Drive actions"},{value:"JOB_APPLICANTS",label:"Job Applicants - Find candidates"},{value:"TALENT_LEADS",label:"Talent Leads - Build talent pipeline"}],Ac=[{value:"SPONSORED_CONTENT",label:"Sponsored Content - Feed ads"},{value:"SPONSORED_MESSAGING",label:"Sponsored Messaging - InMail ads"},{value:"TEXT_ADS",label:"Text Ads - Simple text ads"},{value:"DYNAMIC_ADS",label:"Dynamic Ads - Personalized ads"},{value:"SPONSORED_JOBS",label:"Sponsored Jobs - Job postings"}],kc=[{value:"SINGLE_IMAGE",label:"Single Image"},{value:"CAROUSEL",label:"Carousel - Multiple images"},{value:"VIDEO",label:"Video"},{value:"TEXT_AD",label:"Text Ad"},{value:"SPOTLIGHT_AD",label:"Spotlight Ad"},{value:"MESSAGE_AD",label:"Message Ad"},{value:"CONVERSATION_AD",label:"Conversation Ad"},{value:"EVENT_AD",label:"Event Ad"},{value:"DOCUMENT_AD",label:"Document Ad"},{value:"SINGLE_JOB_AD",label:"Single Job Ad"},{value:"FOLLOWER_AD",label:"Follower Ad"}],Tc=[{value:"CPM",label:"CPM - Cost per 1000 impressions"},{value:"CPC",label:"CPC - Cost per click"},{value:"CPV",label:"CPV - Cost per video view"},{value:"CPS",label:"CPS - Cost per send (message ads)"}],Pc=[{value:"REACH",label:"Reach - Maximize unique viewers"},{value:"IMPRESSIONS",label:"Impressions - Maximize views"},{value:"CLICKS",label:"Clicks - Get link clicks"},{value:"LANDING_PAGE_CLICKS",label:"Landing Page Clicks"},{value:"EXTERNAL_WEBSITE_CONVERSIONS",label:"Website Conversions"},{value:"LEAD_GENERATION_MAIL_CONTACT_INFO",label:"Lead Gen - Contact Info"},{value:"LEAD_GENERATION_MAIL_INTEREST",label:"Lead Gen - Interest"}],Ic=[{value:"LOCATION",label:"Location"},{value:"COMPANY",label:"Company"},{value:"COMPANY_SIZE",label:"Company Size"},{value:"COMPANY_INDUSTRY",label:"Industry"},{value:"JOB_TITLE",label:"Job Title"},{value:"JOB_FUNCTION",label:"Job Function"},{value:"JOB_SENIORITY",label:"Seniority Level"},{value:"SKILLS",label:"Skills"},{value:"DEGREES",label:"Degrees"},{value:"FIELDS_OF_STUDY",label:"Fields of Study"},{value:"SCHOOLS",label:"Schools"},{value:"AGE",label:"Age Range"},{value:"GENDER",label:"Gender"},{value:"MEMBER_INTERESTS",label:"Member Interests"},{value:"MEMBER_GROUPS",label:"LinkedIn Groups"},{value:"MATCHED_AUDIENCES",label:"Matched Audiences"},{value:"LOOKALIKE_AUDIENCES",label:"Lookalike Audiences"}],Ec=[{value:"ADD_TO_CART",label:"Add to Cart"},{value:"DOWNLOAD",label:"Download"},{value:"INSTALL",label:"Install"},{value:"KEY_PAGE_VIEW",label:"Key Page View"},{value:"LEAD",label:"Lead"},{value:"PURCHASE",label:"Purchase"},{value:"SIGN_UP",label:"Sign Up"},{value:"OTHER",label:"Other"}],wc=[{value:"IMPRESSIONS",label:"Impressions"},{value:"CLICKS",label:"Clicks"},{value:"CTR",label:"Click-through Rate"},{value:"AVERAGE_CPC",label:"Average CPC"},{value:"AVERAGE_CPM",label:"Average CPM"},{value:"SPEND",label:"Total Spend"},{value:"REACH",label:"Reach"},{value:"FREQUENCY",label:"Frequency"},{value:"VIDEO_VIEWS",label:"Video Views"},{value:"VIDEO_COMPLETION_RATE",label:"Video Completion Rate"},{value:"CONVERSIONS",label:"Conversions"},{value:"CONVERSION_RATE",label:"Conversion Rate"},{value:"COST_PER_CONVERSION",label:"Cost per Conversion"},{value:"LEADS",label:"Leads Generated"},{value:"COST_PER_LEAD",label:"Cost per Lead"},{value:"ENGAGEMENT_RATE",label:"Engagement Rate"}],Mc=[{value:"DAILY",label:"Daily"},{value:"MONTHLY",label:"Monthly"},{value:"ALL",label:"All Time"}],Dc=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),[d,N]=g.useState({}),C=(a,x)=>{j(x)},u=(a,x)=>{r({...s,[a]:x})},o=(a,x)=>{r({...s,features:{...s.features,[a]:x}})},i=(a,x)=>{r({...s,limits:{...s.limits,[a]:x}})},p=()=>{const a={};return s.clientId||(a.clientId="Client ID is required"),s.clientSecret||(a.clientSecret="Client Secret is required"),s.adAccountId||(a.adAccountId="Ad Account ID is required"),N(a),Object.keys(a).length===0};return e.jsxs(q,{sx:{width:"100%"},children:[e.jsx(me,{sx:{mb:2},children:e.jsxs(Ye,{value:l,onChange:C,variant:"scrollable",scrollButtons:"auto",children:[e.jsx(_,{label:"Basic Setup",icon:e.jsx(Qs,{}),iconPosition:"start"}),e.jsx(_,{label:"Campaign Settings",icon:e.jsx(ra,{}),iconPosition:"start"}),e.jsx(_,{label:"Ad Formats",icon:e.jsx(yt,{}),iconPosition:"start"}),e.jsx(_,{label:"Targeting",icon:e.jsx(Us,{}),iconPosition:"start"}),e.jsx(_,{label:"Budget & Bidding",icon:e.jsx(Ml,{}),iconPosition:"start"}),e.jsx(_,{label:"Analytics",icon:e.jsx(ds,{}),iconPosition:"start"}),e.jsx(_,{label:"Advanced",icon:e.jsx(Ja,{}),iconPosition:"start"})]})}),e.jsx(ms,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Configure your LinkedIn Ads API credentials to manage campaigns, create ads, and track performance. You'll need a LinkedIn Ads account with API access."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client ID",value:s.clientId||"",onChange:a=>u("clientId",a.target.value),error:!!d.clientId,helperText:d.clientId||"LinkedIn App Client ID",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",type:"password",value:s.clientSecret||"",onChange:a=>u("clientSecret",a.target.value),error:!!d.clientSecret,helperText:d.clientSecret||"LinkedIn App Client Secret",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Ad Account ID",value:s.adAccountId||"",onChange:a=>u("adAccountId",a.target.value),error:!!d.adAccountId,helperText:d.adAccountId||"Your LinkedIn Ads Account ID",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Organization URN",value:s.organizationUrn||"",onChange:a=>u("organizationUrn",a.target.value),helperText:"Organization URN for company ads (optional)"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Access Token",type:"password",value:s.accessToken||"",onChange:a=>u("accessToken",a.target.value),helperText:"OAuth2 Access Token"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Refresh Token",type:"password",value:s.refreshToken||"",onChange:a=>u("refreshToken",a.target.value),helperText:"OAuth2 Refresh Token for automatic renewal"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"API Features"}),e.jsx(te,{sx:{mb:2}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCampaignManagement??!0,onChange:a=>o("enableCampaignManagement",a.target.checked)}),label:"Campaign Management"}),e.jsx(L,{children:"Create and manage ad campaigns"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAdCreativeManagement??!0,onChange:a=>o("enableAdCreativeManagement",a.target.checked)}),label:"Ad Creative Management"}),e.jsx(L,{children:"Create and manage ad creatives"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAudienceTargeting??!0,onChange:a=>o("enableAudienceTargeting",a.target.checked)}),label:"Audience Targeting"}),e.jsx(L,{children:"Advanced audience targeting options"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnalytics??!0,onChange:a=>o("enableAnalytics",a.target.checked)}),label:"Analytics & Reporting"}),e.jsx(L,{children:"Track campaign performance"})]})]})]})]})}),e.jsx(ms,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Campaign Configuration"}),e.jsx(te,{sx:{mb:2}})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Campaign Objective"}),e.jsx(ce,{value:s.defaultCampaignObjective||"",onChange:a=>u("defaultCampaignObjective",a.target.value),label:"Default Campaign Objective",children:Nc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))}),e.jsx(L,{children:"Default objective for new campaigns"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Campaign Type"}),e.jsx(ce,{value:s.defaultCampaignType||"",onChange:a=>u("defaultCampaignType",a.target.value),label:"Default Campaign Type",children:Ac.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))}),e.jsx(L,{children:"Default type for new campaigns"})]})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Campaign Features"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBoostPosts??!0,onChange:a=>o("enableBoostPosts",a.target.checked)}),label:"Boost Posts"}),e.jsx(L,{children:"Promote existing LinkedIn posts"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableABTesting??!0,onChange:a=>o("enableABTesting",a.target.checked)}),label:"A/B Testing"}),e.jsx(L,{children:"Test different ad variations"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDynamicAds??!0,onChange:a=>o("enableDynamicAds",a.target.checked)}),label:"Dynamic Ads"}),e.jsx(L,{children:"Personalized ads based on profile data"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableJobAds??!0,onChange:a=>o("enableJobAds",a.target.checked)}),label:"Job Ads"}),e.jsx(L,{children:"Promote job postings"})]})]})]})]})}),e.jsx(ms,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Ad Format Settings"}),e.jsx(te,{sx:{mb:2}})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Enabled Ad Formats"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSponsoredContent??!0,onChange:a=>o("enableSponsoredContent",a.target.checked)}),label:"Sponsored Content"}),e.jsx(L,{children:"Native ads in the LinkedIn feed"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSponsoredMessaging??!0,onChange:a=>o("enableSponsoredMessaging",a.target.checked)}),label:"Sponsored Messaging"}),e.jsx(L,{children:"InMail and Message Ads"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTextAds??!0,onChange:a=>o("enableTextAds",a.target.checked)}),label:"Text Ads"}),e.jsx(L,{children:"Simple text-based ads"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoAds??!0,onChange:a=>o("enableVideoAds",a.target.checked)}),label:"Video Ads"}),e.jsx(L,{children:"Video content ads"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCarouselAds??!0,onChange:a=>o("enableCarouselAds",a.target.checked)}),label:"Carousel Ads"}),e.jsx(L,{children:"Multi-image carousel ads"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEventAds??!0,onChange:a=>o("enableEventAds",a.target.checked)}),label:"Event Ads"}),e.jsx(L,{children:"Promote LinkedIn Events"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableFollowerAds??!0,onChange:a=>o("enableFollowerAds",a.target.checked)}),label:"Follower Ads"}),e.jsx(L,{children:"Grow page followers"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSpotlightAds??!0,onChange:a=>o("enableSpotlightAds",a.target.checked)}),label:"Spotlight Ads"}),e.jsx(L,{children:"Dynamic personalized ads"})]})]})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Ad Format"}),e.jsx(ce,{value:s.defaultAdFormat||"",onChange:a=>u("defaultAdFormat",a.target.value),label:"Default Ad Format",children:kc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Creatives per Campaign",type:"number",value:s.limits?.maxCreativesPerCampaign||100,onChange:a=>i("maxCreativesPerCampaign",parseInt(a.target.value)),helperText:"Maximum number of creatives per campaign",InputProps:{inputProps:{min:1,max:200}}})})]})}),e.jsx(ms,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Audience Targeting Options"}),e.jsx(te,{sx:{mb:2}})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Targeting Features"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMatchedAudiences??!0,onChange:a=>o("enableMatchedAudiences",a.target.checked)}),label:"Matched Audiences"}),e.jsx(L,{children:"Target based on your data (emails, etc.)"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLookalikeAudiences??!0,onChange:a=>o("enableLookalikeAudiences",a.target.checked)}),label:"Lookalike Audiences"}),e.jsx(L,{children:"Find similar professionals"})]})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Available Targeting Criteria"}),e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Ic.map(a=>e.jsx(ye,{label:a.label,variant:"outlined",color:"primary"},a.value))})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Min Audience Size",type:"number",value:s.limits?.minAudienceSize||300,onChange:a=>i("minAudienceSize",parseInt(a.target.value)),helperText:"Minimum audience size for campaigns",InputProps:{inputProps:{min:300}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Audience Size",type:"number",value:s.limits?.maxAudienceSize||3e8,onChange:a=>i("maxAudienceSize",parseInt(a.target.value)),helperText:"Maximum audience size for campaigns"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Custom Audiences",type:"number",value:s.limits?.maxCustomAudiences||500,onChange:a=>i("maxCustomAudiences",parseInt(a.target.value)),helperText:"Maximum number of custom audiences",InputProps:{inputProps:{min:1,max:1e3}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Lookalike Audiences",type:"number",value:s.limits?.maxLookalikeAudiences||100,onChange:a=>i("maxLookalikeAudiences",parseInt(a.target.value)),helperText:"Maximum number of lookalike audiences",InputProps:{inputProps:{min:1,max:200}}})})]})}),e.jsx(ms,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Budget & Bidding Configuration"}),e.jsx(te,{sx:{mb:2}})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Set default budget limits and bidding strategies for your campaigns. All values are in USD."})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Budget Management"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBudgetManagement??!0,onChange:a=>o("enableBudgetManagement",a.target.checked)}),label:"Budget Management"}),e.jsx(L,{children:"Control campaign spending"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBidding??!0,onChange:a=>o("enableBidding",a.target.checked)}),label:"Bidding Controls"}),e.jsx(L,{children:"Manage bid strategies"})]})]})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Min Daily Budget (USD)",type:"number",value:s.limits?.minDailyBudget||10,onChange:a=>i("minDailyBudget",parseFloat(a.target.value)),helperText:"Minimum daily budget for campaigns",InputProps:{startAdornment:"$",inputProps:{min:10,step:.01}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Daily Budget (USD)",type:"number",value:s.limits?.maxDailyBudget||1e5,onChange:a=>i("maxDailyBudget",parseFloat(a.target.value)),helperText:"Maximum daily budget for campaigns",InputProps:{startAdornment:"$",inputProps:{min:10,step:.01}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Min Lifetime Budget (USD)",type:"number",value:s.limits?.minLifetimeBudget||10,onChange:a=>i("minLifetimeBudget",parseFloat(a.target.value)),helperText:"Minimum lifetime budget for campaigns",InputProps:{startAdornment:"$",inputProps:{min:10,step:.01}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Lifetime Budget (USD)",type:"number",value:s.limits?.maxLifetimeBudget||1e6,onChange:a=>i("maxLifetimeBudget",parseFloat(a.target.value)),helperText:"Maximum lifetime budget for campaigns",InputProps:{startAdornment:"$",inputProps:{min:10,step:.01}}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Bidding Configuration"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Bid Type"}),e.jsx(ce,{value:s.defaultBidType||"",onChange:a=>u("defaultBidType",a.target.value),label:"Default Bid Type",children:Tc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Optimization Target"}),e.jsx(ce,{value:s.defaultOptimizationTarget||"",onChange:a=>u("defaultOptimizationTarget",a.target.value),label:"Default Optimization Target",children:Pc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Min Bid Amount (USD)",type:"number",value:s.limits?.minBidAmount||2,onChange:a=>i("minBidAmount",parseFloat(a.target.value)),helperText:"Minimum bid amount",InputProps:{startAdornment:"$",inputProps:{min:2,step:.01}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Bid Amount (USD)",type:"number",value:s.limits?.maxBidAmount||1e3,onChange:a=>i("maxBidAmount",parseFloat(a.target.value)),helperText:"Maximum bid amount",InputProps:{startAdornment:"$",inputProps:{min:2,step:.01}}})})]})}),e.jsx(ms,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Analytics & Reporting"}),e.jsx(te,{sx:{mb:2}})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Reporting Features"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableReporting??!0,onChange:a=>o("enableReporting",a.target.checked)}),label:"Campaign Reporting"}),e.jsx(L,{children:"Generate performance reports"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableConversionTracking??!0,onChange:a=>o("enableConversionTracking",a.target.checked)}),label:"Conversion Tracking"}),e.jsx(L,{children:"Track conversions and ROI"})]})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Available Metrics"}),e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:wc.map(a=>e.jsx(ye,{label:a.label,variant:"outlined",color:"secondary",icon:e.jsx(Dl,{})},a.value))})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Report Granularity"}),e.jsx(ce,{value:s.defaultTimeGranularity||"DAILY",onChange:a=>u("defaultTimeGranularity",a.target.value),label:"Default Report Granularity",children:Mc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Report Retention Days",type:"number",value:s.reportRetentionDays||90,onChange:a=>u("reportRetentionDays",parseInt(a.target.value)),helperText:"How long to keep performance data",InputProps:{inputProps:{min:30,max:365}}})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Conversion Types"}),e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Ec.map(a=>e.jsx(ye,{label:a.label,variant:"outlined"},a.value))})]})]})}),e.jsx(ms,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Advanced Settings"}),e.jsx(te,{sx:{mb:2}})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Lead Generation"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLeadGenForms??!0,onChange:a=>o("enableLeadGenForms",a.target.checked)}),label:"Lead Generation Forms"}),e.jsx(L,{children:"Create and manage lead forms"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Lead Export Email",type:"email",value:s.leadExportEmail||"",onChange:a=>u("leadExportEmail",a.target.value),helperText:"Email for lead notifications"})})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"API Rate Limits"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Campaigns per Account",type:"number",value:s.limits?.maxCampaignsPerAccount||1e3,onChange:a=>i("maxCampaignsPerAccount",parseInt(a.target.value)),helperText:"Maximum campaigns per account",InputProps:{inputProps:{min:1,max:5e3}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Ad Groups per Campaign",type:"number",value:s.limits?.maxAdGroupsPerCampaign||100,onChange:a=>i("maxAdGroupsPerCampaign",parseInt(a.target.value)),helperText:"Maximum ad groups per campaign",InputProps:{inputProps:{min:1,max:500}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Ads per Ad Group",type:"number",value:s.limits?.maxAdsPerAdGroup||50,onChange:a=>i("maxAdsPerAdGroup",parseInt(a.target.value)),helperText:"Maximum ads per ad group",InputProps:{inputProps:{min:1,max:200}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Conversion Events per Day",type:"number",value:s.limits?.maxConversionEventsPerDay||1e6,onChange:a=>i("maxConversionEventsPerDay",parseInt(a.target.value)),helperText:"Daily conversion event limit"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Webhook Configuration"})}),e.jsx(t,{item:!0,xs:12,md:8,children:e.jsx(f,{fullWidth:!0,label:"Webhook URL",value:s.webhookUrl||"",onChange:a=>u("webhookUrl",a.target.value),helperText:"URL to receive campaign and performance notifications"})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,label:"Webhook Secret",type:"password",value:s.webhookSecret||"",onChange:a=>u("webhookSecret",a.target.value),helperText:"Secret for webhook validation"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(Ne,{variant:"contained",onClick:p,sx:{mt:2},children:"Validate Configuration"})}),Object.keys(d).length>0&&e.jsx(t,{item:!0,xs:12,children:e.jsxs(ae,{severity:"error",children:["Please fix the following errors:",e.jsx("ul",{children:Object.entries(d).map(([a,x])=>e.jsx("li",{children:x},a))})]})})]})})]})};function xs(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const Fc=[{value:"1",label:"Film & Animation"},{value:"2",label:"Autos & Vehicles"},{value:"10",label:"Music"},{value:"15",label:"Pets & Animals"},{value:"17",label:"Sports"},{value:"19",label:"Travel & Events"},{value:"20",label:"Gaming"},{value:"22",label:"People & Blogs"},{value:"23",label:"Comedy"},{value:"24",label:"Entertainment"},{value:"25",label:"News & Politics"},{value:"26",label:"Howto & Style"},{value:"27",label:"Education"},{value:"28",label:"Science & Technology"},{value:"29",label:"Nonprofits & Activism"}],Rc=[{value:"private",label:"Private - Only you can view"},{value:"unlisted",label:"Unlisted - Anyone with link"},{value:"public",label:"Public - Everyone can view"}],Lc=[{value:"youtube",label:"Standard YouTube License"},{value:"creativeCommon",label:"Creative Commons - Attribution"}],Oc=[{value:"hd",label:"High Definition (HD)"},{value:"sd",label:"Standard Definition (SD)"}],Bc=[{value:"240p",label:"240p - Low quality"},{value:"360p",label:"360p - Medium quality"},{value:"480p",label:"480p - Standard quality"},{value:"720p",label:"720p - HD quality"},{value:"1080p",label:"1080p - Full HD quality"},{value:"1440p",label:"1440p - 2K quality"},{value:"2160p",label:"2160p - 4K quality"}],Uc=[{value:"24fps",label:"24 FPS - Cinema"},{value:"25fps",label:"25 FPS - PAL"},{value:"30fps",label:"30 FPS - Standard"},{value:"50fps",label:"50 FPS - Smooth"},{value:"60fps",label:"60 FPS - Gaming"}],Wc=[{value:"date",label:"Date - Newest first"},{value:"rating",label:"Rating - Highest rated"},{value:"relevance",label:"Relevance - Most relevant"},{value:"title",label:"Title - Alphabetical"},{value:"viewCount",label:"View Count - Most viewed"}],Vc=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),[d,N]=g.useState({}),C=(a,x)=>{j(x)},u=(a,x)=>{r({...s,[a]:x})},o=(a,x)=>{r({...s,features:{...s.features,[a]:x}})},i=(a,x)=>{r({...s,limits:{...s.limits,[a]:x}})},p=()=>{const a={};return s.clientId||(a.clientId="Client ID is required"),s.clientSecret||(a.clientSecret="Client Secret is required"),N(a),Object.keys(a).length===0};return e.jsxs(q,{sx:{width:"100%"},children:[e.jsx(me,{sx:{mb:2},children:e.jsxs(Ye,{value:l,onChange:C,variant:"scrollable",scrollButtons:"auto",children:[e.jsx(_,{label:"Basic Setup",icon:e.jsx(Qs,{}),iconPosition:"start"}),e.jsx(_,{label:"Video Settings",icon:e.jsx(Zs,{}),iconPosition:"start"}),e.jsx(_,{label:"Channel Features",icon:e.jsx(Fl,{}),iconPosition:"start"}),e.jsx(_,{label:"Live Streaming",icon:e.jsx(Rl,{}),iconPosition:"start"}),e.jsx(_,{label:"Community",icon:e.jsx(la,{}),iconPosition:"start"}),e.jsx(_,{label:"Monetization",icon:e.jsx(yt,{}),iconPosition:"start"}),e.jsx(_,{label:"Advanced",icon:e.jsx(ds,{}),iconPosition:"start"})]})}),e.jsx(xs,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Configure your YouTube Data API credentials to manage videos, playlists, comments, and more. You'll need to enable the YouTube Data API v3 in Google Cloud Console."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client ID",value:s.clientId||"",onChange:a=>u("clientId",a.target.value),error:!!d.clientId,helperText:d.clientId||"Google OAuth2 Client ID",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",type:"password",value:s.clientSecret||"",onChange:a=>u("clientSecret",a.target.value),error:!!d.clientSecret,helperText:d.clientSecret||"Google OAuth2 Client Secret",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Channel ID",value:s.channelId||"",onChange:a=>u("channelId",a.target.value),helperText:"Your YouTube channel ID (optional)"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Upload Playlist ID",value:s.uploadPlaylistId||"",onChange:a=>u("uploadPlaylistId",a.target.value),helperText:"Usually 'uploads' playlist ID"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Access Token",type:"password",value:s.accessToken||"",onChange:a=>u("accessToken",a.target.value),helperText:"OAuth2 Access Token"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Refresh Token",type:"password",value:s.refreshToken||"",onChange:a=>u("refreshToken",a.target.value),helperText:"OAuth2 Refresh Token for automatic renewal"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Core Features"}),e.jsx(te,{sx:{mb:2}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoUpload??!0,onChange:a=>o("enableVideoUpload",a.target.checked)}),label:"Video Upload"}),e.jsx(L,{children:"Upload videos to YouTube"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoManagement??!0,onChange:a=>o("enableVideoManagement",a.target.checked)}),label:"Video Management"}),e.jsx(L,{children:"Edit, delete, and manage videos"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePlaylistManagement??!0,onChange:a=>o("enablePlaylistManagement",a.target.checked)}),label:"Playlist Management"}),e.jsx(L,{children:"Create and manage playlists"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCommentManagement??!0,onChange:a=>o("enableCommentManagement",a.target.checked)}),label:"Comment Management"}),e.jsx(L,{children:"Moderate and respond to comments"})]})]})]})]})}),e.jsx(xs,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Video Upload Settings"}),e.jsx(te,{sx:{mb:2}})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Privacy Status"}),e.jsx(ce,{value:s.defaultPrivacyStatus||"private",onChange:a=>u("defaultPrivacyStatus",a.target.value),label:"Default Privacy Status",children:Rc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))}),e.jsx(L,{children:"Default privacy for new videos"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Category"}),e.jsx(ce,{value:s.defaultCategoryId||"22",onChange:a=>u("defaultCategoryId",a.target.value),label:"Default Category",children:Fc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))}),e.jsx(L,{children:"Default category for new videos"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default License"}),e.jsx(ce,{value:s.defaultLicense||"youtube",onChange:a=>u("defaultLicense",a.target.value),label:"Default License",children:Lc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Video Definition"}),e.jsx(ce,{value:s.defaultVideoDefinition||"hd",onChange:a=>u("defaultVideoDefinition",a.target.value),label:"Default Video Definition",children:Oc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))})]})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Upload Features"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableThumbnailUpload??!0,onChange:a=>o("enableThumbnailUpload",a.target.checked)}),label:"Custom Thumbnails"}),e.jsx(L,{children:"Upload custom video thumbnails"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCaptions??!0,onChange:a=>o("enableCaptions",a.target.checked)}),label:"Captions/Subtitles"}),e.jsx(L,{children:"Upload captions and subtitles"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoEditing??!0,onChange:a=>o("enableVideoEditing",a.target.checked)}),label:"Video Editing"}),e.jsx(L,{children:"Edit videos after upload"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePremiere??!0,onChange:a=>o("enablePremiere",a.target.checked)}),label:"Premieres"}),e.jsx(L,{children:"Schedule video premieres"})]})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Upload Limits"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Video Size (GB)",type:"number",value:s.limits?.maxVideoSize?s.limits.maxVideoSize/(1024*1024*1024):128,onChange:a=>i("maxVideoSize",parseInt(a.target.value)*1024*1024*1024),helperText:"Maximum video file size in GB",InputProps:{inputProps:{min:1,max:128}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Daily Upload Limit",type:"number",value:s.limits?.dailyUploadLimit||50,onChange:a=>i("dailyUploadLimit",parseInt(a.target.value)),helperText:"Maximum videos per day",InputProps:{inputProps:{min:1,max:100}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Title Length",type:"number",value:s.limits?.maxTitleLength||100,onChange:a=>i("maxTitleLength",parseInt(a.target.value)),helperText:"Maximum characters in title",InputProps:{inputProps:{min:1,max:100}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Description Length",type:"number",value:s.limits?.maxDescriptionLength||5e3,onChange:a=>i("maxDescriptionLength",parseInt(a.target.value)),helperText:"Maximum characters in description",InputProps:{inputProps:{min:1,max:5e3}}})})]})}),e.jsx(xs,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Channel Management Features"}),e.jsx(te,{sx:{mb:2}})]}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableChannelManagement??!0,onChange:a=>o("enableChannelManagement",a.target.checked)}),label:"Channel Management"}),e.jsx(L,{children:"Update channel info and settings"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSubscriberManagement??!0,onChange:a=>o("enableSubscriberManagement",a.target.checked)}),label:"Subscriber Management"}),e.jsx(L,{children:"Track and manage subscribers"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnalytics??!0,onChange:a=>o("enableAnalytics",a.target.checked)}),label:"Analytics"}),e.jsx(L,{children:"View channel and video analytics"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableContentId??!1,onChange:a=>o("enableContentId",a.target.checked)}),label:"Content ID"}),e.jsx(L,{children:"Copyright management system"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Playlist Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Playlists per Channel",type:"number",value:s.limits?.maxPlaylistsPerChannel||200,onChange:a=>i("maxPlaylistsPerChannel",parseInt(a.target.value)),helperText:"Maximum number of playlists",InputProps:{inputProps:{min:1,max:500}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Items per Playlist",type:"number",value:s.limits?.maxPlaylistItems||5e3,onChange:a=>i("maxPlaylistItems",parseInt(a.target.value)),helperText:"Maximum videos in a playlist",InputProps:{inputProps:{min:1,max:5e3}}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Comment Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Max Comment Length",type:"number",value:s.limits?.maxCommentLength||1e4,onChange:a=>i("maxCommentLength",parseInt(a.target.value)),helperText:"Maximum characters in comments",InputProps:{inputProps:{min:1,max:1e4}}})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.autoModerateComments||!1,onChange:a=>u("autoModerateComments",a.target.checked)}),label:"Auto-moderate Comments"}),e.jsx(L,{children:"Automatically hold potentially inappropriate comments"})]})]})}),e.jsx(xs,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Live Streaming Configuration"}),e.jsx(te,{sx:{mb:2}})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Live streaming requires your channel to be verified and have no active Community Guidelines strikes."})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLiveStreaming??!0,onChange:a=>o("enableLiveStreaming",a.target.checked)}),label:"Enable Live Streaming"}),e.jsx(L,{children:"Create and manage live broadcasts"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Stream Quality"}),e.jsx(ce,{value:s.defaultStreamQuality||"1080p",onChange:a=>u("defaultStreamQuality",a.target.value),label:"Default Stream Quality",children:Bc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Frame Rate"}),e.jsx(ce,{value:s.defaultFrameRate||"30fps",onChange:a=>u("defaultFrameRate",a.target.value),label:"Default Frame Rate",children:Uc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))})]})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Live Stream Features"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.enableDvr||!0,onChange:a=>u("enableDvr",a.target.checked)}),label:"DVR (Pause/Rewind)"}),e.jsx(L,{children:"Allow viewers to pause and rewind"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.recordFromStart||!0,onChange:a=>u("recordFromStart",a.target.checked)}),label:"Record from Start"}),e.jsx(L,{children:"Save live stream as video"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.enableEmbed||!0,onChange:a=>u("enableEmbed",a.target.checked)}),label:"Allow Embedding"}),e.jsx(L,{children:"Allow stream embedding on other sites"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.enableAutoStart||!1,onChange:a=>u("enableAutoStart",a.target.checked)}),label:"Auto-start Streams"}),e.jsx(L,{children:"Automatically go live when stream detected"})]})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Stream Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Stream Key Prefix",value:s.streamKeyPrefix||"",onChange:a=>u("streamKeyPrefix",a.target.value),helperText:"Optional prefix for stream keys"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Backup Stream URL",value:s.backupStreamUrl||"",onChange:a=>u("backupStreamUrl",a.target.value),helperText:"Backup RTMP URL for redundancy"})})]})}),e.jsx(xs,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Community Features"}),e.jsx(te,{sx:{mb:2}})]}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCommunityPosts??!0,onChange:a=>o("enableCommunityPosts",a.target.checked)}),label:"Community Posts"}),e.jsx(L,{children:"Create community tab posts"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableStories??!0,onChange:a=>o("enableStories",a.target.checked)}),label:"YouTube Stories"}),e.jsx(L,{children:"Create short-form stories"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableShorts??!0,onChange:a=>o("enableShorts",a.target.checked)}),label:"YouTube Shorts"}),e.jsx(L,{children:"Upload vertical short videos"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMemberships??!0,onChange:a=>o("enableMemberships",a.target.checked)}),label:"Channel Memberships"}),e.jsx(L,{children:"Manage channel membership perks"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Interaction Settings"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.enableHeartComments||!0,onChange:a=>u("enableHeartComments",a.target.checked)}),label:"Heart Comments"}),e.jsx(L,{children:"Show creator appreciation on comments"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.enablePinnedComments||!0,onChange:a=>u("enablePinnedComments",a.target.checked)}),label:"Pin Comments"}),e.jsx(L,{children:"Pin important comments to top"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Community Guidelines"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,multiline:!0,rows:4,label:"Community Guidelines Message",value:s.communityGuidelines||"",onChange:a=>u("communityGuidelines",a.target.value),helperText:"Message shown to users about community standards"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Blocked Words",value:s.blockedWords||"",onChange:a=>u("blockedWords",a.target.value),helperText:"Comma-separated list of words to auto-block in comments"})})]})}),e.jsx(xs,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Monetization Settings"}),e.jsx(te,{sx:{mb:2}})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"warning",children:"Monetization features require YouTube Partner Program membership and meeting eligibility requirements."})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMonetization??!0,onChange:a=>o("enableMonetization",a.target.checked)}),label:"Ad Monetization"}),e.jsx(L,{children:"Enable ads on videos"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSuperChat??!0,onChange:a=>o("enableSuperChat",a.target.checked)}),label:"Super Chat & Super Stickers"}),e.jsx(L,{children:"Live stream monetization features"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMerchandise??!1,onChange:a=>o("enableMerchandise",a.target.checked)}),label:"Merchandise Shelf"}),e.jsx(L,{children:"Display merchandise below videos"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.enableMidrollAds||!1,onChange:a=>u("enableMidrollAds",a.target.checked)}),label:"Mid-roll Ads"}),e.jsx(L,{children:"Allow ads during video playback"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Membership Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Membership Price Tiers",type:"number",value:s.membershipTiers||3,onChange:a=>u("membershipTiers",parseInt(a.target.value)),helperText:"Number of membership price tiers",InputProps:{inputProps:{min:1,max:5}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Membership Welcome Message",value:s.membershipWelcome||"",onChange:a=>u("membershipWelcome",a.target.value),helperText:"Message for new members"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Revenue Tracking"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.trackRevenue||!1,onChange:a=>u("trackRevenue",a.target.checked)}),label:"Track Revenue"}),e.jsx(L,{children:"Monitor monetization performance"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Revenue Currency"}),e.jsxs(ce,{value:s.revenueCurrency||"USD",onChange:a=>u("revenueCurrency",a.target.value),label:"Revenue Currency",children:[e.jsx(F,{value:"USD",children:"USD - US Dollar"}),e.jsx(F,{value:"EUR",children:"EUR - Euro"}),e.jsx(F,{value:"GBP",children:"GBP - British Pound"}),e.jsx(F,{value:"JPY",children:"JPY - Japanese Yen"}),e.jsx(F,{value:"CAD",children:"CAD - Canadian Dollar"}),e.jsx(F,{value:"AUD",children:"AUD - Australian Dollar"})]})]})})]})}),e.jsx(xs,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Advanced Settings"}),e.jsx(te,{sx:{mb:2}})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"API Rate Limits"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Daily Quota Units",type:"number",value:s.limits?.rateLimit||1e4,onChange:a=>i("rateLimit",parseInt(a.target.value)),helperText:"YouTube API quota units per day",InputProps:{inputProps:{min:1e3,max:1e6}}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Sort Order"}),e.jsx(ce,{value:s.defaultSortOrder||"date",onChange:a=>u("defaultSortOrder",a.target.value),label:"Default Sort Order",children:Wc.map(a=>e.jsx(F,{value:a.value,children:a.label},a.value))}),e.jsx(L,{children:"Default sort order for queries"})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Webhook Configuration"})}),e.jsx(t,{item:!0,xs:12,md:8,children:e.jsx(f,{fullWidth:!0,label:"Push Notification URL",value:s.pushNotificationUrl||"",onChange:a=>u("pushNotificationUrl",a.target.value),helperText:"URL to receive YouTube push notifications (PubSubHubbub)"})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,label:"Webhook Secret",type:"password",value:s.webhookSecret||"",onChange:a=>u("webhookSecret",a.target.value),helperText:"Secret for webhook validation"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Content Restrictions"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.madeForKids||!1,onChange:a=>u("madeForKids",a.target.checked)}),label:"Made for Kids"}),e.jsx(L,{children:"Mark all content as made for kids (COPPA)"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.ageRestricted||!1,onChange:a=>u("ageRestricted",a.target.checked)}),label:"Age Restricted"}),e.jsx(L,{children:"Default videos to age-restricted"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Search Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Safe Search"}),e.jsxs(ce,{value:s.safeSearch||"moderate",onChange:a=>u("safeSearch",a.target.value),label:"Safe Search",children:[e.jsx(F,{value:"none",children:"None - No filtering"}),e.jsx(F,{value:"moderate",children:"Moderate - Some filtering"}),e.jsx(F,{value:"strict",children:"Strict - Maximum filtering"})]}),e.jsx(L,{children:"Content filtering level for searches"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Default Region Code",value:s.regionCode||"US",onChange:a=>u("regionCode",a.target.value),helperText:"ISO 3166-1 alpha-2 country code",inputProps:{maxLength:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(Ne,{variant:"contained",onClick:p,sx:{mt:2},children:"Validate Configuration"})}),Object.keys(d).length>0&&e.jsx(t,{item:!0,xs:12,children:e.jsxs(ae,{severity:"error",children:["Please fix the following errors:",e.jsx("ul",{children:Object.entries(d).map(([a,x])=>e.jsx("li",{children:x},a))})]})})]})})]})};function ps(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,id:`youtube-analytics-tabpanel-${j}`,"aria-labelledby":`youtube-analytics-tab-${j}`,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const qc=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),[d,N]=g.useState(s.defaultMetrics||[]),[C,u]=g.useState(s.defaultDimensions||[]),o=(A,n)=>{j(n)},i=(A,n)=>{r({...s,[A]:n})},p=A=>{r({...s,features:{...s.features,[A]:!s.features?.[A]}})},a=(A,n)=>{r({...s,limits:{...s.limits,[A]:n}})},x=[{value:"views",label:"Views"},{value:"estimatedMinutesWatched",label:"Watch Time (minutes)"},{value:"averageViewDuration",label:"Average View Duration"},{value:"likes",label:"Likes"},{value:"comments",label:"Comments"},{value:"shares",label:"Shares"},{value:"subscribersGained",label:"Subscribers Gained"},{value:"subscribersLost",label:"Subscribers Lost"},{value:"estimatedRevenue",label:"Estimated Revenue"},{value:"cpm",label:"CPM"},{value:"adImpressions",label:"Ad Impressions"}],T=[{value:"day",label:"Day"},{value:"month",label:"Month"},{value:"video",label:"Video"},{value:"country",label:"Country"},{value:"ageGroup",label:"Age Group"},{value:"gender",label:"Gender"},{value:"deviceType",label:"Device Type"},{value:"trafficSourceType",label:"Traffic Source"}];return e.jsxs(q,{sx:{width:"100%"},children:[e.jsxs(me,{sx:{p:3,mb:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"YouTube Analytics API Configuration"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Configure your YouTube Analytics API integration for comprehensive channel and video analytics."})]}),e.jsx(q,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:l,onChange:o,"aria-label":"YouTube Analytics configuration tabs",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e.jsx(_,{icon:e.jsx(ds,{}),label:"Basic Settings"}),e.jsx(_,{icon:e.jsx(Ja,{}),label:"Report Types"}),e.jsx(_,{icon:e.jsx(Zs,{}),label:"Metrics & Dimensions"}),e.jsx(_,{icon:e.jsx(Ll,{}),label:"Revenue & Ads"}),e.jsx(_,{icon:e.jsx(Us,{}),label:"Audience"}),e.jsx(_,{icon:e.jsx(Ol,{}),label:"Traffic & Devices"}),e.jsx(_,{icon:e.jsx(Bl,{}),label:"Advanced"})]})}),e.jsx(ps,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Client ID",value:s.clientId||"",onChange:A=>i("clientId",A.target.value),helperText:"Your YouTube API OAuth2 Client ID"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",type:"password",value:s.clientSecret||"",onChange:A=>i("clientSecret",A.target.value),helperText:"Your YouTube API OAuth2 Client Secret"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Channel ID",value:s.channelId||"",onChange:A=>i("channelId",A.target.value),helperText:"The YouTube channel ID to analyze"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"API Limits"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Report Rows",value:s.limits?.maxReportRows||1e4,onChange:A=>a("maxReportRows",parseInt(A.target.value)),inputProps:{min:1,max:5e4}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Date Range (days)",value:s.limits?.maxDateRange||365,onChange:A=>a("maxDateRange",parseInt(A.target.value)),inputProps:{min:1,max:365}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Data Availability Delay (hours)",value:s.limits?.dataAvailabilityDelayHours||48,onChange:A=>a("dataAvailabilityDelayHours",parseInt(A.target.value)),helperText:"YouTube Analytics data typically has a 48-hour delay",inputProps:{min:24,max:72}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Realtime Delay (minutes)",value:s.limits?.realtimeDelayMinutes||5,onChange:A=>a("realtimeDelayMinutes",parseInt(A.target.value)),inputProps:{min:1,max:60}})})]})}),e.jsx(ps,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Enable Report Types"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Select which types of analytics reports you want to enable"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableChannelReports??!0,onChange:()=>p("enableChannelReports")}),label:"Channel Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Overall channel performance metrics"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoReports??!0,onChange:()=>p("enableVideoReports")}),label:"Video Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Individual video performance analytics"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePlaylistReports??!0,onChange:()=>p("enablePlaylistReports")}),label:"Playlist Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Playlist performance and engagement"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableRevenueReports??!0,onChange:()=>p("enableRevenueReports")}),label:"Revenue Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Monetization and earnings data"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEngagementReports??!0,onChange:()=>p("enableEngagementReports")}),label:"Engagement Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Likes, comments, shares, and subscribers"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAudienceReports??!0,onChange:()=>p("enableAudienceReports")}),label:"Audience Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Demographics and viewer insights"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTrafficSourceReports??!0,onChange:()=>p("enableTrafficSourceReports")}),label:"Traffic Source Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Where your viewers come from"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableRealtimeReports??!0,onChange:()=>p("enableRealtimeReports")}),label:"Realtime Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Near real-time analytics data"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Advanced Report Types"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDeviceReports??!0,onChange:()=>p("enableDeviceReports")}),label:"Device Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableGeographyReports??!0,onChange:()=>p("enableGeographyReports")}),label:"Geography Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSearchTermReports??!0,onChange:()=>p("enableSearchTermReports")}),label:"Search Term Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSharingServiceReports??!0,onChange:()=>p("enableSharingServiceReports")}),label:"Sharing Service Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnnotationsReports??!0,onChange:()=>p("enableAnnotationsReports")}),label:"Annotations Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCardsReports??!0,onChange:()=>p("enableCardsReports")}),label:"Cards Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEndScreenReports??!0,onChange:()=>p("enableEndScreenReports")}),label:"End Screen Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePlaybackLocationReports??!0,onChange:()=>p("enablePlaybackLocationReports")}),label:"Playback Location Reports"})})]})}),e.jsx(ps,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Default Metrics"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Select the default metrics to include in reports"}),e.jsxs(re,{fullWidth:!0,sx:{mt:2},children:[e.jsx(ie,{children:"Default Metrics"}),e.jsx(ce,{multiple:!0,value:d,onChange:A=>{const n=A.target.value;N(n),i("defaultMetrics",n)},input:e.jsx(ya,{label:"Default Metrics"}),renderValue:A=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:A.map(n=>e.jsx(ye,{label:x.find(I=>I.value===n)?.label||n,size:"small"},n))}),children:x.map(A=>e.jsx(F,{value:A.value,children:A.label},A.value))})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Default Dimensions"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Select the default dimensions for data grouping"}),e.jsxs(re,{fullWidth:!0,sx:{mt:2},children:[e.jsx(ie,{children:"Default Dimensions"}),e.jsx(ce,{multiple:!0,value:C,onChange:A=>{const n=A.target.value;u(n),i("defaultDimensions",n)},input:e.jsx(ya,{label:"Default Dimensions"}),renderValue:A=>e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:A.map(n=>e.jsx(ye,{label:T.find(I=>I.value===n)?.label||n,size:"small"},n))}),children:T.map(A=>e.jsx(F,{value:A.value,children:A.label},A.value))}),e.jsxs(L,{children:["Maximum ",s.limits?.maxReportDimensions||3," dimensions allowed"]})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Report Limits"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Report Dimensions",value:s.limits?.maxReportDimensions||3,onChange:A=>a("maxReportDimensions",parseInt(A.target.value)),inputProps:{min:1,max:5},helperText:"Maximum dimensions per report"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Report Metrics",value:s.limits?.maxReportMetrics||10,onChange:A=>a("maxReportMetrics",parseInt(A.target.value)),inputProps:{min:1,max:20},helperText:"Maximum metrics per report"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Filters",value:s.limits?.maxFilters||5,onChange:A=>a("maxFilters",parseInt(A.target.value)),inputProps:{min:1,max:10},helperText:"Maximum filters per query"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Group Items",value:s.limits?.maxGroupItems||500,onChange:A=>a("maxGroupItems",parseInt(A.target.value)),inputProps:{min:50,max:1e3},helperText:"Maximum items in analytics groups"})})]})}),e.jsx(ps,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Revenue reporting requires YouTube Partner Program membership and monetization enabled."})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Revenue Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableRevenueReports??!0,onChange:()=>p("enableRevenueReports")}),label:"Revenue Tracking"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAdPerformanceReports??!0,onChange:()=>p("enableAdPerformanceReports")}),label:"Ad Performance Reports"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableContentOwnerReports??!1,onChange:()=>p("enableContentOwnerReports")}),label:"Content Owner Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Requires Content Manager access"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Currency"}),e.jsxs(ce,{value:s.defaultCurrency||"USD",onChange:A=>i("defaultCurrency",A.target.value),label:"Default Currency",children:[e.jsx(F,{value:"USD",children:"USD - US Dollar"}),e.jsx(F,{value:"EUR",children:"EUR - Euro"}),e.jsx(F,{value:"GBP",children:"GBP - British Pound"}),e.jsx(F,{value:"JPY",children:"JPY - Japanese Yen"}),e.jsx(F,{value:"CAD",children:"CAD - Canadian Dollar"}),e.jsx(F,{value:"AUD",children:"AUD - Australian Dollar"}),e.jsx(F,{value:"INR",children:"INR - Indian Rupee"}),e.jsx(F,{value:"BRL",children:"BRL - Brazilian Real"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Revenue Metrics"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Estimated Revenue"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Ad Revenue"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"YouTube Premium Revenue"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"CPM"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Playback-based CPM"})]})]})]})}),e.jsx(ps,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Audience Analytics"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDemographicsReports??!0,onChange:()=>p("enableDemographicsReports")}),label:"Demographics Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Age and gender distribution"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableGeographyReports??!0,onChange:()=>p("enableGeographyReports")}),label:"Geography Reports"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Viewer location data"})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Age Group Tracking"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"13-17"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"18-24"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"25-34"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"35-44"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"45-54"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"55-64"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"65+"})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Geography Detail Level"}),e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Geography Detail"}),e.jsxs(ce,{value:s.geographyDetail||"country",onChange:A=>i("geographyDetail",A.target.value),label:"Geography Detail",children:[e.jsx(F,{value:"country",children:"Country"}),e.jsx(F,{value:"province",children:"Province/State"}),e.jsx(F,{value:"city",children:"City"})]})]})]})]})}),e.jsx(ps,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Traffic Source Analysis"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTrafficSourceReports??!0,onChange:()=>p("enableTrafficSourceReports")}),label:"Traffic Source Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSearchTermReports??!0,onChange:()=>p("enableSearchTermReports")}),label:"Search Term Reports"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Track Traffic Sources"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"YouTube Search"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Suggested Videos"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"External"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Browse Features"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Channel Pages"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Notifications"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Playlists"})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Device Analytics"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDeviceReports??!0,onChange:()=>p("enableDeviceReports")}),label:"Device Type Reports"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Track Device Types"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Desktop"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Mobile"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Tablet"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"TV"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Game Console"})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Operating Systems"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Android"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"iOS"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Windows"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"macOS"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Linux"})]})]})]})}),e.jsx(ps,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Advanced Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSubtitlesReports??!0,onChange:()=>p("enableSubtitlesReports")}),label:"Subtitles/CC Reports"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePlaybackLocationReports??!0,onChange:()=>p("enablePlaybackLocationReports")}),label:"Playback Location Reports"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Export Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableCsvExport??!0,onChange:A=>i("enableCsvExport",A.target.checked)}),label:"Enable CSV Export"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableScheduledExports??!1,onChange:A=>i("enableScheduledExports",A.target.checked)}),label:"Enable Scheduled Exports"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"API Configuration"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"API Version",value:s.apiVersion||"v2",onChange:A=>i("apiVersion",A.target.value),disabled:!0,helperText:"YouTube Analytics API version"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Request Timeout (seconds)",value:s.requestTimeout||30,onChange:A=>i("requestTimeout",parseInt(A.target.value)),inputProps:{min:10,max:120}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Polling Intervals"})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Channel Report Interval (min)",value:s.channelReportInterval||60,onChange:A=>i("channelReportInterval",parseInt(A.target.value)),inputProps:{min:15,max:1440}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Video Report Interval (min)",value:s.videoReportInterval||60,onChange:A=>i("videoReportInterval",parseInt(A.target.value)),inputProps:{min:15,max:1440}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Revenue Report Interval (min)",value:s.revenueReportInterval||1440,onChange:A=>i("revenueReportInterval",parseInt(A.target.value)),inputProps:{min:60,max:10080}})})]})})]})};function js(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,id:`tiktok-business-tabpanel-${j}`,"aria-labelledby":`tiktok-business-tab-${j}`,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const _c=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),d=(p,a)=>{j(a)},N=(p,a)=>{r({...s,[p]:a})},C=p=>{r({...s,features:{...s.features,[p]:!s.features?.[p]}})},u=(p,a)=>{r({...s,limits:{...s.limits,[p]:a}})},o=[{value:"REACH",label:"Reach"},{value:"TRAFFIC",label:"Traffic"},{value:"APP_INSTALL",label:"App Install"},{value:"VIDEO_VIEWS",label:"Video Views"},{value:"LEAD_GENERATION",label:"Lead Generation"},{value:"CONVERSIONS",label:"Conversions"},{value:"CATALOG_SALES",label:"Catalog Sales"}],i=[{value:"SINGLE_VIDEO",label:"Single Video"},{value:"SINGLE_IMAGE",label:"Single Image"},{value:"CAROUSEL",label:"Carousel"},{value:"COLLECTION",label:"Collection"},{value:"SPARK_AD",label:"Spark Ad"},{value:"PLAYABLE_AD",label:"Playable Ad"}];return e.jsxs(q,{sx:{width:"100%"},children:[e.jsxs(me,{sx:{p:3,mb:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"TikTok Business API Configuration"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Configure your TikTok Business API integration for advertising campaigns and analytics."}),e.jsx(We,{href:"https://ads.tiktok.com/marketing_api/docs",target:"_blank",rel:"noopener",sx:{mt:1,display:"block"},children:"View TikTok Marketing API Documentation"})]}),e.jsx(q,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:l,onChange:d,"aria-label":"TikTok Business configuration tabs",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e.jsx(_,{icon:e.jsx(za,{}),label:"Basic Settings"}),e.jsx(_,{icon:e.jsx(ra,{}),label:"Campaign Management"}),e.jsx(_,{icon:e.jsx(Zs,{}),label:"Creative & Assets"}),e.jsx(_,{icon:e.jsx(la,{}),label:"Audience Targeting"}),e.jsx(_,{icon:e.jsx(ds,{}),label:"Analytics & Reports"}),e.jsx(_,{icon:e.jsx(na,{}),label:"Pixel & Conversion"}),e.jsx(_,{icon:e.jsx(Ul,{}),label:"E-commerce"})]})}),e.jsx(js,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"To use the TikTok Business API, you need to create a TikTok for Business account and register as a developer."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"App ID",value:s.appId||"",onChange:p=>N("appId",p.target.value),helperText:"Your TikTok app ID from the developer portal"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"App Secret",type:"password",value:s.appSecret||"",onChange:p=>N("appSecret",p.target.value),helperText:"Your TikTok app secret"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Advertiser ID",value:s.advertiserId||"",onChange:p=>N("advertiserId",p.target.value),helperText:"Your TikTok advertiser account ID"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Business ID",value:s.businessId||"",onChange:p=>N("businessId",p.target.value),helperText:"Business Center ID (for catalog management)"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Account Limits"})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Campaigns",value:s.limits?.maxCampaignsPerAccount||500,onChange:p=>u("maxCampaignsPerAccount",parseInt(p.target.value)),inputProps:{min:1,max:1e3}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Ad Groups per Campaign",value:s.limits?.maxAdGroupsPerCampaign||1e3,onChange:p=>u("maxAdGroupsPerCampaign",parseInt(p.target.value)),inputProps:{min:1,max:2e3}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Ads per Ad Group",value:s.limits?.maxAdsPerAdGroup||20,onChange:p=>u("maxAdsPerAdGroup",parseInt(p.target.value)),inputProps:{min:1,max:50}})})]})}),e.jsx(js,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Campaign Features"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCampaignManagement??!0,onChange:()=>C("enableCampaignManagement")}),label:"Campaign Management"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Create, update, and manage advertising campaigns"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAdGroupManagement??!0,onChange:()=>C("enableAdGroupManagement")}),label:"Ad Group Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAdManagement??!0,onChange:()=>C("enableAdManagement")}),label:"Ad Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBudgetManagement??!0,onChange:()=>C("enableBudgetManagement")}),label:"Budget Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBidStrategy??!0,onChange:()=>C("enableBidStrategy")}),label:"Bid Strategy Optimization"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAutomatedRules??!0,onChange:()=>C("enableAutomatedRules")}),label:"Automated Rules"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Default Campaign Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Campaign Objective"}),e.jsx(ce,{value:s.defaultObjective||"",onChange:p=>N("defaultObjective",p.target.value),label:"Default Campaign Objective",children:o.map(p=>e.jsx(F,{value:p.value,children:p.label},p.value))})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Minimum Budget (USD)",value:s.limits?.minBudgetUSD||20,onChange:p=>u("minBudgetUSD",parseInt(p.target.value)),InputProps:{startAdornment:e.jsx(Xs,{position:"start",children:"$"})}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Bulk Operations",value:s.limits?.maxBulkOperations||100,onChange:p=>u("maxBulkOperations",parseInt(p.target.value)),helperText:"Maximum items in bulk update operations"})})]})}),e.jsx(js,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Creative Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCreativeManagement??!0,onChange:()=>C("enableCreativeManagement")}),label:"Creative Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoUpload??!0,onChange:()=>C("enableVideoUpload")}),label:"Video Upload"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableImageUpload??!0,onChange:()=>C("enableImageUpload")}),label:"Image Upload"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCreativeOptimization??!0,onChange:()=>C("enableCreativeOptimization")}),label:"Creative Optimization"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Asset Limits"})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Video Size (MB)",value:s.limits?.maxVideoSizeMB||500,onChange:p=>u("maxVideoSizeMB",parseInt(p.target.value)),inputProps:{min:10,max:1e3}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Video Duration (seconds)",value:s.limits?.maxVideoDurationSeconds||60,onChange:p=>u("maxVideoDurationSeconds",parseInt(p.target.value)),inputProps:{min:5,max:180}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Image Size (MB)",value:s.limits?.maxImageSizeMB||30,onChange:p=>u("maxImageSizeMB",parseInt(p.target.value)),inputProps:{min:1,max:50}})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Supported Ad Formats"}),e.jsx(xe,{row:!0,children:i.map(p=>e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:p.label},p.value))})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Special Ad Types"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSparkAds??!0,onChange:()=>C("enableSparkAds")}),label:"Spark Ads"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Promote organic TikTok posts as ads"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBrandedContent??!0,onChange:()=>C("enableBrandedContent")}),label:"Branded Content"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Collaborate with creators for branded content"})]})]})}),e.jsx(js,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Audience Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAudienceTargeting??!0,onChange:()=>C("enableAudienceTargeting")}),label:"Audience Targeting"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCustomAudiences??!0,onChange:()=>C("enableCustomAudiences")}),label:"Custom Audiences"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Upload customer lists and create custom audiences"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Custom Audiences",value:s.limits?.maxCustomAudiences||500,onChange:p=>u("maxCustomAudiences",parseInt(p.target.value)),inputProps:{min:10,max:1e3}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Targeting Options"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Demographics"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Age"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Gender"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Location"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Language"})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Interests & Behaviors"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Interest Categories"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Behavior Categories"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Video Interactions"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Creator Interactions"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Hashtag Interactions"})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Device & Technology"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Device Type"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Operating System"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Connection Type"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Carrier"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Device Price"})]})]})]})}),e.jsx(js,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Reporting Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableReporting??!0,onChange:()=>C("enableReporting")}),label:"Campaign Reporting"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnalyticsExport??!0,onChange:()=>C("enableAnalyticsExport")}),label:"Analytics Export"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Reporting Delay (hours)",value:s.limits?.reportingDelayHours||3,onChange:p=>u("reportingDelayHours",parseInt(p.target.value)),helperText:"Data processing delay for reports",inputProps:{min:1,max:24}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Report Types"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Basic Reports"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Audience Reports"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Video Performance"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Attribution Reports"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Conversion Reports"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Custom Reports"})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Metrics to Track"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Impressions"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Clicks"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Video Views"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Conversions"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Spend"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"ROAS"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Engagement"})]})]})]})}),e.jsx(js,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"TikTok Pixel helps track user actions on your website and measure ad performance."})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Pixel Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePixelTracking??!0,onChange:()=>C("enablePixelTracking")}),label:"Pixel Tracking"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableConversionTracking??!0,onChange:()=>C("enableConversionTracking")}),label:"Conversion Tracking"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Pixels per Account",value:s.limits?.maxPixelsPerAccount||20,onChange:p=>u("maxPixelsPerAccount",parseInt(p.target.value)),inputProps:{min:1,max:50}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Conversion Events"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Page View"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Add to Cart"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Purchase"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Registration"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Lead Generation"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"App Install"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Custom Events"})]})]})]})}),e.jsx(js,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"E-commerce Features"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCatalogManagement??!0,onChange:()=>C("enableCatalogManagement")}),label:"Catalog Management"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Manage product catalogs for dynamic ads"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDynamicAds??!0,onChange:()=>C("enableDynamicAds")}),label:"Dynamic Ads"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Automatically create ads from product catalogs"})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Catalog Features"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Product Feed Import"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Real-time Inventory"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Price Updates"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Product Sets"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Collection Ads"})]})]})]})})]})};function vs(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,id:`tiktok-content-tabpanel-${j}`,"aria-labelledby":`tiktok-content-tab-${j}`,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const Hc=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),d=(i,p)=>{j(p)},N=(i,p)=>{r({...s,[i]:p})},C=i=>{r({...s,features:{...s.features,[i]:!s.features?.[i]}})},u=(i,p)=>{r({...s,limits:{...s.limits,[i]:p}})},o=[{value:"DANCE",label:"Dance"},{value:"MUSIC",label:"Music"},{value:"COMEDY",label:"Comedy"},{value:"EDUCATION",label:"Education"},{value:"LIFESTYLE",label:"Lifestyle"},{value:"FASHION",label:"Fashion & Beauty"},{value:"FOOD",label:"Food"},{value:"GAMING",label:"Gaming"},{value:"TECHNOLOGY",label:"Technology"}];return e.jsxs(q,{sx:{width:"100%"},children:[e.jsxs(me,{sx:{p:3,mb:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"TikTok Content API Configuration"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Configure your TikTok Content API integration for video publishing, analytics, and engagement."}),e.jsx(We,{href:"https://developers.tiktok.com/",target:"_blank",rel:"noopener",sx:{mt:1,display:"block"},children:"View TikTok for Developers Documentation"})]}),e.jsx(q,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:l,onChange:d,"aria-label":"TikTok Content configuration tabs",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e.jsx(_,{icon:e.jsx(Zs,{}),label:"Basic Settings"}),e.jsx(_,{icon:e.jsx(Zs,{}),label:"Video Management"}),e.jsx(_,{icon:e.jsx(Wl,{}),label:"Engagement"}),e.jsx(_,{icon:e.jsx(ds,{}),label:"Analytics"}),e.jsx(_,{icon:e.jsx(Vl,{}),label:"Music & Effects"}),e.jsx(_,{icon:e.jsx(ql,{}),label:"Trends & Discovery"}),e.jsx(_,{icon:e.jsx(_l,{}),label:"Collaboration"})]})}),e.jsx(vs,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"To use the TikTok Content API, you need to register your app on the TikTok for Developers platform."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Key",value:s.clientKey||"",onChange:i=>N("clientKey",i.target.value),helperText:"Your TikTok app client key"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",type:"password",value:s.clientSecret||"",onChange:i=>N("clientSecret",i.target.value),helperText:"Your TikTok app client secret"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"User ID",value:s.userId||"",onChange:i=>N("userId",i.target.value),helperText:"TikTok user ID for content management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Username",value:s.username||"",onChange:i=>N("username",i.target.value),helperText:"TikTok username (for display)"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Content Limits"})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Video Duration (seconds)",value:s.limits?.maxVideoDurationSeconds||180,onChange:i=>u("maxVideoDurationSeconds",parseInt(i.target.value)),inputProps:{min:3,max:600},helperText:"Maximum video length"})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Video Size (MB)",value:s.limits?.maxVideoSizeMB||287,onChange:i=>u("maxVideoSizeMB",parseInt(i.target.value)),inputProps:{min:10,max:500}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Videos per Day",value:s.limits?.maxVideosPerDay||10,onChange:i=>u("maxVideosPerDay",parseInt(i.target.value)),inputProps:{min:1,max:50}})})]})}),e.jsx(vs,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Video Features"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoPublishing??!0,onChange:()=>C("enableVideoPublishing")}),label:"Video Publishing"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Upload and publish videos to TikTok"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoRetrieval??!0,onChange:()=>C("enableVideoRetrieval")}),label:"Video Retrieval"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Video Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Description Length",value:s.limits?.maxDescriptionLength||2200,onChange:i=>u("maxDescriptionLength",parseInt(i.target.value)),inputProps:{min:100,max:5e3}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Hashtags per Post",value:s.limits?.maxHashtagsPerPost||100,onChange:i=>u("maxHashtagsPerPost",parseInt(i.target.value)),inputProps:{min:1,max:200}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Mentions per Post",value:s.limits?.maxMentionsPerPost||30,onChange:i=>u("maxMentionsPerPost",parseInt(i.target.value)),inputProps:{min:1,max:50}})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Privacy Setting"}),e.jsxs(ce,{value:s.defaultPrivacy||"PUBLIC_TO_EVERYONE",onChange:i=>N("defaultPrivacy",i.target.value),label:"Default Privacy Setting",children:[e.jsx(F,{value:"PUBLIC_TO_EVERYONE",children:"Public to Everyone"}),e.jsx(F,{value:"FRIENDS_ONLY",children:"Friends Only"}),e.jsx(F,{value:"PRIVATE_ONLY_ME",children:"Private (Only Me)"})]})]})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Default Video Permissions"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Allow Comments"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Allow Duet"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Allow Stitch"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Allow Download"})]})]})]})}),e.jsx(vs,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Engagement Features"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCommentManagement??!0,onChange:()=>C("enableCommentManagement")}),label:"Comment Management"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Read, post, and moderate comments"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEngagementMetrics??!0,onChange:()=>C("enableEngagementMetrics")}),label:"Engagement Metrics"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableFollowerAnalytics??!0,onChange:()=>C("enableFollowerAnalytics")}),label:"Follower Analytics"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableUserProfile??!0,onChange:()=>C("enableUserProfile")}),label:"Profile Management"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Comments to Retrieve",value:s.limits?.maxCommentsToRetrieve||1e3,onChange:i=>u("maxCommentsToRetrieve",parseInt(i.target.value)),inputProps:{min:50,max:5e3}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Followers to Retrieve",value:s.limits?.maxFollowersToRetrieve||1e4,onChange:i=>u("maxFollowersToRetrieve",parseInt(i.target.value)),inputProps:{min:100,max:5e4}})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Comment Filter"}),e.jsxs(ce,{value:s.defaultCommentFilter||"ALL",onChange:i=>N("defaultCommentFilter",i.target.value),label:"Default Comment Filter",children:[e.jsx(F,{value:"ALL",children:"All Comments"}),e.jsx(F,{value:"FRIENDS_ONLY",children:"Friends Only"}),e.jsx(F,{value:"NO_ONE",children:"No One"}),e.jsx(F,{value:"FILTERED_KEYWORDS",children:"Filtered Keywords"})]})]})})]})}),e.jsx(vs,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Analytics Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableContentInsights??!0,onChange:()=>C("enableContentInsights")}),label:"Content Insights"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableViralTrends??!0,onChange:()=>C("enableViralTrends")}),label:"Viral Trends Analysis"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnalyticsExport??!0,onChange:()=>C("enableAnalyticsExport")}),label:"Analytics Export"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Analytics Retention Days",value:s.limits?.analyticsRetentionDays||90,onChange:i=>u("analyticsRetentionDays",parseInt(i.target.value)),inputProps:{min:7,max:365}})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Track Analytics Metrics"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Views"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Likes"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Comments"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Shares"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Completion Rate"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Average Watch Time"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Followers Gained"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Engagement Rate"})]})]})]})}),e.jsx(vs,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Creative Features"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMusicIntegration??!0,onChange:()=>C("enableMusicIntegration")}),label:"Music Integration"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Search and use TikTok sounds"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEffectsManagement??!0,onChange:()=>C("enableEffectsManagement")}),label:"Effects Management"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Apply filters and effects to videos"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSoundLibrary??!0,onChange:()=>C("enableSoundLibrary")}),label:"Sound Library Access"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Sound Categories"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Trending"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Recommended"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Favorites"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Original Sounds"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Genres"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Moods"})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Effect Types"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Beauty"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Funny"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"World"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Animal"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Interactive"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Transition"})]})]})]})}),e.jsx(vs,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Discovery Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTrendingContent??!0,onChange:()=>C("enableTrendingContent")}),label:"Trending Content"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableHashtagAnalytics??!0,onChange:()=>C("enableHashtagAnalytics")}),label:"Hashtag Analytics"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableContentDiscovery??!0,onChange:()=>C("enableContentDiscovery")}),label:"Content Discovery"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCreatorSearch??!0,onChange:()=>C("enableCreatorSearch")}),label:"Creator Search"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableChallengeParticipation??!0,onChange:()=>C("enableChallengeParticipation")}),label:"Challenge Participation"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Trending Videos",value:s.limits?.maxTrendingVideos||100,onChange:i=>u("maxTrendingVideos",parseInt(i.target.value)),inputProps:{min:10,max:500}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Search Results",value:s.limits?.maxSearchResults||100,onChange:i=>u("maxSearchResults",parseInt(i.target.value)),inputProps:{min:10,max:500}})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Content Category"}),e.jsxs(ce,{value:s.defaultCategory||"",onChange:i=>N("defaultCategory",i.target.value),label:"Default Content Category",children:[e.jsx(F,{value:"",children:"All Categories"}),o.map(i=>e.jsx(F,{value:i.value,children:i.label},i.value))]})]})})]})}),e.jsx(vs,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Collaboration Features"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDuetStitch??!0,onChange:()=>C("enableDuetStitch")}),label:"Duet & Stitch"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Create duets and stitches with other videos"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCollaboration??!0,onChange:()=>C("enableCollaboration")}),label:"Collaboration Tools"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLiveStreaming??!0,onChange:()=>C("enableLiveStreaming")}),label:"Live Streaming"}),e.jsx(b,{variant:"caption",display:"block",sx:{ml:4},children:"Go live and interact with viewers"})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Collaboration Types"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Duet"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Stitch"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"React"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Collab"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Response"})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Live Streaming Settings"}),e.jsxs(xe,{row:!0,children:[e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Allow Comments"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Allow Gifts"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Allow Co-hosts"}),e.jsx(h,{control:e.jsx(m,{defaultChecked:!0}),label:"Save Replay"})]})]})]})})]})};function gs(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,id:`messenger-tabpanel-${j}`,"aria-labelledby":`messenger-tab-${j}`,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const $c=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),[d,N]=g.useState(!1),[C,u]=g.useState(null),[o,i]=g.useState(!1),[p,a]=g.useState(null),[x,T]=g.useState(!1),[A,n]=g.useState(null),I=O=>ee=>{r({...s,[O]:ee.target.value})},v=(O,ee)=>_e=>{r({...s,[O]:{...s[O],[ee]:_e.target.checked}})},k=O=>ee=>{r({...s,[O]:ee.target.value})},E=(O,ee)=>_e=>{r({...s,[O]:{...s[O],[ee]:parseInt(_e.target.value)}})},D=(O,ee)=>(_e,Oe)=>{r({...s,[O]:{...s[O],[ee]:Oe}})},Q=(O,ee)=>{j(ee)},R=()=>{u({title:"",type:"postback",payload:""}),N(!0)},se=O=>{u({...s.persistentMenu[O],index:O}),N(!0)},M=O=>{const ee=[...s.persistentMenu];ee.splice(O,1),r({...s,persistentMenu:ee})},pe=()=>{const O=[...s.persistentMenu||[]];C.index!==void 0?O[C.index]=C:O.push(C),r({...s,persistentMenu:O}),N(!1),u(null)},ve=()=>{a({question:"",payload:""}),i(!0)},he=O=>{a({...s.iceBreakers[O],index:O}),i(!0)},Xe=O=>{const ee=[...s.iceBreakers];ee.splice(O,1),r({...s,iceBreakers:ee})},ge=()=>{const O=[...s.iceBreakers||[]];p.index!==void 0?O[p.index]=p:O.push(p),r({...s,iceBreakers:O}),i(!1),a(null)},Ue=()=>{n({name:"",profilePictureUrl:""}),T(!0)},Qe=O=>{n({...s.personas[O],index:O}),T(!0)},P=O=>{const ee=[...s.personas];ee.splice(O,1),r({...s,personas:ee})},w=()=>{const O=[...s.personas||[]];A.index!==void 0?O[A.index]=A:O.push(A),r({...s,personas:O}),T(!1),n(null)};return e.jsxs(e.Fragment,{children:[e.jsx(q,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:l,onChange:Q,"aria-label":"Messenger API configuration tabs",children:[e.jsx(_,{label:"Authentication"}),e.jsx(_,{label:"Features"}),e.jsx(_,{label:"Message Settings"}),e.jsx(_,{label:"Bot Configuration"}),e.jsx(_,{label:"Personas"}),e.jsx(_,{label:"Insights"}),e.jsx(_,{label:"Rate Limits"})]})}),e.jsx(gs,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Configure your Facebook Messenger Platform authentication credentials. You'll need a Page Access Token and App Secret from your Facebook App."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Page ID",value:s.pageId||"",onChange:I("pageId"),helperText:"Your Facebook Page ID"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Page Access Token",type:"password",value:s.pageAccessToken||"",onChange:I("pageAccessToken"),helperText:"Long-lived page access token"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"App Secret",type:"password",value:s.appSecret||"",onChange:I("appSecret"),helperText:"Your Facebook App Secret for webhook verification"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Verify Token",value:s.verifyToken||"",onChange:I("verifyToken"),helperText:"Custom verify token for webhook setup"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Webhook URL",value:s.webhookUrl||"",onChange:I("webhookUrl"),helperText:"Your webhook endpoint URL"})})]})}),e.jsx(gs,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Messaging Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessaging||!1,onChange:v("features","enableMessaging")}),label:"Enable Messaging"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableChatbot||!1,onChange:v("features","enableChatbot")}),label:"Enable Chatbot"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePersistentMenu||!1,onChange:v("features","enablePersistentMenu")}),label:"Enable Persistent Menu"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableGetStarted||!1,onChange:v("features","enableGetStarted")}),label:"Enable Get Started Button"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableGreeting||!1,onChange:v("features","enableGreeting")}),label:"Enable Greeting Text"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableQuickReplies||!1,onChange:v("features","enableQuickReplies")}),label:"Enable Quick Replies"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTypingIndicator||!1,onChange:v("features","enableTypingIndicator")}),label:"Enable Typing Indicator"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessageTemplates||!1,onChange:v("features","enableMessageTemplates")}),label:"Enable Message Templates"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Advanced Features"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAttachments||!1,onChange:v("features","enableAttachments")}),label:"Enable File Attachments"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBroadcasting||!1,onChange:v("features","enableBroadcasting")}),label:"Enable Broadcasting"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCustomerMatching||!1,onChange:v("features","enableCustomerMatching")}),label:"Enable Customer Matching"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableHandover||!1,onChange:v("features","enableHandover")}),label:"Enable Handover Protocol"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePersonas||!1,onChange:v("features","enablePersonas")}),label:"Enable Personas"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableNaturalLanguageProcessing||!1,onChange:v("features","enableNaturalLanguageProcessing")}),label:"Enable NLP"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessageInsights||!1,onChange:v("features","enableMessageInsights")}),label:"Enable Message Insights"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessageTags||!1,onChange:v("features","enableMessageTags")}),label:"Enable Message Tags"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSponsoredMessages||!1,onChange:v("features","enableSponsoredMessages")}),label:"Enable Sponsored Messages"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePrivateReplies||!1,onChange:v("features","enablePrivateReplies")}),label:"Enable Private Replies"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessageReactions||!1,onChange:v("features","enableMessageReactions")}),label:"Enable Message Reactions"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableIceBreakers||!1,onChange:v("features","enableIceBreakers")}),label:"Enable Ice Breakers"})})]})}),e.jsx(gs,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Message Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Messaging Type"}),e.jsxs(ce,{value:s.messagingType||"RESPONSE",onChange:k("messagingType"),label:"Default Messaging Type",children:[e.jsx(F,{value:"RESPONSE",children:"Response"}),e.jsx(F,{value:"UPDATE",children:"Update"}),e.jsx(F,{value:"MESSAGE_TAG",children:"Message Tag"})]})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Notification Type"}),e.jsxs(ce,{value:s.notificationType||"REGULAR",onChange:k("notificationType"),label:"Default Notification Type",children:[e.jsx(F,{value:"REGULAR",children:"Regular"}),e.jsx(F,{value:"SILENT_PUSH",children:"Silent Push"}),e.jsx(F,{value:"NO_PUSH",children:"No Push"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,multiline:!0,rows:3,label:"Greeting Text",value:s.greetingText||"",onChange:I("greetingText"),helperText:"Message shown to new users"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Get Started Payload",value:s.getStartedPayload||"",onChange:I("getStartedPayload"),helperText:"Payload sent when user clicks Get Started"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Message Limits"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Message Length",value:s.limits?.maxMessageLength||2e3,onChange:E("limits","maxMessageLength"),helperText:"Maximum characters per message"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Quick Replies",value:s.limits?.maxQuickReplies||13,onChange:E("limits","maxQuickReplies"),helperText:"Maximum quick reply buttons"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Buttons per Template",value:s.limits?.maxButtonsPerTemplate||3,onChange:E("limits","maxButtonsPerTemplate"),helperText:"Maximum buttons in a template"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Carousel Elements",value:s.limits?.maxElementsPerCarousel||10,onChange:E("limits","maxElementsPerCarousel"),helperText:"Maximum elements in carousel"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Attachment Size (MB)",value:s.limits?.maxAttachmentSizeMB||25,onChange:E("limits","maxAttachmentSizeMB"),helperText:"Maximum file size for attachments"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Messaging Window (hours)",value:s.limits?.messagingWindowHours||24,onChange:E("limits","messagingWindowHours"),helperText:"Time window for standard messages"})})]})}),e.jsx(gs,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(me,{elevation:2,sx:{p:2,mb:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Persistent Menu"}),e.jsx($e,{children:s.persistentMenu?.map((O,ee)=>e.jsxs(be,{children:[e.jsx(Ie,{primary:O.title,secondary:`Type: ${O.type} | Payload: ${O.payload}`}),e.jsxs(Ls,{children:[e.jsx(Ze,{edge:"end",onClick:()=>se(ee),children:e.jsx(Pt,{})}),e.jsx(Ze,{edge:"end",onClick:()=>M(ee),children:e.jsx(zs,{})})]})]},ee))}),e.jsx(Ne,{variant:"outlined",startIcon:e.jsx(Js,{}),onClick:R,disabled:(s.persistentMenu?.length||0)>=(s.limits?.maxPersistentMenuItems||3),children:"Add Menu Item"})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(me,{elevation:2,sx:{p:2},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Ice Breakers"}),e.jsx($e,{children:s.iceBreakers?.map((O,ee)=>e.jsxs(be,{children:[e.jsx(Ie,{primary:O.question,secondary:`Payload: ${O.payload}`}),e.jsxs(Ls,{children:[e.jsx(Ze,{edge:"end",onClick:()=>he(ee),children:e.jsx(Pt,{})}),e.jsx(Ze,{edge:"end",onClick:()=>Xe(ee),children:e.jsx(zs,{})})]})]},ee))}),e.jsx(Ne,{variant:"outlined",startIcon:e.jsx(Js,{}),onClick:ve,disabled:(s.iceBreakers?.length||0)>=(s.limits?.maxIceBreakers||4),children:"Add Ice Breaker"})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Bot Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Primary Receiver App ID"}),e.jsxs(ce,{value:s.primaryReceiverAppId||"",onChange:k("primaryReceiverAppId"),label:"Primary Receiver App ID",children:[e.jsx(F,{value:"",children:"Default (Page Inbox)"}),e.jsx(F,{value:"263902037430900",children:"Page Inbox"}),e.jsx(F,{value:"custom",children:"Custom App ID"})]})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Custom App ID",value:s.customAppId||"",onChange:I("customAppId"),disabled:s.primaryReceiverAppId!=="custom",helperText:"Enter custom app ID if selected above"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableAutomaticHandover||!1,onChange:O=>r({...s,enableAutomaticHandover:O.target.checked})}),label:"Enable Automatic Handover"})})]})}),e.jsx(gs,{value:l,index:4,children:e.jsx(t,{container:!0,spacing:3,children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(me,{elevation:2,sx:{p:2},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Personas"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Create personas to represent different agents or departments in your conversations."}),e.jsx($e,{children:s.personas?.map((O,ee)=>e.jsxs(be,{children:[e.jsx(Ie,{primary:O.name,secondary:O.profilePictureUrl}),e.jsxs(Ls,{children:[e.jsx(Ze,{edge:"end",onClick:()=>Qe(ee),children:e.jsx(Pt,{})}),e.jsx(Ze,{edge:"end",onClick:()=>P(ee),children:e.jsx(zs,{})})]})]},ee))}),e.jsx(Ne,{variant:"outlined",startIcon:e.jsx(Js,{}),onClick:Ue,disabled:(s.personas?.length||0)>=(s.limits?.maxPersonas||5),children:"Add Persona"})]})})})}),e.jsx(gs,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Insights Configuration"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableInsights||!1,onChange:O=>r({...s,enableInsights:O.target.checked})}),label:"Enable Insights Collection"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Insights Period"}),e.jsxs(ce,{value:s.insightsPeriod||"day",onChange:k("insightsPeriod"),label:"Insights Period",children:[e.jsx(F,{value:"day",children:"Daily"}),e.jsx(F,{value:"week",children:"Weekly"}),e.jsx(F,{value:"days_28",children:"28 Days"})]})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Insights Polling Interval (minutes)",value:s.insightsPollingInterval||60,onChange:O=>r({...s,insightsPollingInterval:parseInt(O.target.value)}),helperText:"How often to poll for insights"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Tracked Metrics"}),["Total Messaging Connections","New Messaging Connections","Blocked Conversations","Reported Conversations","Feedback by Action Type"].map(O=>e.jsx(ye,{label:O,sx:{mr:1,mb:1},color:"primary",variant:"outlined"},O))]})]})}),e.jsx(gs,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Rate Limiting"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"API Calls per Minute"}),e.jsx(Fe,{value:s.limits?.rateLimitPerMinute||200,onChange:D("limits","rateLimitPerMinute"),"aria-labelledby":"rate-limit-slider",valueLabelDisplay:"auto",min:10,max:1e3,step:10})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Burst Limit"}),e.jsx(Fe,{value:s.limits?.burstLimit||50,onChange:D("limits","burstLimit"),"aria-labelledby":"burst-limit-slider",valueLabelDisplay:"auto",min:10,max:200,step:5})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Broadcast Recipients",value:s.limits?.maxBroadcastRecipients||1e4,onChange:E("limits","maxBroadcastRecipients"),helperText:"Maximum recipients per broadcast"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Templates per Account",value:s.limits?.maxTemplatesPerAccount||250,onChange:E("limits","maxTemplatesPerAccount"),helperText:"Maximum message templates allowed"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableRateLimitAutoRetry||!1,onChange:O=>r({...s,enableRateLimitAutoRetry:O.target.checked})}),label:"Auto-retry on Rate Limit"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"warning",children:"Facebook applies rate limits to prevent abuse. Configure these settings to match your approved limits."})})]})}),e.jsxs($s,{open:d,onClose:()=>N(!1),children:[e.jsxs(Gs,{children:[C?.index!==void 0?"Edit":"Add"," Menu Item"]}),e.jsx(Ys,{children:e.jsxs(t,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Title",value:C?.title||"",onChange:O=>u({...C,title:O.target.value})})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Type"}),e.jsxs(ce,{value:C?.type||"postback",onChange:O=>u({...C,type:O.target.value}),label:"Type",children:[e.jsx(F,{value:"postback",children:"Postback"}),e.jsx(F,{value:"web_url",children:"Web URL"}),e.jsx(F,{value:"nested",children:"Nested"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:C?.type==="web_url"?"URL":"Payload",value:C?.payload||"",onChange:O=>u({...C,payload:O.target.value})})})]})}),e.jsxs(Ks,{children:[e.jsx(Ne,{onClick:()=>N(!1),children:"Cancel"}),e.jsx(Ne,{onClick:pe,variant:"contained",children:"Save"})]})]}),e.jsxs($s,{open:o,onClose:()=>i(!1),children:[e.jsxs(Gs,{children:[p?.index!==void 0?"Edit":"Add"," Ice Breaker"]}),e.jsx(Ys,{children:e.jsxs(t,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Question",value:p?.question||"",onChange:O=>a({...p,question:O.target.value})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Payload",value:p?.payload||"",onChange:O=>a({...p,payload:O.target.value})})})]})}),e.jsxs(Ks,{children:[e.jsx(Ne,{onClick:()=>i(!1),children:"Cancel"}),e.jsx(Ne,{onClick:ge,variant:"contained",children:"Save"})]})]}),e.jsxs($s,{open:x,onClose:()=>T(!1),children:[e.jsxs(Gs,{children:[A?.index!==void 0?"Edit":"Add"," Persona"]}),e.jsx(Ys,{children:e.jsxs(t,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Name",value:A?.name||"",onChange:O=>n({...A,name:O.target.value})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Profile Picture URL",value:A?.profilePictureUrl||"",onChange:O=>n({...A,profilePictureUrl:O.target.value})})})]})}),e.jsxs(Ks,{children:[e.jsx(Ne,{onClick:()=>T(!1),children:"Cancel"}),e.jsx(Ne,{onClick:w,variant:"contained",children:"Save"})]})]})]})};function bs(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,id:`pinterest-tabpanel-${j}`,"aria-labelledby":`pinterest-tab-${j}`,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const Gc=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),[d,N]=g.useState(""),C=n=>I=>{r({...s,[n]:I.target.value})},u=(n,I)=>v=>{r({...s,[n]:{...s[n],[I]:v.target.checked}})},o=n=>I=>{r({...s,[n]:I.target.value})},i=(n,I)=>v=>{r({...s,[n]:{...s[n],[I]:parseInt(v.target.value)}})},p=(n,I)=>(v,k)=>{r({...s,[n]:{...s[n],[I]:k}})},a=(n,I)=>{j(I)},x=()=>{d&&!s.scopes?.includes(d)&&(r({...s,scopes:[...s.scopes||[],d]}),N(""))},T=n=>{r({...s,scopes:s.scopes?.filter(I=>I!==n)||[]})},A=["boards:read","boards:write","pins:read","pins:write","user_accounts:read","catalogs:read","catalogs:write","ads:read","ads:write"];return e.jsxs(e.Fragment,{children:[e.jsx(q,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:l,onChange:a,"aria-label":"Pinterest API configuration tabs",children:[e.jsx(_,{label:"Authentication"}),e.jsx(_,{label:"Features"}),e.jsx(_,{label:"Content Settings"}),e.jsx(_,{label:"Shopping & Catalogs"}),e.jsx(_,{label:"Analytics"}),e.jsx(_,{label:"Advertising"}),e.jsx(_,{label:"Rate Limits"})]})}),e.jsx(bs,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Configure your Pinterest API credentials. You'll need an App ID and Secret from the Pinterest Developers portal."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"App ID",value:s.appId||"",onChange:C("appId"),helperText:"Your Pinterest App ID"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"App Secret",type:"password",value:s.appSecret||"",onChange:C("appSecret"),helperText:"Your Pinterest App Secret"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Advertiser ID",value:s.advertiserId||"",onChange:C("advertiserId"),helperText:"Required for advertising features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Access Token",type:"password",value:s.accessToken||"",onChange:C("accessToken"),helperText:"OAuth 2.0 access token"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"OAuth Scopes"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Select the permissions your application needs"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(me,{variant:"outlined",sx:{p:2},children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:A.map(n=>e.jsx(ye,{label:n,color:s.scopes?.includes(n)?"primary":"default",onClick:()=>{s.scopes?.includes(n)?T(n):r({...s,scopes:[...s.scopes||[],n]})}},n))})}),e.jsx(t,{item:!0,xs:8,children:e.jsx(f,{fullWidth:!0,label:"Custom Scope",value:d,onChange:n=>N(n.target.value),placeholder:"Enter custom scope",onKeyPress:n=>n.key==="Enter"&&x()})}),e.jsx(t,{item:!0,xs:4,children:e.jsx(Ne,{fullWidth:!0,variant:"outlined",onClick:x,disabled:!d,children:"Add Scope"})})]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Webhook URL",value:s.webhookUrl||"",onChange:C("webhookUrl"),helperText:"Endpoint to receive Pinterest webhook events"})})]})}),e.jsx(bs,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Core Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePinManagement||!1,onChange:u("features","enablePinManagement")}),label:"Enable Pin Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBoardManagement||!1,onChange:u("features","enableBoardManagement")}),label:"Enable Board Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnalytics||!1,onChange:u("features","enableAnalytics")}),label:"Enable Analytics"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableShopping||!1,onChange:u("features","enableShopping")}),label:"Enable Shopping"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAds||!1,onChange:u("features","enableAds")}),label:"Enable Advertising"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCatalogs||!1,onChange:u("features","enableCatalogs")}),label:"Enable Product Catalogs"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Content Features"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBulkOperations||!1,onChange:u("features","enableBulkOperations")}),label:"Enable Bulk Operations"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVideoContent||!1,onChange:u("features","enableVideoContent")}),label:"Enable Video Content"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableStoryPins||!1,onChange:u("features","enableStoryPins")}),label:"Enable Story Pins"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableIdeaPins||!1,onChange:u("features","enableIdeaPins")}),label:"Enable Idea Pins"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTryOn||!1,onChange:u("features","enableTryOn")}),label:"Enable Try On Feature"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCollections||!1,onChange:u("features","enableCollections")}),label:"Enable Collections"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Business Features"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMerchant||!1,onChange:u("features","enableMerchant")}),label:"Enable Merchant Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCreatorTools||!1,onChange:u("features","enableCreatorTools")}),label:"Enable Creator Tools"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAudiences||!1,onChange:u("features","enableAudiences")}),label:"Enable Custom Audiences"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableConversionTracking||!1,onChange:u("features","enableConversionTracking")}),label:"Enable Conversion Tracking"})})]})}),e.jsx(bs,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Content Limits"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Pins per Board",value:s.limits?.maxPinsPerBoard||2e5,onChange:i("limits","maxPinsPerBoard"),helperText:"Maximum number of pins allowed per board"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Boards per User",value:s.limits?.maxBoardsPerUser||2e3,onChange:i("limits","maxBoardsPerUser"),helperText:"Maximum number of boards per user account"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Sections per Board",value:s.limits?.maxSectionsPerBoard||500,onChange:i("limits","maxSectionsPerBoard"),helperText:"Maximum board sections allowed"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Pin Description Length",value:s.limits?.maxPinDescriptionLength||500,onChange:i("limits","maxPinDescriptionLength"),helperText:"Maximum characters in pin description"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Media Limits"})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Image Size (MB)"}),e.jsx(Fe,{value:s.limits?.maxImageSizeMB||32,onChange:p("limits","maxImageSizeMB"),"aria-labelledby":"image-size-slider",valueLabelDisplay:"auto",min:1,max:50,step:1})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Max Video Size (MB)"}),e.jsx(Fe,{value:s.limits?.maxVideoSizeMB||2048,onChange:p("limits","maxVideoSizeMB"),"aria-labelledby":"video-size-slider",valueLabelDisplay:"auto",min:100,max:4096,step:100})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Video Length (seconds)",value:s.limits?.maxVideoLengthSeconds||900,onChange:i("limits","maxVideoLengthSeconds"),helperText:"Maximum video duration in seconds"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Bulk Pins per Request",value:s.limits?.maxBulkPinsPerRequest||100,onChange:i("limits","maxBulkPinsPerRequest"),helperText:"Maximum pins in a bulk operation"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Polling Settings"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.pollingEnabled||!1,onChange:n=>r({...s,pollingEnabled:n.target.checked})}),label:"Enable Polling"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Pin Polling Interval (minutes)",value:s.pinPollingInterval||5,onChange:n=>r({...s,pinPollingInterval:parseInt(n.target.value)}),helperText:"How often to check for new pins"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Board Polling Interval (minutes)",value:s.boardPollingInterval||10,onChange:n=>r({...s,boardPollingInterval:parseInt(n.target.value)}),helperText:"How often to check for board updates"})})]})}),e.jsx(bs,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Shopping Configuration"}),e.jsx(ae,{severity:"info",sx:{mb:2},children:"Pinterest Shopping features require a verified merchant account and approved product catalogs."})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.shoppingEnabled||!1,onChange:n=>r({...s,shoppingEnabled:n.target.checked})}),label:"Enable Shopping Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Merchant ID",value:s.merchantId||"",onChange:C("merchantId"),helperText:"Your Pinterest Merchant ID"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Currency"}),e.jsxs(ce,{value:s.defaultCurrency||"USD",onChange:o("defaultCurrency"),label:"Default Currency",children:[e.jsx(F,{value:"USD",children:"USD - US Dollar"}),e.jsx(F,{value:"EUR",children:"EUR - Euro"}),e.jsx(F,{value:"GBP",children:"GBP - British Pound"}),e.jsx(F,{value:"CAD",children:"CAD - Canadian Dollar"}),e.jsx(F,{value:"AUD",children:"AUD - Australian Dollar"}),e.jsx(F,{value:"JPY",children:"JPY - Japanese Yen"}),e.jsx(F,{value:"CNY",children:"CNY - Chinese Yuan"}),e.jsx(F,{value:"INR",children:"INR - Indian Rupee"})]})]})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Catalog Settings"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Catalog Format"}),e.jsxs(ce,{value:s.catalogFormat||"CSV",onChange:o("catalogFormat"),label:"Catalog Format",children:[e.jsx(F,{value:"CSV",children:"CSV"}),e.jsx(F,{value:"TSV",children:"TSV"}),e.jsx(F,{value:"XML",children:"XML (RSS/ATOM)"}),e.jsx(F,{value:"JSON",children:"JSON"})]})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Products per Catalog",value:s.limits?.maxProductsPerCatalog||2e7,onChange:i("limits","maxProductsPerCatalog"),helperText:"Maximum products allowed in a catalog"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.autoTagProducts||!1,onChange:n=>r({...s,autoTagProducts:n.target.checked})}),label:"Auto-tag Products in Pins"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.syncInventory||!1,onChange:n=>r({...s,syncInventory:n.target.checked})}),label:"Sync Inventory Availability"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Product Feed URL",value:s.productFeedUrl||"",onChange:C("productFeedUrl"),helperText:"URL to your product feed file"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Feed Update Frequency (hours)",value:s.feedUpdateFrequency||24,onChange:n=>r({...s,feedUpdateFrequency:parseInt(n.target.value)}),helperText:"How often to update product feeds"})})]})}),e.jsx(bs,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Analytics Configuration"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.analyticsEnabled||!1,onChange:n=>r({...s,analyticsEnabled:n.target.checked})}),label:"Enable Analytics Collection"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Report Period"}),e.jsxs(ce,{value:s.defaultReportPeriod||"LAST_30_DAYS",onChange:o("defaultReportPeriod"),label:"Default Report Period",children:[e.jsx(F,{value:"LAST_7_DAYS",children:"Last 7 Days"}),e.jsx(F,{value:"LAST_14_DAYS",children:"Last 14 Days"}),e.jsx(F,{value:"LAST_30_DAYS",children:"Last 30 Days"}),e.jsx(F,{value:"LAST_90_DAYS",children:"Last 90 Days"}),e.jsx(F,{value:"CUSTOM",children:"Custom Range"})]})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Report Granularity"}),e.jsxs(ce,{value:s.reportGranularity||"DAY",onChange:o("reportGranularity"),label:"Report Granularity",children:[e.jsx(F,{value:"TOTAL",children:"Total"}),e.jsx(F,{value:"HOUR",children:"Hourly"}),e.jsx(F,{value:"DAY",children:"Daily"}),e.jsx(F,{value:"WEEK",children:"Weekly"}),e.jsx(F,{value:"MONTH",children:"Monthly"})]})]})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Tracked Metrics"}),["Impressions","Saves (Repins)","Pin Clicks","Outbound Clicks","Video Views","Engagement Rate","Save Rate","Comments","Close-ups"].map(n=>e.jsx(ye,{label:n,sx:{mr:1,mb:1},color:"primary",variant:"outlined"},n))]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Conversion Tracking"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.conversionTrackingEnabled||!1,onChange:n=>r({...s,conversionTrackingEnabled:n.target.checked})}),label:"Enable Conversion Tracking"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Pinterest Tag ID",value:s.pinterestTagId||"",onChange:C("pinterestTagId"),helperText:"Your Pinterest conversion tag ID"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Attribution Window"}),e.jsxs(ce,{value:s.attributionWindow||"30_DAYS",onChange:o("attributionWindow"),label:"Attribution Window",children:[e.jsx(F,{value:"1_DAY",children:"1 Day"}),e.jsx(F,{value:"7_DAYS",children:"7 Days"}),e.jsx(F,{value:"30_DAYS",children:"30 Days"}),e.jsx(F,{value:"60_DAYS",children:"60 Days"})]})]})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Tracked Events"}),["PageVisit","AddToCart","Checkout","Lead","Signup","Search","ViewCategory","Custom"].map(n=>e.jsx(ye,{label:n,sx:{mr:1,mb:1},color:"secondary",variant:"outlined"},n))]})]})}),e.jsx(bs,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Advertising Configuration"}),e.jsx(ae,{severity:"warning",sx:{mb:2},children:"Pinterest Ads require an approved business account with billing set up."})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.adsEnabled||!1,onChange:n=>r({...s,adsEnabled:n.target.checked})}),label:"Enable Advertising Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Campaign Objective"}),e.jsxs(ce,{value:s.defaultCampaignObjective||"AWARENESS",onChange:o("defaultCampaignObjective"),label:"Default Campaign Objective",children:[e.jsx(F,{value:"AWARENESS",children:"Brand Awareness"}),e.jsx(F,{value:"VIDEO_VIEW",children:"Video Views"}),e.jsx(F,{value:"CONSIDERATION",children:"Consideration"}),e.jsx(F,{value:"TRAFFIC",children:"Traffic"}),e.jsx(F,{value:"APP_INSTALL",children:"App Install"}),e.jsx(F,{value:"CONVERSIONS",children:"Conversions"}),e.jsx(F,{value:"CATALOG_SALES",children:"Catalog Sales"})]})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Default Daily Budget ($)",value:s.defaultDailyBudget||50,onChange:n=>r({...s,defaultDailyBudget:parseFloat(n.target.value)}),helperText:"Default daily budget for campaigns"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Audience Targeting"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Audience Size",value:s.limits?.maxAudienceSize||1e7,onChange:i("limits","maxAudienceSize"),helperText:"Maximum size for custom audiences"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"Default Targeting Strategy"}),e.jsxs(ce,{value:s.defaultTargetingStrategy||"BALANCED",onChange:o("defaultTargetingStrategy"),label:"Default Targeting Strategy",children:[e.jsx(F,{value:"BROAD",children:"Broad"}),e.jsx(F,{value:"BALANCED",children:"Balanced"}),e.jsx(F,{value:"SPECIFIC",children:"Specific"}),e.jsx(F,{value:"CUSTOM",children:"Custom"})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableAutoBidding||!1,onChange:n=>r({...s,enableAutoBidding:n.target.checked})}),label:"Enable Automatic Bidding"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableCampaignOptimization||!1,onChange:n=>r({...s,enableCampaignOptimization:n.target.checked})}),label:"Enable Campaign Optimization"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Available Ad Formats"}),["Standard Pin","Video Pin","Shopping Pin","Carousel","Collection","Idea Pin Ad","Quiz Pin"].map(n=>e.jsx(ye,{label:n,sx:{mr:1,mb:1},color:"primary",variant:"outlined"},n))]})]})}),e.jsx(bs,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"API Rate Limits"})}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Requests per Hour"}),e.jsx(Fe,{value:s.limits?.rateLimitPerHour||1e3,onChange:p("limits","rateLimitPerHour"),"aria-labelledby":"hourly-rate-limit-slider",valueLabelDisplay:"auto",min:100,max:1e4,step:100})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Requests per Minute"}),e.jsx(Fe,{value:s.limits?.rateLimitPerMinute||300,onChange:p("limits","rateLimitPerMinute"),"aria-labelledby":"minute-rate-limit-slider",valueLabelDisplay:"auto",min:10,max:1e3,step:10})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableRateLimitRetry||!1,onChange:n=>r({...s,enableRateLimitRetry:n.target.checked})}),label:"Auto-retry on Rate Limit"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Retry Attempts",value:s.maxRetryAttempts||3,onChange:n=>r({...s,maxRetryAttempts:parseInt(n.target.value)}),helperText:"Maximum retry attempts for failed requests"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Retry Delay (seconds)",value:s.retryDelay||5,onChange:n=>r({...s,retryDelay:parseInt(n.target.value)}),helperText:"Delay between retry attempts"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",icon:e.jsx(Za,{}),children:"Pinterest API rate limits vary by endpoint and account type. Configure these settings based on your approved limits."})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Request Optimization"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableRequestBatching||!1,onChange:n=>r({...s,enableRequestBatching:n.target.checked})}),label:"Enable Request Batching"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableResponseCaching||!1,onChange:n=>r({...s,enableResponseCaching:n.target.checked})}),label:"Enable Response Caching"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Cache TTL (minutes)",value:s.cacheTTL||15,onChange:n=>r({...s,cacheTTL:parseInt(n.target.value)}),helperText:"Cache time-to-live in minutes",disabled:!s.enableResponseCaching})})]})})]})};function Ms(s){const{children:r,value:l,index:j,...d}=s;return e.jsx("div",{role:"tabpanel",hidden:l!==j,id:`reddit-tabpanel-${j}`,"aria-labelledby":`reddit-tab-${j}`,...d,children:l===j&&e.jsx(q,{sx:{p:3},children:r})})}const Yc=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),[d,N]=g.useState(!1),[C,u]=g.useState(""),[o,i]=g.useState(!1),[p,a]=g.useState({}),x=R=>se=>{r({...s,[R]:se.target.value})},T=(R,se)=>M=>{r({...s,[R]:{...s[R],[se]:M.target.checked}})},A=R=>se=>{r({...s,[R]:se.target.value})},n=(R,se)=>M=>{r({...s,[R]:{...s[R],[se]:parseInt(M.target.value)}})},I=(R,se)=>(M,pe)=>{r({...s,[R]:{...s[R],[se]:pe}})},v=(R,se)=>{j(se)},k=()=>{C&&!s.monitoredSubreddits?.includes(C)&&(r({...s,monitoredSubreddits:[...s.monitoredSubreddits||[],C]}),u(""),N(!1))},E=R=>{r({...s,monitoredSubreddits:s.monitoredSubreddits?.filter(se=>se!==R)||[]})},D=()=>{const R=[...s.flairTemplates||[],p];r({...s,flairTemplates:R}),a({}),i(!1)},Q=R=>{const se=[...s.flairTemplates];se.splice(R,1),r({...s,flairTemplates:se})};return e.jsxs(e.Fragment,{children:[e.jsx(q,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ye,{value:l,onChange:v,"aria-label":"Reddit API configuration tabs",children:[e.jsx(_,{label:"Authentication"}),e.jsx(_,{label:"Features"}),e.jsx(_,{label:"Content Settings"}),e.jsx(_,{label:"Monitoring"}),e.jsx(_,{label:"Moderation"}),e.jsx(_,{label:"Rate Limits"})]})}),e.jsx(Ms,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Configure your Reddit App credentials. You'll need to create an app at reddit.com/prefs/apps"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client ID",value:s.clientId||"",onChange:x("clientId"),helperText:"Your Reddit App ID"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",type:"password",value:s.clientSecret||"",onChange:x("clientSecret"),helperText:"Your Reddit App Secret"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"User Agent",value:s.userAgent||"",onChange:x("userAgent"),helperText:"Format: platform:app_id:version (by /u/username)",placeholder:"web:myapp:v1.0.0 (by /u/yourusername)"})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(re,{fullWidth:!0,children:[e.jsx(ie,{children:"App Type"}),e.jsxs(ce,{value:s.appType||"script",onChange:A("appType"),label:"App Type",children:[e.jsx(F,{value:"script",children:"Script (personal use)"}),e.jsx(F,{value:"web",children:"Web App"}),e.jsx(F,{value:"installed",children:"Installed App"})]})]})}),s.appType==="script"&&e.jsxs(e.Fragment,{children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Username",value:s.username||"",onChange:x("username"),helperText:"Reddit username (for script apps)"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Password",type:"password",value:s.password||"",onChange:x("password"),helperText:"Reddit password (for script apps)"})})]}),s.appType!=="script"&&e.jsxs(e.Fragment,{children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Redirect URI",value:s.redirectUri||"",onChange:x("redirectUri"),helperText:"OAuth redirect URI"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Refresh Token",type:"password",value:s.refreshToken||"",onChange:x("refreshToken"),helperText:"OAuth refresh token"})})]})]})}),e.jsx(Ms,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Core Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePostManagement||!1,onChange:T("features","enablePostManagement")}),label:"Enable Post Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCommentManagement||!1,onChange:T("features","enableCommentManagement")}),label:"Enable Comment Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSubredditMonitoring||!1,onChange:T("features","enableSubredditMonitoring")}),label:"Enable Subreddit Monitoring"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableUserTracking||!1,onChange:T("features","enableUserTracking")}),label:"Enable User Tracking"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableModeration||!1,onChange:T("features","enableModeration")}),label:"Enable Moderation Tools"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableWikiManagement||!1,onChange:T("features","enableWikiManagement")}),label:"Enable Wiki Management"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Social Features"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePrivateMessages||!1,onChange:T("features","enablePrivateMessages")}),label:"Enable Private Messages"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVoting||!1,onChange:T("features","enableVoting")}),label:"Enable Voting"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAwards||!1,onChange:T("features","enableAwards")}),label:"Enable Awards"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSearch||!1,onChange:T("features","enableSearch")}),label:"Enable Search"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Content Features"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableFlairManagement||!1,onChange:T("features","enableFlairManagement")}),label:"Enable Flair Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMultireddit||!1,onChange:T("features","enableMultireddit")}),label:"Enable Multireddit"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableLiveThreads||!1,onChange:T("features","enableLiveThreads")}),label:"Enable Live Threads"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePolls||!1,onChange:T("features","enablePolls")}),label:"Enable Polls"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCollections||!1,onChange:T("features","enableCollections")}),label:"Enable Collections"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCrossposting||!1,onChange:T("features","enableCrossposting")}),label:"Enable Crossposting"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableScheduledPosts||!1,onChange:T("features","enableScheduledPosts")}),label:"Enable Scheduled Posts"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAnalytics||!1,onChange:T("features","enableAnalytics")}),label:"Enable Analytics"})})]})}),e.jsx(Ms,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Content Limits"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Title Length",value:s.limits?.maxTitleLength||300,onChange:n("limits","maxTitleLength"),helperText:"Maximum characters in post title"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Text Length",value:s.limits?.maxTextLength||4e4,onChange:n("limits","maxTextLength"),helperText:"Maximum characters in text posts"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Comment Length",value:s.limits?.maxCommentLength||1e4,onChange:n("limits","maxCommentLength"),helperText:"Maximum characters in comments"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Wiki Page Size (KB)",value:(s.limits?.maxWikiPageSize||524288)/1024,onChange:R=>r({...s,limits:{...s.limits,maxWikiPageSize:parseInt(R.target.value)*1024}}),helperText:"Maximum wiki page size in kilobytes"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Media Limits"})]}),e.jsxs(t,{item:!0,xs:12,md:4,children:[e.jsx(b,{gutterBottom:!0,children:"Max Image Size (MB)"}),e.jsx(Fe,{value:s.limits?.maxImageSizeMB||20,onChange:I("limits","maxImageSizeMB"),"aria-labelledby":"image-size-slider",valueLabelDisplay:"auto",min:1,max:100,step:1})]}),e.jsxs(t,{item:!0,xs:12,md:4,children:[e.jsx(b,{gutterBottom:!0,children:"Max Video Size (MB)"}),e.jsx(Fe,{value:s.limits?.maxVideoSizeMB||1024,onChange:I("limits","maxVideoSizeMB"),"aria-labelledby":"video-size-slider",valueLabelDisplay:"auto",min:100,max:2048,step:100})]}),e.jsxs(t,{item:!0,xs:12,md:4,children:[e.jsx(b,{gutterBottom:!0,children:"Max GIF Size (MB)"}),e.jsx(Fe,{value:s.limits?.maxGifSizeMB||200,onChange:I("limits","maxGifSizeMB"),"aria-labelledby":"gif-size-slider",valueLabelDisplay:"auto",min:10,max:500,step:10})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Other Limits"})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Subreddits per Multi",value:s.limits?.maxSubredditsPerMulti||100,onChange:n("limits","maxSubredditsPerMulti"),helperText:"Maximum subreddits in a multireddit"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Poll Options",value:s.limits?.maxPollOptions||6,onChange:n("limits","maxPollOptions"),helperText:"Maximum options in a poll"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Poll Duration (days)",value:s.limits?.maxPollDurationDays||7,onChange:n("limits","maxPollDurationDays"),helperText:"Maximum poll duration"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Search Results",value:s.limits?.maxSearchResults||1e3,onChange:n("limits","maxSearchResults"),helperText:"Maximum search results returned"})})]})}),e.jsx(Ms,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Monitoring Configuration"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.pollingEnabled||!1,onChange:R=>r({...s,pollingEnabled:R.target.checked})}),label:"Enable Polling"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Posts Polling Interval (minutes)",value:s.postsPollingInterval||5,onChange:R=>r({...s,postsPollingInterval:parseInt(R.target.value)}),helperText:"How often to check for new posts"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Comments Polling Interval (minutes)",value:s.commentsPollingInterval||10,onChange:R=>r({...s,commentsPollingInterval:parseInt(R.target.value)}),helperText:"How often to check for new comments"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Messages Polling Interval (minutes)",value:s.messagesPollingInterval||5,onChange:R=>r({...s,messagesPollingInterval:parseInt(R.target.value)}),helperText:"How often to check messages/inbox"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Mod Queue Polling Interval (minutes)",value:s.modQueuePollingInterval||3,onChange:R=>r({...s,modQueuePollingInterval:parseInt(R.target.value)}),helperText:"How often to check moderation queue"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Monitored Subreddits"}),e.jsxs(me,{variant:"outlined",sx:{p:2},children:[e.jsx($e,{children:s.monitoredSubreddits?.map((R,se)=>e.jsxs(be,{children:[e.jsx(Ie,{primary:`r/${R}`}),e.jsx(Ls,{children:e.jsx(Ze,{edge:"end",onClick:()=>E(R),children:e.jsx(zs,{})})})]},se))}),e.jsx(Ne,{variant:"outlined",startIcon:e.jsx(Js,{}),onClick:()=>N(!0),children:"Add Subreddit"})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.pollSubscribedSubreddits||!1,onChange:R=>r({...s,pollSubscribedSubreddits:R.target.checked})}),label:"Also monitor subscribed subreddits"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.pollUserComments||!1,onChange:R=>r({...s,pollUserComments:R.target.checked})}),label:"Monitor comments on user's posts"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.pollCommentReplies||!1,onChange:R=>r({...s,pollCommentReplies:R.target.checked})}),label:"Monitor replies to user's comments"})})]})}),e.jsx(Ms,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Moderation Settings"}),e.jsx(ae,{severity:"warning",sx:{mb:2},children:"Moderation features require moderator permissions in the respective subreddits."})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Moderated Subreddits"}),e.jsx(f,{fullWidth:!0,multiline:!0,rows:3,value:s.moderatedSubreddits?.join(`
`)||"",onChange:R=>r({...s,moderatedSubreddits:R.target.value.split(`
`).filter(se=>se.trim())}),helperText:"Enter one subreddit per line (without r/)",placeholder:`AskReddit
pics
funny`})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Auto-Moderation"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.autoApprove||!1,onChange:R=>r({...s,autoApprove:R.target.checked})}),label:"Auto-approve posts from trusted users"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.autoRemoveSpam||!1,onChange:R=>r({...s,autoRemoveSpam:R.target.checked})}),label:"Auto-remove spam (high confidence)"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.autoFlair||!1,onChange:R=>r({...s,autoFlair:R.target.checked})}),label:"Auto-assign flair based on keywords"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Flair Templates"}),e.jsxs(me,{variant:"outlined",sx:{p:2},children:[e.jsx($e,{children:s.flairTemplates?.map((R,se)=>e.jsxs(be,{children:[e.jsx(Ie,{primary:R.text,secondary:`CSS: ${R.cssClass||"none"} | Editable: ${R.editable?"Yes":"No"}`}),e.jsx(Ls,{children:e.jsx(Ze,{edge:"end",onClick:()=>Q(se),children:e.jsx(zs,{})})})]},se))}),e.jsx(Ne,{variant:"outlined",startIcon:e.jsx(Js,{}),onClick:()=>i(!0),children:"Add Flair Template"})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Moderation Actions"}),["Approve/Remove Posts","Distinguish Comments","Sticky Posts","Lock Threads","Ban/Unban Users","Mute/Unmute Users","Manage Moderators","Edit Wiki"].map(R=>e.jsx(ye,{label:R,sx:{mr:1,mb:1},color:"primary",variant:"outlined"},R))]})]})}),e.jsx(Ms,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"API Rate Limits"}),e.jsx(ae,{severity:"info",icon:e.jsx(Za,{}),sx:{mb:2},children:"Reddit has different rate limits for OAuth and non-OAuth requests. OAuth typically allows 600 requests per 10 minutes."})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"Standard Rate Limit (per minute)"}),e.jsx(Fe,{value:s.limits?.rateLimitPerMinute||60,onChange:I("limits","rateLimitPerMinute"),"aria-labelledby":"rate-limit-slider",valueLabelDisplay:"auto",min:10,max:100,step:5})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(b,{gutterBottom:!0,children:"OAuth Rate Limit (per minute)"}),e.jsx(Fe,{value:s.limits?.oauthRateLimitPerMinute||600,onChange:I("limits","oauthRateLimitPerMinute"),"aria-labelledby":"oauth-rate-limit-slider",valueLabelDisplay:"auto",min:100,max:1e3,step:50})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableRateLimitRetry||!1,onChange:R=>r({...s,enableRateLimitRetry:R.target.checked})}),label:"Auto-retry on Rate Limit"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Retry Attempts",value:s.maxRetryAttempts||3,onChange:R=>r({...s,maxRetryAttempts:parseInt(R.target.value)}),helperText:"Maximum retry attempts for failed requests"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Retry Delay (seconds)",value:s.retryDelay||10,onChange:R=>r({...s,retryDelay:parseInt(R.target.value)}),helperText:"Delay between retry attempts"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(te,{sx:{my:2}}),e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Request Optimization"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.enableRequestCaching||!1,onChange:R=>r({...s,enableRequestCaching:R.target.checked})}),label:"Enable Request Caching"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Cache TTL (minutes)",value:s.cacheTTL||5,onChange:R=>r({...s,cacheTTL:parseInt(R.target.value)}),helperText:"Cache time-to-live in minutes",disabled:!s.enableRequestCaching})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,type:"number",label:"Max Items per Request",value:s.limits?.maxListingItems||100,onChange:n("limits","maxListingItems"),helperText:"Maximum items per listing request"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"warning",children:"Reddit strictly enforces rate limits. Exceeding them may result in temporary API bans."})})]})}),e.jsxs($s,{open:d,onClose:()=>N(!1),children:[e.jsx(Gs,{children:"Add Monitored Subreddit"}),e.jsx(Ys,{children:e.jsx(f,{fullWidth:!0,label:"Subreddit Name",value:C,onChange:R=>u(R.target.value),placeholder:"Enter subreddit name (without r/)",sx:{mt:2}})}),e.jsxs(Ks,{children:[e.jsx(Ne,{onClick:()=>N(!1),children:"Cancel"}),e.jsx(Ne,{onClick:k,variant:"contained",children:"Add"})]})]}),e.jsxs($s,{open:o,onClose:()=>i(!1),children:[e.jsx(Gs,{children:"Add Flair Template"}),e.jsx(Ys,{children:e.jsxs(t,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Flair Text",value:p.text||"",onChange:R=>a({...p,text:R.target.value})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"CSS Class",value:p.cssClass||"",onChange:R=>a({...p,cssClass:R.target.value})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:p.editable||!1,onChange:R=>a({...p,editable:R.target.checked})}),label:"User Editable"})})]})}),e.jsxs(Ks,{children:[e.jsx(Ne,{onClick:()=>i(!1),children:"Cancel"}),e.jsx(Ne,{onClick:D,variant:"contained",children:"Add"})]})]})]})},rs=({children:s,value:r,index:l,...j})=>e.jsx("div",{role:"tabpanel",hidden:r!==l,id:`snapchat-ads-tabpanel-${l}`,"aria-labelledby":`snapchat-ads-tab-${l}`,...j,children:r===l&&e.jsx(q,{sx:{p:3},children:s})}),Kc=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),d=(v,k)=>{j(k)},N=v=>{r({...s,...v})},C=(v,k)=>{N({features:{...s.features,[v]:k}})},u=(v,k)=>{N({[v]:k})},o=["AWARENESS","TRAFFIC","APP_INSTALLS","APP_VISITS","ENGAGEMENT","VIDEO_VIEWS","LEAD_GENERATION","WEBSITE_CONVERSIONS","CATALOG_SALES","STORE_VISITS","BRAND_AWARENESS","LOCAL_AWARENESS"],i=["SNAP_ADS","STORY_ADS","COLLECTION_ADS","DYNAMIC_ADS","COMMERCIALS","AR_EXPERIENCE"],p=["SINGLE_IMAGE","SINGLE_VIDEO","TOP_SNAP_ONLY","WEB_VIEW","APP_INSTALL","DEEP_LINK","LONGFORM_VIDEO","COLLECTION","DYNAMIC_COLLECTION","LENS","FILTER","BRANDED_MOMENT"],a=["DEMOGRAPHICS","INTERESTS","BEHAVIORS","LOCATION","DEVICE","CARRIER","OS_VERSION","CONNECTION_TYPE","CUSTOM_AUDIENCE","LOOKALIKE_AUDIENCE","ENGAGEMENT_AUDIENCE","PIXEL_AUDIENCE","APP_ACTIVITY","LANGUAGE","ADVANCED_DEMOGRAPHICS","LIFESTYLE","SHOPPERS","CONTENT_KEYWORDS"],x=["LOWEST_COST","COST_CAP","BID_CAP","MIN_ROAS","TARGET_COST"],T=["IMPRESSIONS","SWIPES","APP_INSTALLS","APP_OPENS","USES","PURCHASES","SIGN_UPS","PAGE_VIEWS","ADD_TO_CART","PURCHASE_WEB","LEAD","COMPLETE_TUTORIAL","PIXEL_PAGE_VIEW","PIXEL_ADD_CART","PIXEL_PURCHASE","PIXEL_SIGNUP","PIXEL_CUSTOM","STORY_OPENS","STORY_COMPLETES"],A=["IMPRESSIONS","SWIPE_UPS","SPEND","REACH","FREQUENCY","UNIQUES","TOTAL_REACH","CPM","CPC","CTR","VIDEO_VIEWS","VIEW_TIME","QUARTILE_1","QUARTILE_2","QUARTILE_3","QUARTILE_4","SCREEN_TIME","PLAY_TIME","AVG_SCREEN_TIME","AVG_VIEW_TIME","CONVERSION_PURCHASES","CONVERSION_SAVE","CONVERSION_START_CHECKOUT","CONVERSION_ADD_CART","CONVERSION_VIEW_CONTENT","CONVERSION_SIGN_UPS","CONVERSION_PAGE_VIEWS","SHARES","SAVES","STORY_COMPLETES","STORY_OPENS"],n=["COUNTRY","REGION","DMA","GENDER","AGE_BUCKET","INTEREST_CATEGORY","OS","MAKE","CAMPAIGN","AD_SQUAD","AD","CREATIVE","DAY","HOUR","DAY_HOUR","PLACEMENT","PRODUCT_ID","SKU"],I=["PAGE_VIEW","VIEW_CONTENT","SEARCH","ADD_TO_CART","ADD_TO_WISHLIST","START_CHECKOUT","ADD_BILLING","PURCHASE","SIGN_UP","CUSTOM_EVENT_1","CUSTOM_EVENT_2","CUSTOM_EVENT_3","CUSTOM_EVENT_4","CUSTOM_EVENT_5","AD_CLICK","AD_VIEW","COMPLETE_TUTORIAL","APP_OPEN","APP_INSTALL","LEVEL_COMPLETE","ACHIEVEMENT_UNLOCKED"];return e.jsx(q,{children:e.jsxs(me,{sx:{width:"100%"},children:[e.jsxs(Ye,{value:l,onChange:d,"aria-label":"snapchat ads configuration tabs",variant:"scrollable",scrollButtons:"auto",children:[e.jsx(_,{label:"Basic Settings"}),e.jsx(_,{label:"Features"}),e.jsx(_,{label:"Campaign Settings"}),e.jsx(_,{label:"Creative Settings"}),e.jsx(_,{label:"Audience & Targeting"}),e.jsx(_,{label:"Pixel & Conversion"}),e.jsx(_,{label:"Reporting & Analytics"}),e.jsx(_,{label:"Advanced Features"})]}),e.jsx(rs,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Configure your Snapchat Ads API credentials and account information."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client ID",value:s.clientId||"",onChange:v=>N({clientId:v.target.value}),helperText:"Your Snapchat Ads API client ID",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",type:"password",value:s.clientSecret||"",onChange:v=>N({clientSecret:v.target.value}),helperText:"Your Snapchat Ads API client secret",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Ad Account ID",value:s.adAccountId||"",onChange:v=>N({adAccountId:v.target.value}),helperText:"Your Snapchat Ad Account ID",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Organization ID",value:s.organizationId||"",onChange:v=>N({organizationId:v.target.value}),helperText:"Your Snapchat Organization ID (optional)"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Pixel ID",value:s.pixelId||"",onChange:v=>N({pixelId:v.target.value}),helperText:"Your Snapchat Pixel ID for conversion tracking"})})]})}),e.jsx(rs,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Enable/Disable Features"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Control which Snapchat Ads features are available in your integration."})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCampaignManagement||!1,onChange:v=>C("enableCampaignManagement",v.target.checked)}),label:"Campaign Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAdManagement||!1,onChange:v=>C("enableAdManagement",v.target.checked)}),label:"Ad Squad Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCreativeManagement||!1,onChange:v=>C("enableCreativeManagement",v.target.checked)}),label:"Creative Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAudienceManagement||!1,onChange:v=>C("enableAudienceManagement",v.target.checked)}),label:"Audience Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePixelTracking||!1,onChange:v=>C("enablePixelTracking",v.target.checked)}),label:"Pixel Tracking"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableReporting||!1,onChange:v=>C("enableReporting",v.target.checked)}),label:"Reporting & Analytics"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBulkOperations||!1,onChange:v=>C("enableBulkOperations",v.target.checked)}),label:"Bulk Operations"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDynamicAds||!1,onChange:v=>C("enableDynamicAds",v.target.checked)}),label:"Dynamic Ads"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCatalogManagement||!1,onChange:v=>C("enableCatalogManagement",v.target.checked)}),label:"Catalog Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableStoryAds||!1,onChange:v=>C("enableStoryAds",v.target.checked)}),label:"Story Ads"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCollectionAds||!1,onChange:v=>C("enableCollectionAds",v.target.checked)}),label:"Collection Ads"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAutoOptimization||!1,onChange:v=>C("enableAutoOptimization",v.target.checked)}),label:"Auto-optimization"})})]})}),e.jsx(rs,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Campaign Configuration"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:o,value:s.campaignObjectives||[],onChange:(v,k)=>u("campaignObjectives",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Campaign Objectives",helperText:"Select campaign objectives to support"})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:i,value:s.adSquadTypes||[],onChange:(v,k)=>u("adSquadTypes",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Ad Squad Types",helperText:"Select ad squad types to enable"})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:x,value:s.bidStrategies||[],onChange:(v,k)=>u("bidStrategies",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,icon:e.jsx(yt,{}),...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Bid Strategies",helperText:"Available bidding strategies"})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:T,value:s.optimizationGoals||[],onChange:(v,k)=>u("optimizationGoals",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Optimization Goals",helperText:"Select optimization goals to support"})})})]})}),e.jsx(rs,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Creative Settings"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:p,value:s.creativeTypes||[],onChange:(v,k)=>u("creativeTypes",k),renderTags:(v,k)=>v.map((E,D)=>{const Q=E.includes("VIDEO")?e.jsx(Hl,{}):E.includes("IMAGE")?e.jsx($l,{}):E.includes("LENS")?e.jsx(fa,{}):E.includes("FILTER")?e.jsx(Gl,{}):e.jsx(Yl,{});return e.jsx(ye,{variant:"outlined",label:E,icon:Q,...k({index:D})})}),renderInput:v=>e.jsx(f,{...v,label:"Creative Types",helperText:"Select creative types to support"})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Advanced Creative Features"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableARLenses||!1,onChange:v=>C("enableARLenses",v.target.checked)}),label:"AR Lenses"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableFilters||!1,onChange:v=>C("enableFilters",v.target.checked)}),label:"Filters"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBrandedMoments||!1,onChange:v=>C("enableBrandedMoments",v.target.checked)}),label:"Branded Moments"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCommercializedLenses||!1,onChange:v=>C("enableCommercializedLenses",v.target.checked)}),label:"Commercialized Lenses"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCreativeLibrary||!1,onChange:v=>C("enableCreativeLibrary",v.target.checked)}),label:"Creative Library"})})]})}),e.jsx(rs,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Audience & Targeting"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:a,value:s.targetingTypes||[],onChange:(v,k)=>u("targetingTypes",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,icon:e.jsx(Us,{}),...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Targeting Types",helperText:"Available targeting options"})})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Custom Audiences"}),e.jsx(f,{fullWidth:!0,multiline:!0,rows:3,placeholder:"Enter custom audience IDs, one per line",value:(s.customAudiences||[]).join(`
`),onChange:v=>{const k=v.target.value.split(`
`).filter(E=>E.trim());u("customAudiences",k)},helperText:"Add custom audience IDs for targeting"})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:e.jsx(b,{variant:"body2",children:"Custom audiences can include customer lists, pixel-based audiences, engagement audiences, and lookalike audiences."})})})]})}),e.jsx(rs,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Pixel & Conversion Tracking"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePixelTracking||!1,onChange:v=>C("enablePixelTracking",v.target.checked)}),label:"Enable Pixel Tracking"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableWebConversions||!1,onChange:v=>C("enableWebConversions",v.target.checked)}),label:"Web Conversions"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAppInstallAds||!1,onChange:v=>C("enableAppInstallAds",v.target.checked)}),label:"App Install Tracking"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:I,value:s.pixelEventTypes||[],onChange:(v,k)=>u("pixelEventTypes",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,size:"small",...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Pixel Event Types",helperText:"Select pixel events to track"})})})]})}),e.jsx(rs,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Reporting & Analytics"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableReporting||!1,onChange:v=>C("enableReporting",v.target.checked)}),label:"Enable Reporting"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMeasurement||!1,onChange:v=>C("enableMeasurement",v.target.checked)}),label:"Advanced Measurement"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:A,value:s.reportMetrics||[],onChange:(v,k)=>u("reportMetrics",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,icon:e.jsx(ds,{}),size:"small",...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Report Metrics",helperText:"Select metrics to include in reports"})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:n,value:s.reportDimensions||[],onChange:(v,k)=>u("reportDimensions",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,size:"small",...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Report Dimensions",helperText:"Select dimensions for report breakdowns"})})})]})}),e.jsx(rs,{value:l,index:7,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Advanced Features"})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsxs(b,{children:[e.jsx(fa,{sx:{mr:1,verticalAlign:"middle"}}),"AR & Interactive Features"]})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,multiline:!0,rows:3,placeholder:"Enter AR Lens IDs, one per line",value:(s.arLensIds||[]).join(`
`),onChange:v=>{const k=v.target.value.split(`
`).filter(E=>E.trim());u("arLensIds",k)},helperText:"Add AR Lens IDs for campaigns"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,multiline:!0,rows:3,placeholder:"Enter Filter IDs, one per line",value:(s.filterIds||[]).join(`
`),onChange:v=>{const k=v.target.value.split(`
`).filter(E=>E.trim());u("filterIds",k)},helperText:"Add Filter IDs for campaigns"})})]})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsxs(b,{children:[e.jsx(ShoppingCart,{sx:{mr:1,verticalAlign:"middle"}}),"Catalog & Dynamic Ads"]})}),e.jsx(Me,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCatalogManagement||!1,onChange:v=>C("enableCatalogManagement",v.target.checked)}),label:"Enable Catalog Management"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,multiline:!0,rows:3,placeholder:"Enter Catalog IDs, one per line",value:(s.catalogIds||[]).join(`
`),onChange:v=>{const k=v.target.value.split(`
`).filter(E=>E.trim());u("catalogIds",k)},helperText:"Add catalog IDs for product feeds"})})]})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:e.jsx(b,{variant:"body2",children:"Advanced features like AR Lenses, Filters, and Branded Moments require additional approval from Snapchat and may have specific creative requirements."})})})]})})]})})},ls=({children:s,value:r,index:l,...j})=>e.jsx("div",{role:"tabpanel",hidden:r!==l,id:`discord-tabpanel-${l}`,"aria-labelledby":`discord-tab-${l}`,...j,children:r===l&&e.jsx(q,{sx:{p:3},children:s})}),zc=({configuration:s,onChange:r})=>{const[l,j]=g.useState(0),[d,N]=g.useState(""),[C,u]=g.useState([]),o=(v,k)=>{j(k)},i=v=>{r({...s,...v})},p=(v,k)=>{i({features:{...s.features,[v]:k}})},a=(v,k)=>{i({[v]:k})},x=["GUILDS","GUILD_MEMBERS","GUILD_BANS","GUILD_EMOJIS","GUILD_INTEGRATIONS","GUILD_WEBHOOKS","GUILD_INVITES","GUILD_VOICE_STATES","GUILD_PRESENCES","GUILD_MESSAGES","GUILD_MESSAGE_REACTIONS","GUILD_MESSAGE_TYPING","DIRECT_MESSAGES","DIRECT_MESSAGE_REACTIONS","DIRECT_MESSAGE_TYPING","MESSAGE_CONTENT","GUILD_SCHEDULED_EVENTS","AUTO_MODERATION_CONFIGURATION","AUTO_MODERATION_EXECUTION"],T=["CREATE_INSTANT_INVITE","KICK_MEMBERS","BAN_MEMBERS","ADMINISTRATOR","MANAGE_CHANNELS","MANAGE_GUILD","ADD_REACTIONS","VIEW_AUDIT_LOG","PRIORITY_SPEAKER","STREAM","VIEW_CHANNEL","SEND_MESSAGES","SEND_TTS_MESSAGES","MANAGE_MESSAGES","EMBED_LINKS","ATTACH_FILES","READ_MESSAGE_HISTORY","MENTION_EVERYONE","USE_EXTERNAL_EMOJIS","VIEW_GUILD_INSIGHTS","CONNECT","SPEAK","MUTE_MEMBERS","DEAFEN_MEMBERS","MOVE_MEMBERS","USE_VAD","CHANGE_NICKNAME","MANAGE_NICKNAMES","MANAGE_ROLES","MANAGE_WEBHOOKS","MANAGE_EMOJIS_AND_STICKERS","USE_APPLICATION_COMMANDS","REQUEST_TO_SPEAK","MANAGE_EVENTS","MANAGE_THREADS","CREATE_PUBLIC_THREADS","CREATE_PRIVATE_THREADS","USE_EXTERNAL_STICKERS","SEND_MESSAGES_IN_THREADS","USE_EMBEDDED_ACTIVITIES","MODERATE_MEMBERS"],A=["MESSAGE_CREATE","MESSAGE_UPDATE","MESSAGE_DELETE","CHANNEL_CREATE","CHANNEL_UPDATE","CHANNEL_DELETE","GUILD_UPDATE","GUILD_MEMBER_ADD","GUILD_MEMBER_REMOVE","GUILD_MEMBER_UPDATE","GUILD_ROLE_CREATE","GUILD_ROLE_UPDATE","GUILD_ROLE_DELETE","VOICE_STATE_UPDATE","PRESENCE_UPDATE","INTERACTION_CREATE","THREAD_CREATE","THREAD_UPDATE","THREAD_DELETE","GUILD_SCHEDULED_EVENT_CREATE","GUILD_SCHEDULED_EVENT_UPDATE","GUILD_SCHEDULED_EVENT_DELETE"],n=()=>{if(d&&C.length>0){const v=[...s.webhookEndpoints||[],{url:d,events:C}];i({webhookEndpoints:v}),N(""),u([])}},I=v=>{const k=s.webhookEndpoints?.filter((E,D)=>D!==v)||[];i({webhookEndpoints:k})};return e.jsx(q,{children:e.jsxs(me,{sx:{width:"100%"},children:[e.jsxs(Ye,{value:l,onChange:o,"aria-label":"discord configuration tabs",variant:"scrollable",scrollButtons:"auto",children:[e.jsx(_,{label:"Basic Settings"}),e.jsx(_,{label:"Features"}),e.jsx(_,{label:"Permissions & Intents"}),e.jsx(_,{label:"Messages & Channels"}),e.jsx(_,{label:"Voice & Stage"}),e.jsx(_,{label:"Webhooks & Events"}),e.jsx(_,{label:"Commands & Interactions"}),e.jsx(_,{label:"Auto-Moderation"})]}),e.jsx(ls,{value:l,index:0,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:"Configure your Discord bot credentials and application settings."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client ID",value:s.clientId||"",onChange:v=>i({clientId:v.target.value}),helperText:"Your Discord application client ID",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",type:"password",value:s.clientSecret||"",onChange:v=>i({clientSecret:v.target.value}),helperText:"Your Discord application client secret",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Bot Token",type:"password",value:s.botToken||"",onChange:v=>i({botToken:v.target.value}),helperText:"Your Discord bot token",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Public Key",value:s.publicKey||"",onChange:v=>i({publicKey:v.target.value}),helperText:"For webhook signature verification",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Application ID",value:s.applicationId||"",onChange:v=>i({applicationId:v.target.value}),helperText:"Your Discord application ID",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Guild ID (Optional)",value:s.guildId||"",onChange:v=>i({guildId:v.target.value}),helperText:"Specific guild/server to operate in"})})]})}),e.jsx(ls,{value:l,index:1,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Enable/Disable Features"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Control which Discord features are available in your integration."})]}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableGuildManagement||!1,onChange:v=>p("enableGuildManagement",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(Us,{sx:{mr:1}}),"Guild Management"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableChannelOperations||!1,onChange:v=>p("enableChannelOperations",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(Kl,{sx:{mr:1}}),"Channel Operations"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessageManagement||!1,onChange:v=>p("enableMessageManagement",v.target.checked)}),label:"Message Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVoiceSupport||!1,onChange:v=>p("enableVoiceSupport",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(Ca,{sx:{mr:1}}),"Voice Support"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSlashCommands||!1,onChange:v=>p("enableSlashCommands",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(na,{sx:{mr:1}}),"Slash Commands"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableWebhooks||!1,onChange:v=>p("enableWebhooks",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(mt,{sx:{mr:1}}),"Webhooks"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableRoleManagement||!1,onChange:v=>p("enableRoleManagement",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(zl,{sx:{mr:1}}),"Role Management"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMemberManagement||!1,onChange:v=>p("enableMemberManagement",v.target.checked)}),label:"Member Management"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEmojiManagement||!1,onChange:v=>p("enableEmojiManagement",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(Jl,{sx:{mr:1}}),"Emoji Management"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEventManagement||!1,onChange:v=>p("enableEventManagement",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(Xl,{sx:{mr:1}}),"Event Management"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableThreadSupport||!1,onChange:v=>p("enableThreadSupport",v.target.checked)}),label:"Thread Support"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAutoModeration||!1,onChange:v=>p("enableAutoModeration",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(cs,{sx:{mr:1}}),"Auto-Moderation"]})})})]})}),e.jsx(ls,{value:l,index:2,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Gateway Intents"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Select the events your bot needs to receive from Discord."})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:x,value:s.gatewayIntents||[],onChange:(v,k)=>a("gatewayIntents",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Gateway Intents",helperText:"Select gateway intents for your bot"})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"warning",children:e.jsx(b,{variant:"body2",children:"Some intents like MESSAGE_CONTENT and GUILD_PRESENCES are privileged and require verification for bots in 100+ servers."})})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Bot Permissions"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Select the permissions your bot needs in servers."})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:T,value:s.permissions||[],onChange:(v,k)=>a("permissions",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,size:"small",...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Bot Permissions",helperText:"Select permissions for your bot"})})})]})}),e.jsx(ls,{value:l,index:3,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Message & Channel Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEmbeds||!1,onChange:v=>p("enableEmbeds",v.target.checked)}),label:"Rich Embeds"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableReactions||!1,onChange:v=>p("enableReactions",v.target.checked)}),label:"Message Reactions"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDirectMessages||!1,onChange:v=>p("enableDirectMessages",v.target.checked)}),label:"Direct Messages"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableFileUploads||!1,onChange:v=>p("enableFileUploads",v.target.checked)}),label:"File Uploads"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableInteractions||!1,onChange:v=>p("enableInteractions",v.target.checked)}),label:"Interactive Components"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:e.jsx(b,{variant:"body2",children:"Message features include embeds, buttons, select menus, and other interactive components. File upload limits: 8MB (standard), 50MB (Nitro)."})})})]})}),e.jsx(ls,{value:l,index:4,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Voice & Stage Channel Settings"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVoiceSupport||!1,onChange:v=>p("enableVoiceSupport",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(Ca,{sx:{mr:1}}),"Voice Channels"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableStageChannels||!1,onChange:v=>p("enableStageChannels",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(Ql,{sx:{mr:1}}),"Stage Channels"]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableVoiceRecording||!1,onChange:v=>p("enableVoiceRecording",v.target.checked)}),label:"Voice Recording (Beta)"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableStreamNotifications||!1,onChange:v=>p("enableStreamNotifications",v.target.checked)}),label:e.jsxs(q,{display:"flex",alignItems:"center",children:[e.jsx(_t,{sx:{mr:1}}),"Stream Notifications"]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"warning",children:e.jsx(b,{variant:"body2",children:"Voice features require additional permissions and may have limitations based on server boost level. Voice recording is a beta feature."})})})]})}),e.jsx(ls,{value:l,index:5,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Event Subscriptions"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Select which events to subscribe to."})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(He,{multiple:!0,options:A,value:s.eventSubscriptions||[],onChange:(v,k)=>a("eventSubscriptions",k),renderTags:(v,k)=>v.map((E,D)=>e.jsx(ye,{variant:"outlined",label:E,size:"small",...k({index:D})})),renderInput:v=>e.jsx(f,{...v,label:"Event Subscriptions",helperText:"Select Discord events to receive"})})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Webhook Endpoints"}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Configure webhook endpoints for specific events."})]}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Webhook URL",value:d,onChange:v=>N(v.target.value),placeholder:"https://your-server.com/webhook"})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(He,{multiple:!0,options:A,value:C,onChange:(v,k)=>u(k),renderInput:v=>e.jsx(f,{...v,label:"Events"})})}),e.jsx(t,{item:!0,xs:12,md:2,children:e.jsx(Ne,{fullWidth:!0,variant:"contained",onClick:n,disabled:!d||C.length===0,sx:{height:"56px"},children:"Add"})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx($e,{children:s.webhookEndpoints?.map((v,k)=>e.jsxs(be,{children:[e.jsx(Ie,{primary:v.url,secondary:`Events: ${v.events.join(", ")}`}),e.jsx(Ls,{children:e.jsx(Ze,{edge:"end",onClick:()=>I(k),children:e.jsx(Zl,{})})})]},k))})})]})}),e.jsx(ls,{value:l,index:6,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Slash Commands & Interactions"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSlashCommands||!1,onChange:v=>p("enableSlashCommands",v.target.checked)}),label:"Enable Slash Commands"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableInteractions||!1,onChange:v=>p("enableInteractions",v.target.checked)}),label:"Enable Interactive Components"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:e.jsx(b,{variant:"body2",children:"Slash commands and interactions allow users to interact with your bot using Discord's native UI components. Commands need to be registered with Discord before they can be used."})})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Slash Command Examples"}),e.jsxs($e,{children:[e.jsx(be,{children:e.jsx(Ie,{primary:"/ping",secondary:"Simple ping command to test bot responsiveness"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"/userinfo [user]",secondary:"Get information about a user"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"/poll [question] [options]",secondary:"Create a poll with multiple choices"})})]})]})]})}),e.jsx(ls,{value:l,index:7,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Auto-Moderation Settings"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAutoModeration||!1,onChange:v=>p("enableAutoModeration",v.target.checked)}),label:"Enable Auto-Moderation"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",children:e.jsx(b,{variant:"body2",children:"Auto-moderation allows you to automatically detect and handle rule violations in your Discord server. Configure rules for spam detection, harmful content filtering, and custom keyword blocking."})})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Common Auto-Mod Rules"}),e.jsxs($e,{children:[e.jsx(be,{children:e.jsx(Ie,{primary:"Spam Detection",secondary:"Detect and remove messages with repeated text or rapid posting"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"Harmful Content Filter",secondary:"Block messages containing harmful or inappropriate content"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"Mention Spam Prevention",secondary:"Limit excessive mentions in a single message"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"Custom Keyword Blocking",secondary:"Block messages containing specified keywords or phrases"})})]})]})]})})]})})},Jc=({configuration:s,onConfigurationChange:r,onTest:l,errors:j={}})=>{const[d,N]=g.useState(0),[C,u]=g.useState(!1),[o,i]=g.useState(null),[p,a]=g.useState(!1),[x,T]=g.useState(null),A=(M,pe)=>{r({...s,[M]:pe})},n=(M,pe)=>{r({...s,features:{...s.features,[M]:pe}})},I=(M,pe)=>{r({...s,limits:{...s.limits,[M]:pe}})},v=async()=>{if(!s.botToken){T("error");return}a(!0);try{l&&await l(),T("success"),setTimeout(()=>{i({url:s.webhookUrl||"",hasCustomCertificate:!1,pendingUpdateCount:0,maxConnections:40,allowedUpdates:["message","callback_query"]})},1e3)}catch{T("error")}finally{a(!1)}},k=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(jt,{sx:{mr:1,verticalAlign:"middle"}}),"Bot Configuration"]}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",sx:{mb:2},children:e.jsxs(b,{variant:"body2",children:["To get your bot token:",e.jsxs("ol",{style:{marginBottom:0,paddingLeft:20},children:[e.jsx("li",{children:"Open Telegram and search for @BotFather"}),e.jsx("li",{children:"Send /newbot to create a new bot or /mybots to manage existing ones"}),e.jsx("li",{children:"Follow the instructions to get your bot token"}),e.jsx("li",{children:"Configure your bot settings with @BotFather (description, profile picture, etc.)"})]})]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Bot Token",value:s.botToken||"",onChange:M=>A("botToken",M.target.value),error:!!j.botToken,helperText:j.botToken||"Your bot token from @BotFather",required:!0,type:C?"text":"password",InputProps:{endAdornment:e.jsx(Xs,{position:"end",children:e.jsx(Ze,{onClick:()=>u(!C),edge:"end",children:C?e.jsx(cs,{}):e.jsx(ss,{})})})}})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Bot Username",value:s.botUsername||"",onChange:M=>A("botUsername",M.target.value),error:!!j.botUsername,helperText:j.botUsername||"Your bot username (without @)",placeholder:"mybot"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"API URL",value:s.apiUrl||"https://api.telegram.org",onChange:M=>A("apiUrl",M.target.value),error:!!j.apiUrl,helperText:j.apiUrl||"Default: https://api.telegram.org (change for local bot API server)"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Default Chat ID",value:s.defaultChatId||"",onChange:M=>A("defaultChatId",M.target.value),error:!!j.defaultChatId,helperText:j.defaultChatId||"Optional: Default chat/channel to monitor (e.g., -1001234567890)",placeholder:"-1001234567890"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(Ne,{variant:"contained",onClick:v,disabled:!s.botToken||p,startIcon:p?e.jsx(Xa,{}):e.jsx(Qa,{}),children:p?"Testing...":"Test Connection"}),x==="success"&&e.jsx(ae,{severity:"success",sx:{mt:2},children:"Successfully connected to Telegram Bot API!"}),x==="error"&&e.jsx(ae,{severity:"error",sx:{mt:2},children:"Failed to connect. Please check your bot token."})]})]}),o&&e.jsxs(me,{sx:{p:2,mt:3},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(mt,{sx:{mr:1,verticalAlign:"middle"}}),"Webhook Status"]}),e.jsxs($e,{dense:!0,children:[e.jsxs(be,{children:[e.jsx(Os,{children:e.jsx(ss,{fontSize:"small"})}),e.jsx(Ie,{primary:"Webhook URL",secondary:o.url||"Not configured"})]}),e.jsxs(be,{children:[e.jsx(Os,{children:e.jsx(Ht,{fontSize:"small"})}),e.jsx(Ie,{primary:"Pending Updates",secondary:o.pendingUpdateCount})]}),o.lastErrorMessage&&e.jsxs(be,{children:[e.jsx(Os,{children:e.jsx(en,{fontSize:"small",color:"error"})}),e.jsx(Ie,{primary:"Last Error",secondary:o.lastErrorMessage})]})]})]})]}),E=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(mt,{sx:{mr:1,verticalAlign:"middle"}}),"Webhook Configuration"]}),e.jsx(ae,{severity:"info",sx:{mb:3},children:"Choose between webhooks (recommended for production) or polling (easier for development). You cannot use both simultaneously."}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableWebhooks||!1,onChange:M=>n("enableWebhooks",M.target.checked)}),label:"Enable Webhooks"})}),s.features?.enableWebhooks&&e.jsxs(e.Fragment,{children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Webhook URL",value:s.webhookUrl||"",onChange:M=>A("webhookUrl",M.target.value),error:!!j.webhookUrl,helperText:j.webhookUrl||"HTTPS URL where Telegram will send updates",placeholder:"https://yourdomain.com",disabled:!s.features?.enableWebhooks})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Webhook Path",value:s.webhookPath||"/webhook/telegram",onChange:M=>A("webhookPath",M.target.value),error:!!j.webhookPath,helperText:j.webhookPath||"Path for webhook endpoint",disabled:!s.features?.enableWebhooks})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Webhook Secret",value:s.webhookSecret||"",onChange:M=>A("webhookSecret",M.target.value),error:!!j.webhookSecret,helperText:j.webhookSecret||"Optional: Secret token for webhook verification",type:"password",disabled:!s.features?.enableWebhooks})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Max Webhook Connections",type:"number",value:s.limits?.webhookMaxConnections||40,onChange:M=>I("webhookMaxConnections",parseInt(M.target.value)),error:!!j.webhookMaxConnections,helperText:j.webhookMaxConnections||"Maximum concurrent webhook connections (1-100)",inputProps:{min:1,max:100},disabled:!s.features?.enableWebhooks})})]}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{sx:{my:2}})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePolling||!1,onChange:M=>n("enablePolling",M.target.checked),disabled:s.features?.enableWebhooks}),label:"Enable Long Polling"}),e.jsx(b,{variant:"body2",color:"textSecondary",sx:{mt:1},children:"Long polling is simpler to set up but less efficient than webhooks. Good for development."})]})]})]}),D=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(Qs,{sx:{mr:1,verticalAlign:"middle"}}),"Features Configuration"]}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(Ht,{sx:{mr:1,verticalAlign:"middle"}}),"Messaging Features"]}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessages||!0,onChange:M=>n("enableMessages",M.target.checked)}),label:"Messages"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableInlineQueries||!0,onChange:M=>n("enableInlineQueries",M.target.checked)}),label:"Inline Queries"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCallbackQueries||!0,onChange:M=>n("enableCallbackQueries",M.target.checked)}),label:"Callback Queries"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableKeyboards||!0,onChange:M=>n("enableKeyboards",M.target.checked)}),label:"Keyboards & Buttons"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCommands||!0,onChange:M=>n("enableCommands",M.target.checked)}),label:"Bot Commands"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(la,{sx:{mr:1,verticalAlign:"middle"}}),"Group & Channel Features"]}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableChannelPosts||!0,onChange:M=>n("enableChannelPosts",M.target.checked)}),label:"Channel Posts"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableGroupManagement||!0,onChange:M=>n("enableGroupManagement",M.target.checked)}),label:"Group Management"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableForumSupport||!0,onChange:M=>n("enableForumSupport",M.target.checked)}),label:"Forum/Topic Support"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableReactions||!0,onChange:M=>n("enableReactions",M.target.checked)}),label:"Message Reactions"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableTopics||!0,onChange:M=>n("enableTopics",M.target.checked)}),label:"Forum Topics"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(sn,{sx:{mr:1,verticalAlign:"middle"}}),"Media & Content Features"]}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableFileHandling||!0,onChange:M=>n("enableFileHandling",M.target.checked)}),label:"File Handling"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableStickers||!0,onChange:M=>n("enableStickers",M.target.checked)}),label:"Stickers"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePolls||!0,onChange:M=>n("enablePolls",M.target.checked)}),label:"Polls"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableGames||!0,onChange:M=>n("enableGames",M.target.checked)}),label:"Games"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableInlineMode||!0,onChange:M=>n("enableInlineMode",M.target.checked)}),label:"Inline Mode"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(tn,{sx:{mr:1,verticalAlign:"middle"}}),"Advanced Features"]}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePayments||!0,onChange:M=>n("enablePayments",M.target.checked)}),label:"Payments"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableWebApps||!0,onChange:M=>n("enableWebApps",M.target.checked)}),label:"Web Apps"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBusinessConnection||!0,onChange:M=>n("enableBusinessConnection",M.target.checked)}),label:"Business Connection"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBotAPI60||!0,onChange:M=>n("enableBotAPI60",M.target.checked)}),label:"Bot API 6.0+ Features"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBotAPI70||!0,onChange:M=>n("enableBotAPI70",M.target.checked)}),label:"Bot API 7.0+ Features"})]})})]})]}),Q=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(Ss,{sx:{mr:1,verticalAlign:"middle"}}),"Rate Limits & Constraints"]}),e.jsx(ae,{severity:"warning",sx:{mb:3},children:"Telegram has strict rate limits. Exceeding them may result in temporary bans. Configure these limits based on your bot's needs and Telegram's current policies."}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Message Limits"}),e.jsx(f,{fullWidth:!0,label:"Max Message Length",type:"number",value:s.limits?.maxMessageLength||4096,onChange:M=>I("maxMessageLength",parseInt(M.target.value)),helperText:"Maximum UTF-8 characters per message",margin:"normal",inputProps:{min:1,max:4096}}),e.jsx(f,{fullWidth:!0,label:"Max Caption Length",type:"number",value:s.limits?.maxCaptionLength||1024,onChange:M=>I("maxCaptionLength",parseInt(M.target.value)),helperText:"Maximum caption length for media",margin:"normal",inputProps:{min:1,max:1024}}),e.jsx(f,{fullWidth:!0,label:"Messages Per Second",type:"number",value:s.limits?.rateLimitPerSecond||30,onChange:M=>I("rateLimitPerSecond",parseInt(M.target.value)),helperText:"Maximum messages per second",margin:"normal",inputProps:{min:1,max:30}}),e.jsx(f,{fullWidth:!0,label:"Different Chats Per Minute",type:"number",value:s.limits?.rateLimitPerMinute||20,onChange:M=>I("rateLimitPerMinute",parseInt(M.target.value)),helperText:"Maximum different chats per minute",margin:"normal",inputProps:{min:1,max:20}})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"File Size Limits"}),e.jsx(f,{fullWidth:!0,label:"Max File Size (MB)",type:"number",value:s.limits?.maxFileSizeMB||50,onChange:M=>I("maxFileSizeMB",parseInt(M.target.value)),helperText:"Maximum file size for downloads",margin:"normal",inputProps:{min:1,max:50}}),e.jsx(f,{fullWidth:!0,label:"Max Photo Size (MB)",type:"number",value:s.limits?.maxPhotoSizeMB||10,onChange:M=>I("maxPhotoSizeMB",parseInt(M.target.value)),helperText:"Maximum photo file size",margin:"normal",inputProps:{min:1,max:10}}),e.jsx(f,{fullWidth:!0,label:"Max Video Size (MB)",type:"number",value:s.limits?.maxVideoSizeMB||50,onChange:M=>I("maxVideoSizeMB",parseInt(M.target.value)),helperText:"Maximum video file size",margin:"normal",inputProps:{min:1,max:50}}),e.jsx(f,{fullWidth:!0,label:"Max Sticker Size (KB)",type:"number",value:s.limits?.maxStickerSizeKB||512,onChange:M=>I("maxStickerSizeKB",parseInt(M.target.value)),helperText:"Maximum static sticker size",margin:"normal",inputProps:{min:1,max:512}})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(me,{sx:{p:2},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Interactive Elements Limits"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,label:"Max Keyboard Buttons",type:"number",value:s.limits?.maxKeyboardButtons||100,onChange:M=>I("maxKeyboardButtons",parseInt(M.target.value)),helperText:"Maximum buttons in reply keyboard",inputProps:{min:1,max:100}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,label:"Max Inline Keyboard Buttons",type:"number",value:s.limits?.maxInlineKeyboardButtons||100,onChange:M=>I("maxInlineKeyboardButtons",parseInt(M.target.value)),helperText:"Maximum buttons in inline keyboard",inputProps:{min:1,max:100}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,label:"Max Callback Data Length",type:"number",value:s.limits?.maxCallbackDataLength||64,onChange:M=>I("maxCallbackDataLength",parseInt(M.target.value)),helperText:"Maximum callback data bytes",inputProps:{min:1,max:64}})})]})]})})]})]}),R=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(vt,{sx:{mr:1,verticalAlign:"middle"}}),"Help & Documentation"]}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Getting Started with Telegram Bot API"})}),e.jsx(Me,{children:e.jsx(b,{variant:"body2",component:"div",children:e.jsxs("ol",{children:[e.jsx("li",{children:"Create a bot with @BotFather on Telegram"}),e.jsx("li",{children:"Get your bot token and configure it here"}),e.jsx("li",{children:"Choose between webhooks (production) or polling (development)"}),e.jsx("li",{children:"Set up the features you want to use"}),e.jsx("li",{children:"Test your connection"}),e.jsx("li",{children:"Start receiving and sending messages!"})]})})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Webhook vs Polling"})}),e.jsx(Me,{children:e.jsxs(b,{variant:"body2",component:"div",children:[e.jsx("strong",{children:"Webhooks (Recommended for Production):"}),e.jsxs("ul",{children:[e.jsx("li",{children:"More efficient - Telegram sends updates to your server"}),e.jsx("li",{children:"Requires HTTPS URL with valid certificate"}),e.jsx("li",{children:"Lower latency"}),e.jsx("li",{children:"Can handle high message volumes"})]}),e.jsx("strong",{children:"Long Polling (Good for Development):"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Simpler setup - no need for public HTTPS URL"}),e.jsx("li",{children:"Works behind firewalls and NAT"}),e.jsx("li",{children:"Higher latency"}),e.jsx("li",{children:"Less efficient for high volumes"})]})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Common Use Cases"})}),e.jsx(Me,{children:e.jsx(b,{variant:"body2",component:"div",children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Customer Support:"})," Automate responses, handle FAQs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Notifications:"})," Send alerts, updates, reminders"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Group Management:"})," Moderate content, manage members"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"E-commerce:"})," Product catalogs, order tracking"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Content Distribution:"})," Share news, media, updates"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interactive Services:"})," Polls, quizzes, games"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Workflow Automation:"})," Integrate with other services"]})]})})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Best Practices"})}),e.jsx(Me,{children:e.jsx(b,{variant:"body2",component:"div",children:e.jsxs("ul",{children:[e.jsx("li",{children:"Always respect Telegram's rate limits"}),e.jsx("li",{children:"Handle errors gracefully with retries"}),e.jsx("li",{children:"Use inline keyboards for better UX"}),e.jsx("li",{children:"Implement proper command handling"}),e.jsx("li",{children:"Cache user and chat data when possible"}),e.jsx("li",{children:"Use markdown or HTML for rich text formatting"}),e.jsx("li",{children:"Test in groups and channels before production"}),e.jsx("li",{children:"Monitor webhook health regularly"})]})})})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(me,{sx:{p:2,bgcolor:"action.hover"},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Useful Resources"}),e.jsxs($e,{dense:!0,children:[e.jsx(be,{children:e.jsx(We,{href:"https://core.telegram.org/bots/api",target:"_blank",rel:"noopener",children:"Official Telegram Bot API Documentation"})}),e.jsx(be,{children:e.jsx(We,{href:"https://core.telegram.org/bots/features",target:"_blank",rel:"noopener",children:"Bot Features Overview"})}),e.jsx(be,{children:e.jsx(We,{href:"https://core.telegram.org/bots/webhooks",target:"_blank",rel:"noopener",children:"Webhook Setup Guide"})}),e.jsx(be,{children:e.jsx(We,{href:"https://core.telegram.org/bots/faq",target:"_blank",rel:"noopener",children:"Frequently Asked Questions"})})]})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",icon:e.jsx(ss,{}),children:e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Need more help?"})," Check the Telegram Bot API documentation or join @BotDevelopment group for community support."]})})})]})]}),se=[{label:"Basic Configuration",icon:e.jsx(jt,{})},{label:"Webhook Settings",icon:e.jsx(mt,{})},{label:"Features",icon:e.jsx(Qs,{})},{label:"Rate Limits",icon:e.jsx(Ss,{})},{label:"Help",icon:e.jsx(vt,{})}];return e.jsxs(q,{children:[e.jsx(q,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsx(q,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:se.map((M,pe)=>e.jsx(Ne,{variant:d===pe?"contained":"outlined",onClick:()=>N(pe),startIcon:M.icon,sx:{mb:1},children:M.label},pe))})}),e.jsxs(q,{sx:{mt:3},children:[d===0&&k(),d===1&&E(),d===2&&D(),d===3&&Q(),d===4&&R()]})]})},Xc=({configuration:s,onConfigurationChange:r,onTest:l,errors:j={}})=>{const[d,N]=g.useState(0),[C,u]=g.useState(!1),[o,i]=g.useState(!1),[p,a]=g.useState(null),[x,T]=g.useState(s.scopes||[]),[A,n]=g.useState(null),I={Messaging:["chat:write","chat:write:public","chat:write:customize","channels:read","channels:write","channels:history","groups:read","groups:write","groups:history","im:read","im:write","im:history","mpim:read","mpim:write","mpim:history"],"Users & Workspace":["users:read","users:read.email","users.profile:read","team:read"],Files:["files:read","files:write"],"App Features":["commands","incoming-webhook","app_mentions:read","workflow.steps:execute"],"Reactions & Pins":["reactions:read","reactions:write","pins:read","pins:write"],Other:["search:read","emoji:read","dnd:read","dnd:write","calls:read","calls:write","bookmarks:read","bookmarks:write","reminders:read","reminders:write"]};g.useEffect(()=>{Q()},[s,x,Q]);const v=(w,O)=>{r({...s,[w]:O})},k=(w,O)=>{r({...s,features:{...s.features,[w]:O}})},E=(w,O)=>{r({...s,limits:{...s.limits,[w]:O}})},D=w=>{const O=x.includes(w)?x.filter(ee=>ee!==w):[...x,w];T(O),v("scopes",O)},Q=g.useCallback(()=>{const w={display_information:{name:s.appName||"Integrixs Slack App",description:s.appDescription||"Integration with Integrixs Flow Bridge"},features:{bot_user:{display_name:s.botDisplayName||"Integrixs Bot",always_online:!0}},oauth_config:{scopes:{bot:x}},settings:{event_subscriptions:{bot_events:s.eventTypes||[]},interactivity:{is_enabled:s.features?.enableInteractiveComponents||!0},org_deploy_enabled:s.features?.enableEnterpriseGrid||!1,socket_mode_enabled:s.features?.enableSocketMode||!0}};n(w)},[s,x]),R=()=>{A&&navigator.clipboard.writeText(JSON.stringify(A,null,2))},se=async()=>{if(!s.botToken){a("error");return}i(!0);try{l&&await l(),a("success")}catch{a("error")}finally{i(!1)}},M=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(jt,{sx:{mr:1,verticalAlign:"middle"}}),"Basic Configuration"]}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(ae,{severity:"info",sx:{mb:2},children:e.jsxs(b,{variant:"body2",children:["To configure your Slack app:",e.jsxs("ol",{style:{marginBottom:0,paddingLeft:20},children:[e.jsxs("li",{children:["Go to ",e.jsx(We,{href:"https://api.slack.com/apps",target:"_blank",children:"api.slack.com/apps"})]}),e.jsx("li",{children:"Create a new app or select an existing one"}),e.jsx("li",{children:'Choose "From scratch" or "From an app manifest" (use the generated manifest)'}),e.jsx("li",{children:"Install the app to your workspace"}),e.jsx("li",{children:"Copy the credentials below"})]})]})})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client ID",value:s.clientId||"",onChange:w=>v("clientId",w.target.value),error:!!j.clientId,helperText:j.clientId||"Found in App Credentials",required:!0})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Client Secret",value:s.clientSecret||"",onChange:w=>v("clientSecret",w.target.value),error:!!j.clientSecret,helperText:j.clientSecret||"Found in App Credentials",required:!0,type:C?"text":"password",InputProps:{endAdornment:e.jsx(Xs,{position:"end",children:e.jsx(Ze,{onClick:()=>u(!C),edge:"end",children:C?e.jsx(cs,{}):e.jsx(ss,{})})})}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Bot User OAuth Token",value:s.botToken||"",onChange:w=>v("botToken",w.target.value),error:!!j.botToken,helperText:j.botToken||"xoxb-... token from OAuth & Permissions",required:!0,type:C?"text":"password",placeholder:"xoxb-..."})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Signing Secret",value:s.signingSecret||"",onChange:w=>v("signingSecret",w.target.value),error:!!j.signingSecret,helperText:j.signingSecret||"For verifying requests from Slack",required:!0,type:C?"text":"password"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Workspace/Team ID",value:s.workspaceId||"",onChange:w=>v("workspaceId",w.target.value),error:!!j.workspaceId,helperText:j.workspaceId||"Optional: Specific workspace ID",placeholder:"T0123456789"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"App Name",value:s.appName||"",onChange:w=>v("appName",w.target.value),helperText:"Display name for your Slack app",placeholder:"Integrixs Bot"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Bot Display Name",value:s.botDisplayName||"",onChange:w=>v("botDisplayName",w.target.value),helperText:"How the bot appears in conversations",placeholder:"Integrixs"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(Ne,{variant:"contained",onClick:se,disabled:!s.botToken||o,startIcon:o?e.jsx(Xa,{}):e.jsx(Qa,{}),children:o?"Testing...":"Test Connection"}),p==="success"&&e.jsx(ae,{severity:"success",sx:{mt:2},children:"Successfully connected to Slack!"}),p==="error"&&e.jsx(ae,{severity:"error",sx:{mt:2},children:"Failed to connect. Please check your credentials."})]})]})]}),pe=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(cs,{sx:{mr:1,verticalAlign:"middle"}}),"OAuth Scopes"]}),e.jsx(ae,{severity:"warning",sx:{mb:3},children:"Select only the scopes your integration needs. Requesting unnecessary permissions may cause users to reject the installation."}),Object.entries(I).map(([w,O])=>e.jsxs(Ee,{children:[e.jsxs(we,{expandIcon:e.jsx(De,{}),children:[e.jsx(b,{children:w}),e.jsx(q,{sx:{ml:2},children:e.jsx(ye,{size:"small",label:`${O.filter(ee=>x.includes(ee)).length}/${O.length}`})})]}),e.jsx(Me,{children:e.jsx(xe,{children:O.map(ee=>e.jsx(h,{control:e.jsx(Rs,{checked:x.includes(ee),onChange:()=>D(ee)}),label:e.jsxs(q,{children:[e.jsx(b,{variant:"body2",children:ee}),e.jsx(b,{variant:"caption",color:"textSecondary",children:ve(ee)})]})},ee))})})]},w)),e.jsxs(me,{sx:{p:2,mt:3},children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Selected Scopes:"}),e.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:x.length>0?x.map(w=>e.jsx(ye,{label:w,size:"small",onDelete:()=>D(w)},w)):e.jsx(b,{variant:"body2",color:"textSecondary",children:"No scopes selected"})})]})]}),ve=w=>({"chat:write":"Send messages as the app","chat:write:public":"Send messages to channels without joining","chat:write:customize":"Send messages with customized name and avatar","channels:read":"View basic channel information","channels:write":"Manage channels","channels:history":"View messages in public channels","users:read":"View users in the workspace","users:read.email":"View email addresses of users","files:read":"View files shared in channels","files:write":"Upload, edit, and delete files",commands:"Add slash commands","incoming-webhook":"Post messages to specific channels","app_mentions:read":"View messages that mention the app"})[w]||"",he=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(Sa,{sx:{mr:1,verticalAlign:"middle"}}),"Features Configuration"]}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(Ht,{sx:{mr:1,verticalAlign:"middle"}}),"Messaging Features"]}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableMessaging||!0,onChange:w=>k("enableMessaging",w.target.checked)}),label:"Messaging"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableChannels||!0,onChange:w=>k("enableChannels",w.target.checked)}),label:"Channels"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableDirectMessages||!0,onChange:w=>k("enableDirectMessages",w.target.checked)}),label:"Direct Messages"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableGroups||!0,onChange:w=>k("enableGroups",w.target.checked)}),label:"Private Channels"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableThreads||!0,onChange:w=>k("enableThreads",w.target.checked)}),label:"Thread Support"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableScheduledMessages||!0,onChange:w=>k("enableScheduledMessages",w.target.checked)}),label:"Scheduled Messages"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(na,{sx:{mr:1,verticalAlign:"middle"}}),"Interactive Features"]}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSlashCommands||!0,onChange:w=>k("enableSlashCommands",w.target.checked)}),label:"Slash Commands"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableInteractiveComponents||!0,onChange:w=>k("enableInteractiveComponents",w.target.checked)}),label:"Interactive Components"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableWorkflows||!0,onChange:w=>k("enableWorkflows",w.target.checked)}),label:"Workflows"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableShortcuts||!0,onChange:w=>k("enableShortcuts",w.target.checked)}),label:"Shortcuts"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAppHome||!0,onChange:w=>k("enableAppHome",w.target.checked)}),label:"App Home Tab"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(an,{sx:{mr:1,verticalAlign:"middle"}}),"Content Features"]}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableFiles||!0,onChange:w=>k("enableFiles",w.target.checked)}),label:"File Sharing"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSnippets||!0,onChange:w=>k("enableSnippets",w.target.checked)}),label:"Code Snippets"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableReactions||!0,onChange:w=>k("enableReactions",w.target.checked)}),label:"Reactions"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enablePins||!0,onChange:w=>k("enablePins",w.target.checked)}),label:"Pins"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableBookmarks||!0,onChange:w=>k("enableBookmarks",w.target.checked)}),label:"Bookmarks"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableCanvas||!0,onChange:w=>k("enableCanvas",w.target.checked)}),label:"Canvas"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsxs(b,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx(rn,{sx:{mr:1,verticalAlign:"middle"}}),"Connection & Enterprise"]}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSocketMode||!0,onChange:w=>k("enableSocketMode",w.target.checked)}),label:"Socket Mode (Recommended)"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEventSubscriptions||!0,onChange:w=>k("enableEventSubscriptions",w.target.checked)}),label:"Event Subscriptions"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableEnterpriseGrid||!1,onChange:w=>k("enableEnterpriseGrid",w.target.checked)}),label:"Enterprise Grid Support"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableAdminApis||!1,onChange:w=>k("enableAdminApis",w.target.checked)}),label:"Admin APIs"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableSharedChannels||!0,onChange:w=>k("enableSharedChannels",w.target.checked)}),label:"Shared Channels"}),e.jsx(h,{control:e.jsx(m,{checked:s.features?.enableConnectChannels||!0,onChange:w=>k("enableConnectChannels",w.target.checked)}),label:"Slack Connect"})]})})]})]}),Xe=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(_t,{sx:{mr:1,verticalAlign:"middle"}}),"Events & Webhooks"]}),e.jsx(ae,{severity:"info",sx:{mb:3},children:s.features?.enableSocketMode?"Socket Mode is enabled. Events will be received through WebSocket connection without needing a public webhook URL.":"Configure your webhook URL in the Slack app settings under Event Subscriptions."}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Webhook URL",value:s.webhookUrl||"",onChange:w=>v("webhookUrl",w.target.value),error:!!j.webhookUrl,helperText:j.webhookUrl||"URL where Slack will send events (not needed for Socket Mode)",placeholder:"https://yourdomain.com/slack/events",disabled:s.features?.enableSocketMode})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"Slash Command Prefix",value:s.slashCommandPrefix||"/",onChange:w=>v("slashCommandPrefix",w.target.value),helperText:"Prefix for slash commands"})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsx(f,{fullWidth:!0,label:"API URL",value:s.apiUrl||"https://slack.com/api/",onChange:w=>v("apiUrl",w.target.value),helperText:"Slack API endpoint (change for enterprise)"})}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Event Types to Subscribe:"}),e.jsxs(me,{sx:{p:2,maxHeight:300,overflow:"auto"},children:[e.jsx(b,{variant:"body2",color:"textSecondary",children:"Configure specific event types in your Slack app settings. Common events include:"}),e.jsxs($e,{dense:!0,children:[e.jsx(be,{children:e.jsx(Ie,{primary:"message.channels",secondary:"Messages posted to channels"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"app_mention",secondary:"When users mention the app"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"channel_created",secondary:"When channels are created"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"member_joined_channel",secondary:"When users join channels"})}),e.jsx(be,{children:e.jsx(Ie,{primary:"file_shared",secondary:"When files are shared"})})]})]})]})]})]}),ge=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(Ss,{sx:{mr:1,verticalAlign:"middle"}}),"Rate Limits Configuration"]}),e.jsx(ae,{severity:"warning",sx:{mb:3},children:"Slack has tiered rate limits. Configure these based on your app's tier and usage patterns."}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"API Rate Limits"}),e.jsx(f,{fullWidth:!0,label:"Tier 1 (per minute)",type:"number",value:s.limits?.rateLimitTier1PerMinute||1,onChange:w=>E("rateLimitTier1PerMinute",parseInt(w.target.value)),helperText:"Rarely used methods (1/min)",margin:"normal",inputProps:{min:1,max:10}}),e.jsx(f,{fullWidth:!0,label:"Tier 2 (per minute)",type:"number",value:s.limits?.rateLimitTier2PerMinute||20,onChange:w=>E("rateLimitTier2PerMinute",parseInt(w.target.value)),helperText:"Less frequently used (20/min)",margin:"normal",inputProps:{min:1,max:50}}),e.jsx(f,{fullWidth:!0,label:"Tier 3 (per minute)",type:"number",value:s.limits?.rateLimitTier3PerMinute||50,onChange:w=>E("rateLimitTier3PerMinute",parseInt(w.target.value)),helperText:"Frequently used (50/min)",margin:"normal",inputProps:{min:1,max:100}}),e.jsx(f,{fullWidth:!0,label:"Tier 4 (per minute)",type:"number",value:s.limits?.rateLimitTier4PerMinute||100,onChange:w=>E("rateLimitTier4PerMinute",parseInt(w.target.value)),helperText:"Very frequently used (100/min)",margin:"normal",inputProps:{min:1,max:200}})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(me,{sx:{p:2},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Message & Content Limits"}),e.jsx(f,{fullWidth:!0,label:"Max Message Length",type:"number",value:s.limits?.maxMessageLength||4e4,onChange:w=>E("maxMessageLength",parseInt(w.target.value)),helperText:"Maximum characters per message",margin:"normal",inputProps:{min:1,max:4e4}}),e.jsx(f,{fullWidth:!0,label:"Max Blocks per Message",type:"number",value:s.limits?.maxBlocksPerMessage||50,onChange:w=>E("maxBlocksPerMessage",parseInt(w.target.value)),helperText:"Maximum blocks in a message",margin:"normal",inputProps:{min:1,max:50}}),e.jsx(f,{fullWidth:!0,label:"Max File Size (MB)",type:"number",value:s.limits?.maxFileSizeMB||1e3,onChange:w=>E("maxFileSizeMB",parseInt(w.target.value)),helperText:"Maximum file upload size",margin:"normal",inputProps:{min:1,max:1e3}}),e.jsx(f,{fullWidth:!0,label:"Max Snippet Size (KB)",type:"number",value:s.limits?.maxSnippetSizeKB||1e3,onChange:w=>E("maxSnippetSizeKB",parseInt(w.target.value)),helperText:"Maximum code snippet size",margin:"normal",inputProps:{min:1,max:1e3}})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(me,{sx:{p:2},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"App Limits"}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,label:"Max Slash Commands",type:"number",value:s.limits?.maxSlashCommandsPerApp||25,onChange:w=>E("maxSlashCommandsPerApp",parseInt(w.target.value)),helperText:"Maximum slash commands per app",inputProps:{min:1,max:25}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,label:"Max Shortcuts",type:"number",value:s.limits?.maxShortcutsPerApp||10,onChange:w=>E("maxShortcutsPerApp",parseInt(w.target.value)),helperText:"Maximum shortcuts per app",inputProps:{min:1,max:10}})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(f,{fullWidth:!0,label:"Max Workflow Steps",type:"number",value:s.limits?.maxWorkflowSteps||20,onChange:w=>E("maxWorkflowSteps",parseInt(w.target.value)),helperText:"Maximum workflow steps",inputProps:{min:1,max:20}})})]})]})})]})]}),Ue=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(Na,{sx:{mr:1,verticalAlign:"middle"}}),"App Manifest"]}),e.jsx(ae,{severity:"info",sx:{mb:3},children:"Use this generated manifest to quickly configure your Slack app with the correct settings."}),e.jsxs(me,{sx:{p:2},children:[e.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(b,{variant:"subtitle1",children:"Generated Manifest"}),e.jsx(Ne,{startIcon:e.jsx(ln,{}),onClick:R,size:"small",children:"Copy Manifest"})]}),e.jsx(q,{component:"pre",sx:{backgroundColor:"action.hover",p:2,borderRadius:1,overflow:"auto",maxHeight:400,fontSize:"0.875rem"},children:JSON.stringify(A,null,2)})]}),e.jsxs(q,{sx:{mt:3},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"How to use this manifest:"}),e.jsxs($e,{children:[e.jsxs(be,{children:[e.jsx(Os,{children:e.jsx(ss,{})}),e.jsx(Ie,{primary:"Create from manifest",secondary:"When creating a new app, choose 'From an app manifest' and paste this JSON"})]}),e.jsxs(be,{children:[e.jsx(Os,{children:e.jsx(ss,{})}),e.jsx(Ie,{primary:"Update existing app",secondary:"Go to App Manifest in your app settings and replace with this JSON"})]}),e.jsxs(be,{children:[e.jsx(Os,{children:e.jsx(ss,{})}),e.jsx(Ie,{primary:"Review and adjust",secondary:"After applying, review all settings and make adjustments as needed"})]})]})]})]}),Qe=()=>e.jsxs(q,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,children:[e.jsx(vt,{sx:{mr:1,verticalAlign:"middle"}}),"Help & Documentation"]}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(Ee,{defaultExpanded:!0,children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Getting Started with Slack API"})}),e.jsx(Me,{children:e.jsx(b,{variant:"body2",component:"div",children:e.jsxs("ol",{children:[e.jsxs("li",{children:["Create a Slack app at ",e.jsx(We,{href:"https://api.slack.com/apps",target:"_blank",children:"api.slack.com/apps"})]}),e.jsx("li",{children:'Configure OAuth scopes under "OAuth & Permissions"'}),e.jsx("li",{children:"Install the app to your workspace"}),e.jsx("li",{children:"Copy the Bot User OAuth Token (xoxb-...)"}),e.jsx("li",{children:"Enable Socket Mode for easier development (no public URL needed)"}),e.jsx("li",{children:"Configure event subscriptions if not using Socket Mode"}),e.jsx("li",{children:"Add slash commands, shortcuts, and interactivity as needed"})]})})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Socket Mode vs Webhooks"})}),e.jsx(Me,{children:e.jsxs(b,{variant:"body2",component:"div",children:[e.jsx("strong",{children:"Socket Mode (Recommended for Development):"}),e.jsxs("ul",{children:[e.jsx("li",{children:"WebSocket connection - no public URL needed"}),e.jsx("li",{children:"Easier to develop locally"}),e.jsx("li",{children:"All events come through one connection"}),e.jsx("li",{children:"Built-in reconnection handling"})]}),e.jsx("strong",{children:"Webhooks (Production):"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Requires public HTTPS URL"}),e.jsx("li",{children:"More scalable for high-volume apps"}),e.jsx("li",{children:"Direct HTTP requests from Slack"}),e.jsx("li",{children:"Need to handle verification and retries"})]})]})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Common Use Cases"})}),e.jsx(Me,{children:e.jsx(b,{variant:"body2",component:"div",children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Notifications:"})," Send alerts and updates to channels"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Slash Commands:"})," Create custom commands like /deploy"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Workflows:"})," Automate processes with Workflow Builder"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interactive Messages:"})," Buttons, select menus, and modals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"App Home:"})," Custom tab in the app's messages"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"File Management:"})," Upload and share files"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Enterprise Grid:"})," Manage multiple workspaces"]})]})})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Best Practices"})}),e.jsx(Me,{children:e.jsx(b,{variant:"body2",component:"div",children:e.jsxs("ul",{children:[e.jsx("li",{children:"Request only necessary OAuth scopes"}),e.jsx("li",{children:"Handle rate limits with exponential backoff"}),e.jsx("li",{children:"Use blocks for rich message formatting"}),e.jsx("li",{children:"Implement proper error handling"}),e.jsx("li",{children:"Cache user and channel data when possible"}),e.jsx("li",{children:"Use ephemeral messages for sensitive info"}),e.jsx("li",{children:"Test in a development workspace first"}),e.jsx("li",{children:"Monitor API usage and rate limits"})]})})})]}),e.jsxs(Ee,{children:[e.jsx(we,{expandIcon:e.jsx(De,{}),children:e.jsx(b,{children:"Troubleshooting"})}),e.jsx(Me,{children:e.jsxs(b,{variant:"body2",component:"div",children:[e.jsx("strong",{children:"Common Issues:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"not_authed:"})," Check your bot token"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"missing_scope:"})," Add required OAuth scopes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"channel_not_found:"})," Bot may not be in the channel"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"rate_limited:"})," Implement proper rate limiting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"invalid_auth:"})," Token may be revoked or invalid"]})]})]})})]})]}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(me,{sx:{p:2,bgcolor:"action.hover"},children:[e.jsx(b,{variant:"subtitle1",gutterBottom:!0,children:"Useful Resources"}),e.jsxs($e,{dense:!0,children:[e.jsx(be,{children:e.jsx(We,{href:"https://api.slack.com/docs",target:"_blank",rel:"noopener",children:e.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:["Official Slack API Documentation",e.jsx(dt,{fontSize:"small"})]})})}),e.jsx(be,{children:e.jsx(We,{href:"https://api.slack.com/block-kit",target:"_blank",rel:"noopener",children:e.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:["Block Kit Builder",e.jsx(dt,{fontSize:"small"})]})})}),e.jsx(be,{children:e.jsx(We,{href:"https://api.slack.com/events",target:"_blank",rel:"noopener",children:e.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:["Events API Documentation",e.jsx(dt,{fontSize:"small"})]})})}),e.jsx(be,{children:e.jsx(We,{href:"https://api.slack.com/apis/rate-limits",target:"_blank",rel:"noopener",children:e.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:["Rate Limits Guide",e.jsx(dt,{fontSize:"small"})]})})})]})]})})]})]}),P=[{label:"Basic Setup",icon:e.jsx(jt,{})},{label:"OAuth Scopes",icon:e.jsx(cs,{})},{label:"Features",icon:e.jsx(Sa,{})},{label:"Events",icon:e.jsx(_t,{})},{label:"Rate Limits",icon:e.jsx(Ss,{})},{label:"App Manifest",icon:e.jsx(Na,{})},{label:"Help",icon:e.jsx(vt,{})}];return e.jsxs(q,{children:[e.jsx(q,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsx(q,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:P.map((w,O)=>e.jsx(Ne,{variant:d===O?"contained":"outlined",onClick:()=>N(O),startIcon:w.icon,sx:{mb:1},children:w.label},O))})}),e.jsxs(q,{sx:{mt:3},children:[d===0&&M(),d===1&&pe(),d===2&&he(),d===3&&Xe(),d===4&&ge(),d===5&&Ue(),d===6&&Qe()]})]})},Qc=({adapterType:s,configuration:r,children:l})=>{const[j,d]=g.useState(!1),[N,C]=g.useState(!1),[u,o]=g.useState(null),[i,p]=g.useState(0),a=[{name:"Connection Test",type:"connection",expectedResult:"success"},{name:"Authentication Test",type:"authentication",expectedResult:"success"},{name:"Data Transmission Test",type:"data_transmission",expectedResult:"success"},{name:"Error Handling Test",type:"error_handling",expectedResult:"success"}],x=async()=>{if(!r||Object.keys(r).length===0){Vt({title:"Validation Error",description:"No configuration found to validate",variant:"destructive"});return}C(!0),p(0),o(null);try{const n={adapterType:s,configuration:r,testScenarios:a},I=setInterval(()=>{p(k=>Math.min(k+20,90))},500),v=await nn.validateAdapter(n);clearInterval(I),p(100),o(v)}catch(n){Vt({title:"Validation Failed",description:n instanceof Error?n.message:"Unknown error occurred",variant:"destructive"})}finally{C(!1),setTimeout(()=>p(0),1e3)}},T=n=>{switch(n){case"passed":return e.jsx(ts,{className:"h-4 w-4 text-success"});case"failed":return e.jsx(kt,{className:"h-4 w-4 text-destructive"});case"warning":return e.jsx(qt,{className:"h-4 w-4 text-warning"});default:return null}},A=n=>{const I={passed:"default",failed:"destructive",warning:"secondary"};return e.jsx(ze,{variant:I[n]||"outline",children:n})};return e.jsxs(Zr,{open:j,onOpenChange:d,children:[e.jsx(el,{asChild:!0,children:l}),e.jsxs(sl,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(tl,{children:e.jsxs(al,{className:"flex items-center gap-2",children:[e.jsx(ka,{className:"h-5 w-5"}),"Adapter Validation - ",s.replace("_"," ").toUpperCase()]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(G,{children:[e.jsx(z,{children:e.jsx(J,{className:"text-lg",children:"Validation Controls"})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Run comprehensive validation tests for this adapter configuration"}),e.jsx(Ae,{onClick:x,disabled:N,className:"flex items-center gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(zr,{className:"h-4 w-4 animate-spin"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ka,{className:"h-4 w-4"}),"Run Validation"]})})]}),N&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Validation Progress"}),e.jsxs("span",{children:[i,"%"]})]}),e.jsx(cn,{value:i,className:"h-2"})]})]})]}),u&&e.jsxs(G,{children:[e.jsx(z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[u.isValid?e.jsx(ts,{className:"h-5 w-5 text-success"}):e.jsx(kt,{className:"h-5 w-5 text-destructive"}),"Validation Results"]})}),e.jsx(Y,{children:e.jsxs(ke,{defaultValue:"summary",className:"w-full",children:[e.jsxs(Te,{children:[e.jsx(K,{value:"summary",children:"Summary"}),e.jsx(K,{value:"tests",children:"Test Results"}),e.jsx(K,{value:"errors",children:"Issues"})]}),e.jsxs($,{value:"summary",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(G,{children:e.jsxs(Y,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-center",children:u.testResults?.filter(n=>n.status==="passed").length||0}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Passed"})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-center text-destructive",children:u.testResults?.filter(n=>n.status==="failed").length||0}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Failed"})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-center text-warning",children:u.warnings.length}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Warnings"})]})})]}),e.jsx(fe,{children:e.jsx(Ce,{children:u.isValid?"All validation tests passed successfully. This adapter configuration is ready for deployment.":"Some validation tests failed. Please review the issues before proceeding."})})]}),e.jsx($,{value:"tests",className:"space-y-4",children:u.testResults?.map((n,I)=>e.jsx(G,{children:e.jsx(Y,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[T(n.status),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:n.testName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n.message})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[A(n.status),n.duration&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.duration,"ms"]})]})]})})},I))}),e.jsxs($,{value:"errors",className:"space-y-4",children:[u.errors.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-destructive",children:"Errors"}),u.errors.map((n,I)=>e.jsxs(fe,{variant:"destructive",children:[e.jsx(kt,{className:"h-4 w-4"}),e.jsx(Ce,{children:n})]},I))]}),u.warnings.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-warning",children:"Warnings"}),u.warnings.map((n,I)=>e.jsxs(fe,{children:[e.jsx(qt,{className:"h-4 w-4"}),e.jsx(Ce,{children:n})]},I))]}),u.errors.length===0&&u.warnings.length===0&&e.jsxs(fe,{children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsx(Ce,{children:"No issues found. The adapter configuration is valid."})]})]})]})})]})]})]})]})},Zc=({children:s,requireDevelopment:r=!0,customMessage:l})=>{const{isDevelopment:j,environmentInfo:d}=Jr(),N=Hr();return r&&!j?e.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx("div",{className:"rounded-full bg-destructive/10 p-4",children:e.jsx(er,{className:"h-12 w-12 text-destructive"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Page Restricted"}),e.jsx("p",{className:"text-muted-foreground",children:l||`This page is only available in development environment. The system is currently configured as ${d?.displayName||"non-development"}.`})]}),e.jsxs(fe,{className:"mt-4",children:[e.jsx(qt,{className:"h-4 w-4"}),e.jsx(Cs,{children:"Why is this restricted?"}),e.jsxs(Ce,{children:["In ",d?.displayName||"this"," environment, creation and modification of flows, adapters, and data structures is disabled to prevent accidental changes. You can still import flows, modify adapter configurations, and manage deployments."]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(Ae,{onClick:()=>N(-1),variant:"outline",children:"Go Back"}),e.jsx(Ae,{onClick:()=>N("/interfaces"),children:"Interface Management"})]})]})})})}):e.jsx(e.Fragment,{children:s})},Va=[{id:"sms",name:"SMS",icon:fl,description:"Send and receive SMS messages via various providers",category:"Messaging",fields:[{name:"provider",label:"SMS Provider",type:"select",required:!0,options:["Twilio","Vonage/Nexmo","AWS SNS","MessageBird","Clickatell","Plivo","Infobip"]},{name:"accountId",label:"Account ID/SID",type:"text",required:!0,placeholder:"Your account identifier"},{name:"authToken",label:"Auth Token",type:"password",required:!0,placeholder:"Your authentication token"},{name:"apiKey",label:"API Key",type:"text",required:!1,placeholder:"API key (if required)"},{name:"apiSecret",label:"API Secret",type:"password",required:!1,placeholder:"API secret (if required)"},{name:"defaultSenderNumber",label:"Default Sender Number",type:"text",required:!0,placeholder:"+1234567890"},{name:"webhookUrl",label:"Webhook URL",type:"text",required:!1,placeholder:"https://your-domain.com/sms/webhook"},{name:"enableDeliveryReceipts",label:"Enable Delivery Receipts",type:"checkbox",required:!1},{name:"enableIncoming",label:"Enable Incoming Messages",type:"checkbox",required:!1}]},{id:"rabbitmq",name:"RabbitMQ",icon:ct,description:"Advanced message queuing protocol broker",category:"Messaging",fields:[{name:"host",label:"Host",type:"text",required:!0,placeholder:"localhost or rabbitmq.example.com"},{name:"port",label:"Port",type:"number",required:!0,placeholder:"5672"},{name:"virtualHost",label:"Virtual Host",type:"text",required:!1,placeholder:"/ (default)"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"guest"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"RabbitMQ password"},{name:"exchangeName",label:"Exchange Name",type:"text",required:!1,placeholder:"my-exchange"},{name:"exchangeType",label:"Exchange Type",type:"select",required:!1,options:["direct","topic","fanout","headers"]},{name:"queueName",label:"Queue Name",type:"text",required:!1,placeholder:"my-queue"},{name:"routingKey",label:"Routing Key",type:"text",required:!1,placeholder:"routing.key"},{name:"durable",label:"Durable",type:"checkbox",required:!1},{name:"autoAck",label:"Auto Acknowledge",type:"checkbox",required:!1},{name:"enableSSL",label:"Enable SSL/TLS",type:"checkbox",required:!1},{name:"prefetchCount",label:"Prefetch Count",type:"number",required:!1,placeholder:"1"}]},{id:"amqp",name:"AMQP",icon:bn,description:"Advanced Message Queuing Protocol (AMQP 1.0)",category:"Messaging",fields:[{name:"host",label:"Host",type:"text",required:!0,placeholder:"amqp.example.com"},{name:"port",label:"Port",type:"number",required:!0,placeholder:"5672"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Password"},{name:"connectionUrl",label:"Connection URL",type:"text",required:!1,placeholder:"amqp://user:pass@host:port"},{name:"sourceAddress",label:"Source Address",type:"text",required:!1,placeholder:"queue://my-queue",conditionalField:"sender"},{name:"targetAddress",label:"Target Address",type:"text",required:!1,placeholder:"queue://target-queue",conditionalField:"receiver"},{name:"brokerType",label:"Broker Type",type:"select",required:!1,options:["Generic","ActiveMQ Artemis","Azure Service Bus","Qpid","Solace"]},{name:"saslMechanism",label:"SASL Mechanism",type:"select",required:!1,options:["PLAIN","ANONYMOUS","EXTERNAL","SCRAM-SHA-256"]},{name:"enableSSL",label:"Enable SSL/TLS",type:"checkbox",required:!1},{name:"enableTransactions",label:"Enable Transactions",type:"checkbox",required:!1},{name:"maxFrameSize",label:"Max Frame Size",type:"number",required:!1,placeholder:"65536"}]},{id:"file",name:"FILE",icon:ta,description:"File system operations and transfers",category:"File System",fields:[{name:"basePath",label:"Base Path",type:"text",required:!0,placeholder:"/data/files"},{name:"encoding",label:"File Encoding",type:"select",required:!1,options:["UTF-8","ASCII","ISO-8859-1","UTF-16"]},{name:"permissions",label:"File Permissions",type:"text",required:!1,placeholder:"755"},{name:"createDirs",label:"Create Directories",type:"select",required:!1,options:["true","false"]}]},{id:"ftp",name:"FTP",icon:Cl,description:"File Transfer Protocol connections",category:"File Transfer",fields:[{name:"host",label:"FTP Host",type:"text",required:!0,placeholder:"ftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"21"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"ftpuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"FTP Password"},{name:"passiveMode",label:"Passive Mode",type:"select",required:!1,options:["true","false"]},{name:"transferMode",label:"Transfer Mode",type:"select",required:!1,options:["binary","ascii"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"sftp",name:"SFTP",icon:er,description:"Secure File Transfer Protocol",category:"File Transfer",fields:[{name:"host",label:"SFTP Host",type:"text",required:!0,placeholder:"sftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"22"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"sftpuser"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"SFTP Password"},{name:"privateKey",label:"Private Key Path",type:"text",required:!1,placeholder:"/path/to/private/key"},{name:"keyPassphrase",label:"Key Passphrase",type:"password",required:!1,placeholder:"Key passphrase"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"http",name:"HTTP",icon:dn,description:"HTTP/HTTPS protocol connections",category:"HTTP",fields:[{name:"protocol",label:"Protocol",type:"select",required:!0,options:["HTTP","HTTPS"]},{name:"url",label:"URL",type:"text",required:!0,placeholder:"https://api.example.com/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"rest",name:"REST",icon:on,description:"REST API integrations",category:"API",fields:[{name:"url",label:"REST API URL",type:"text",required:!0,placeholder:"https://api.example.com/v1/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"soap",name:"SOAP",icon:un,description:"SOAP web services integration",category:"Web Services",fields:[{name:"senderAddress",label:"Address",type:"text",required:!0,placeholder:"/UtilitiesDeviceERPSmartMeterRegisterBulkCreateConfirmation",conditionalField:"sender"},{name:"receiverAddress",label:"Target Address",type:"text",required:!0,placeholder:"https://api.example.com/soap",conditionalField:"receiver"},{name:"wsdl",label:"WSDL",type:"select",required:!0,options:["Select WSDL...","UserService.wsdl","PaymentService.wsdl","NotificationService.wsdl"],conditionalField:"receiver"},{name:"receiverAuthentication",label:"Authentication",type:"select",required:!0,options:["None","Basic","Client Certificate","OAuth","OAuth 2"],conditionalField:"receiver"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"clientCertificate",label:"Client Certificate",type:"certificate-dropdown",required:!0,conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Client Certificate"},{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth 2 client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth 2 client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"receiverTimeout",label:"Timeout (seconds)",type:"number",required:!1,placeholder:"30",conditionalField:"receiver"},{name:"connectionType",label:"Connection Type",type:"select",required:!0,options:["Synchronous","Asynchronous"],conditionalField:"receiver"}]},{id:"ibmmq",name:"IBM MQ",icon:fs,description:"IBM MQ (formerly WebSphere MQ) connections",category:"Messaging",fields:[{name:"driverJar",label:"IBM MQ Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Message Queue"},{name:"brokerUrl",label:"Broker URL",type:"text",required:!0,placeholder:"tcp://localhost:61616"},{name:"queueName",label:"Queue Name",type:"text",required:!1,placeholder:"myqueue"},{name:"topicName",label:"Topic Name",type:"text",required:!1,placeholder:"mytopic"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"JMS Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"JMS Password"},{name:"connectionFactory",label:"Connection Factory",type:"text",required:!1,placeholder:"ConnectionFactory"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"odata",name:"ODATA",icon:Ya,description:"Open Data Protocol services",category:"API",fields:[{name:"serviceUrl",label:"Service URL",type:"text",required:!0,placeholder:"https://services.odata.org/V4/service"},{name:"version",label:"OData Version",type:"select",required:!0,options:["V4","V3","V2"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"maxPageSize",label:"Max Page Size",type:"number",required:!1,placeholder:"1000"}]},{id:"idoc",name:"IDOC",icon:jn,description:"SAP Intermediate Document format",category:"SAP",fields:[{name:"sapHost",label:"SAP Host",type:"text",required:!0,placeholder:"sap.example.com"},{name:"systemNumber",label:"System Number",type:"text",required:!0,placeholder:"00"},{name:"client",label:"Client",type:"text",required:!0,placeholder:"100"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"SAP Username"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"SAP Password"},{name:"language",label:"Language",type:"text",required:!1,placeholder:"EN"},{name:"idocType",label:"IDOC Type",type:"text",required:!1,placeholder:"ORDERS05"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"jdbc",name:"JDBC",icon:Ka,description:"Java Database Connectivity",category:"Database",fields:[{name:"driverJar",label:"JDBC Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Database"},{name:"jdbcUrl",label:"JDBC URL",type:"text",required:!0,placeholder:"jdbc:postgresql://localhost:5432/mydb"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"dbuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Database Password"},{name:"maxPoolSize",label:"Max Pool Size",type:"number",required:!1,placeholder:"10"},{name:"connectionTimeout",label:"Connection Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"as2",name:"AS2",icon:Sl,description:"Applicability Statement 2 protocol",category:"EDI",fields:[{name:"as2Url",label:"AS2 URL",type:"text",required:!0,placeholder:"https://partner.example.com/as2"},{name:"as2From",label:"AS2 From",type:"text",required:!0,placeholder:"MyCompany"},{name:"as2To",label:"AS2 To",type:"text",required:!0,placeholder:"PartnerCompany"},{name:"certificate",label:"Certificate",type:"certificate-dropdown",required:!0,placeholder:"Select certificate"},{name:"encryptionAlgorithm",label:"Encryption Algorithm",type:"select",required:!1,options:["3DES","AES128","AES192","AES256"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"rfc",name:"RFC",icon:tr,description:"SAP Remote Function Call protocol",category:"SAP",fields:[{name:"sapSystemId",label:"SAP System ID (SID)",type:"text",required:!0,placeholder:"PRD, DEV"},{name:"sapClientNumber",label:"SAP Client Number",type:"text",required:!0,placeholder:"100"},{name:"sapSystemNumber",label:"SAP System Number",type:"text",required:!0,placeholder:"00"},{name:"sapApplicationServerHost",label:"SAP Application Server Host",type:"text",required:!0,placeholder:"sapserver.example.com"},{name:"sapUser",label:"SAP User",type:"text",required:!0,placeholder:"sapuser"},{name:"sapPassword",label:"SAP Password",type:"password",required:!0,placeholder:"secret"},{name:"rfcDestinationName",label:"RFC Destination Name",type:"text",required:!0,placeholder:"MIDDLEWARE_DEST"}]},{id:"kafka",name:"KAFKA",icon:Xr,description:"Apache Kafka messaging platform",category:"Streaming",fields:[{name:"bootstrapServers",label:"Bootstrap Servers",type:"text",required:!0,placeholder:"localhost:9092"},{name:"topicName",label:"Topic Name",type:"text",required:!0,placeholder:"my-topic"},{name:"groupId",label:"Consumer Group ID",type:"text",required:!1,placeholder:"my-consumer-group"},{name:"securityProtocol",label:"Security Protocol",type:"select",required:!1,options:["PLAINTEXT","SSL","SASL_PLAINTEXT","SASL_SSL"]},{name:"saslMechanism",label:"SASL Mechanism",type:"select",required:!1,options:["PLAIN","SCRAM-SHA-256","SCRAM-SHA-512"]},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Kafka Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Kafka Password"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"mail",name:"MAIL",icon:hn,description:"Email communication via IMAP/POP3/SMTP",category:"Email",fields:[{name:"mailServerHost",label:"Mail Server Host",type:"text",required:!0,placeholder:"imap.mailserver.com"},{name:"mailServerPort",label:"Mail Server Port",type:"number",required:!0,placeholder:"993"},{name:"mailProtocol",label:"Protocol",type:"select",required:!0,options:["IMAP","POP3"]},{name:"mailUsername",label:"Username",type:"text",required:!0,placeholder:"user@example.com"},{name:"mailPassword",label:"Password",type:"password",required:!0,placeholder:"password"},{name:"useSSLTLS",label:"Use SSL/TLS",type:"checkbox",required:!1},{name:"folderName",label:"Folder Name",type:"text",required:!1,placeholder:"INBOX"}]},{id:"facebook",name:"Facebook",icon:gt,description:"Facebook Graph API for social media integration",category:"Social Media",fields:[{name:"appId",label:"Facebook App ID",type:"text",required:!0,placeholder:"Your Facebook App ID"},{name:"appSecret",label:"Facebook App Secret",type:"password",required:!0,placeholder:"Your Facebook App Secret"},{name:"pageId",label:"Facebook Page ID",type:"text",required:!0,placeholder:"Your Facebook Page ID"},{name:"accessToken",label:"Page Access Token",type:"password",required:!1,placeholder:"Will be obtained via OAuth"},{name:"webhookEnabled",label:"Enable Webhooks",type:"checkbox",required:!1},{name:"webhookVerifyToken",label:"Webhook Verify Token",type:"text",required:!1,placeholder:"Create a secure verify token"},{name:"apiVersion",label:"API Version",type:"text",required:!1,placeholder:"v18.0"}]},{id:"facebookads",name:"Facebook Ads",icon:gt,description:"Facebook Ads API for advertising campaign management",category:"Social Media",fields:[{name:"appId",label:"Facebook App ID",type:"text",required:!0,placeholder:"Your Facebook App ID"},{name:"appSecret",label:"Facebook App Secret",type:"password",required:!0,placeholder:"Your Facebook App Secret"},{name:"adAccountId",label:"Ad Account ID",type:"text",required:!0,placeholder:"Your Ad Account ID (without act_ prefix)"},{name:"businessId",label:"Business Manager ID",type:"text",required:!1,placeholder:"Your Business Manager ID"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"Will be obtained via OAuth"},{name:"apiVersion",label:"API Version",type:"text",required:!1,placeholder:"v18.0"}]},{id:"instagram",name:"Instagram",icon:ar,description:"Instagram Graph API for social media content and analytics",category:"Social Media",fields:[{name:"appId",label:"Facebook App ID",type:"text",required:!0,placeholder:"Your Facebook App ID"},{name:"appSecret",label:"Facebook App Secret",type:"password",required:!0,placeholder:"Your Facebook App Secret"},{name:"instagramBusinessAccountId",label:"Instagram Business Account ID",type:"text",required:!0,placeholder:"Your Instagram Business Account ID"},{name:"facebookPageId",label:"Facebook Page ID",type:"text",required:!0,placeholder:"Connected Facebook Page ID"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"Will be obtained via OAuth"},{name:"apiVersion",label:"API Version",type:"text",required:!1,placeholder:"v18.0"}]},{id:"whatsapp",name:"WhatsApp Business",icon:Hs,description:"WhatsApp Business API for messaging and customer communication",category:"Social Media",fields:[{name:"appId",label:"Facebook App ID",type:"text",required:!0,placeholder:"Your Facebook App ID"},{name:"appSecret",label:"Facebook App Secret",type:"password",required:!0,placeholder:"Your Facebook App Secret"},{name:"phoneNumberId",label:"Phone Number ID",type:"text",required:!0,placeholder:"WhatsApp Phone Number ID"},{name:"businessAccountId",label:"Business Account ID",type:"text",required:!0,placeholder:"WhatsApp Business Account ID"},{name:"verifyToken",label:"Webhook Verify Token",type:"text",required:!1,placeholder:"Secure token for webhook verification"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"Will be obtained via OAuth"},{name:"systemUserAccessToken",label:"System User Token",type:"password",required:!1,placeholder:"For production use"},{name:"apiVersion",label:"API Version",type:"text",required:!1,placeholder:"v18.0"}]},{id:"twitter",name:"Twitter",icon:pa,description:"Twitter/X API v2 for social media engagement and analytics",category:"Social Media",fields:[{name:"apiKey",label:"API Key (Consumer Key)",type:"text",required:!0,placeholder:"Your Twitter API Key"},{name:"apiKeySecret",label:"API Key Secret",type:"password",required:!0,placeholder:"Your Twitter API Key Secret"},{name:"accessToken",label:"Access Token",type:"text",required:!1,placeholder:"User access token"},{name:"accessTokenSecret",label:"Access Token Secret",type:"password",required:!1,placeholder:"User access token secret"},{name:"bearerToken",label:"Bearer Token",type:"password",required:!1,placeholder:"App-only authentication token"},{name:"clientId",label:"OAuth 2.0 Client ID",type:"text",required:!1,placeholder:"For OAuth 2.0 flows"},{name:"clientSecret",label:"OAuth 2.0 Client Secret",type:"password",required:!1,placeholder:"For OAuth 2.0 flows"}]},{id:"twitterads",name:"Twitter Ads",icon:pa,description:"Twitter/X Ads API for advertising campaign management",category:"Social Media",fields:[{name:"adsAccountId",label:"Ads Account ID",type:"text",required:!0,placeholder:"Your Twitter Ads account ID"},{name:"apiKey",label:"API Key (Consumer Key)",type:"text",required:!0,placeholder:"Your Twitter API Key"},{name:"apiKeySecret",label:"API Key Secret",type:"password",required:!0,placeholder:"Your Twitter API Key Secret"},{name:"accessToken",label:"Access Token",type:"text",required:!0,placeholder:"User access token with ads permissions"},{name:"accessTokenSecret",label:"Access Token Secret",type:"password",required:!0,placeholder:"User access token secret"}]},{id:"linkedin",name:"LinkedIn",icon:ja,description:"LinkedIn API for professional networking and content management",category:"Social Media",fields:[{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Your LinkedIn app Client ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Your LinkedIn app Client Secret"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"OAuth 2.0 access token"},{name:"refreshToken",label:"Refresh Token",type:"password",required:!1,placeholder:"OAuth 2.0 refresh token"},{name:"memberUrn",label:"Member URN",type:"text",required:!1,placeholder:"urn:li:person:ABC123"},{name:"organizationId",label:"Organization ID",type:"text",required:!1,placeholder:"Company page ID"}]},{id:"linkedinads",name:"LinkedIn Ads",icon:ja,description:"LinkedIn Ads API for advertising campaign management",category:"Social Media",fields:[{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Your LinkedIn app Client ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Your LinkedIn app Client Secret"},{name:"adAccountId",label:"Ad Account ID",type:"text",required:!0,placeholder:"Your LinkedIn Ads account ID"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"OAuth 2.0 access token"},{name:"refreshToken",label:"Refresh Token",type:"password",required:!1,placeholder:"OAuth 2.0 refresh token"}]},{id:"youtube",name:"YouTube Data API",icon:va,description:"YouTube Data API v3 for video, playlist, and channel management",category:"Social Media",fields:[{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Google OAuth2 Client ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Google OAuth2 Client Secret"},{name:"channelId",label:"Channel ID",type:"text",required:!1,placeholder:"Your YouTube channel ID"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"OAuth 2.0 access token"},{name:"refreshToken",label:"Refresh Token",type:"password",required:!1,placeholder:"OAuth 2.0 refresh token"}]},{id:"youtubeanalytics",name:"YouTube Analytics API",icon:va,description:"YouTube Analytics API v2 for comprehensive channel and video analytics",category:"Social Media",fields:[{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Google OAuth2 Client ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Google OAuth2 Client Secret"},{name:"channelId",label:"Channel ID",type:"text",required:!0,placeholder:"YouTube channel ID to analyze"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"OAuth 2.0 access token"},{name:"refreshToken",label:"Refresh Token",type:"password",required:!1,placeholder:"OAuth 2.0 refresh token"}]},{id:"tiktokbusiness",name:"TikTok Business API",icon:ct,description:"TikTok Business API for advertising campaigns, creative management, and analytics",category:"Social Media",fields:[{name:"appId",label:"App ID",type:"text",required:!0,placeholder:"TikTok App ID"},{name:"appSecret",label:"App Secret",type:"password",required:!0,placeholder:"TikTok App Secret"},{name:"advertiserId",label:"Advertiser ID",type:"text",required:!0,placeholder:"TikTok Advertiser ID"},{name:"businessId",label:"Business ID",type:"text",required:!1,placeholder:"Business Center ID (optional)"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"OAuth 2.0 access token"},{name:"refreshToken",label:"Refresh Token",type:"password",required:!1,placeholder:"OAuth 2.0 refresh token"}]},{id:"tiktokcontent",name:"TikTok Content API",icon:ct,description:"TikTok Content API for video publishing, engagement, trends, and creator tools",category:"Social Media",fields:[{name:"clientKey",label:"Client Key",type:"text",required:!0,placeholder:"TikTok Client Key"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"TikTok Client Secret"},{name:"userId",label:"User ID",type:"text",required:!0,placeholder:"TikTok User ID"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"TikTok Username"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"OAuth 2.0 access token"},{name:"refreshToken",label:"Refresh Token",type:"password",required:!1,placeholder:"OAuth 2.0 refresh token"}]},{id:"facebookmessenger",name:"Facebook Messenger",icon:fs,description:"Facebook Messenger Platform for chatbots, messaging automation, and customer service",category:"Social Media",fields:[{name:"pageId",label:"Page ID",type:"text",required:!0,placeholder:"Your Facebook Page ID"},{name:"pageAccessToken",label:"Page Access Token",type:"password",required:!0,placeholder:"Long-lived page access token"},{name:"appSecret",label:"App Secret",type:"password",required:!0,placeholder:"Facebook App Secret"},{name:"verifyToken",label:"Verify Token",type:"text",required:!0,placeholder:"Custom verify token for webhook"},{name:"webhookUrl",label:"Webhook URL",type:"text",required:!1,placeholder:"Your webhook endpoint URL"}]},{id:"pinterest",name:"Pinterest",icon:ct,description:"Pinterest API for pins, boards, shopping, and advertising",category:"Social Media",fields:[{name:"appId",label:"App ID",type:"text",required:!0,placeholder:"Your Pinterest App ID"},{name:"appSecret",label:"App Secret",type:"password",required:!0,placeholder:"Your Pinterest App Secret"},{name:"advertiserId",label:"Advertiser ID",type:"text",required:!1,placeholder:"Pinterest Advertiser ID (for ads)"},{name:"accessToken",label:"Access Token",type:"password",required:!1,placeholder:"OAuth 2.0 access token"},{name:"refreshToken",label:"Refresh Token",type:"password",required:!1,placeholder:"OAuth 2.0 refresh token"}]},{id:"reddit",name:"Reddit",icon:Hs,description:"Reddit API for posts, comments, moderation, and community management",category:"Social Media",fields:[{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Your Reddit App ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Your Reddit App Secret"},{name:"userAgent",label:"User Agent",type:"text",required:!0,placeholder:"platform:app_id:version (by /u/username)"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Reddit username (for script apps)"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Reddit password (for script apps)"}]},{id:"snapchatads",name:"Snapchat Ads",icon:Camera,description:"Snapchat Ads API for advertising campaigns and creative management",category:"Social Media",fields:[{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Your Snapchat Ads Client ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Your Snapchat Ads Client Secret"},{name:"adAccountId",label:"Ad Account ID",type:"text",required:!0,placeholder:"Your Snapchat Ad Account ID"},{name:"organizationId",label:"Organization ID",type:"text",required:!1,placeholder:"Your Snapchat Organization ID"},{name:"pixelId",label:"Pixel ID",type:"text",required:!1,placeholder:"Your Snapchat Pixel ID"},{name:"refreshToken",label:"Refresh Token",type:"password",required:!1,placeholder:"OAuth 2.0 refresh token"}]},{id:"discord",name:"Discord",icon:fs,description:"Discord API for bots, servers, channels, and real-time messaging",category:"Social Media",fields:[{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Your Discord Application Client ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Your Discord Application Client Secret"},{name:"botToken",label:"Bot Token",type:"password",required:!0,placeholder:"Your Discord Bot Token"},{name:"publicKey",label:"Public Key",type:"text",required:!0,placeholder:"Your Discord Application Public Key"},{name:"applicationId",label:"Application ID",type:"text",required:!0,placeholder:"Your Discord Application ID"},{name:"guildId",label:"Guild ID",type:"text",required:!1,placeholder:"Specific Guild/Server ID (optional)"}]},{id:"telegram",name:"Telegram",icon:sr,description:"Telegram Bot API for messaging, groups, channels, and bot interactions",category:"Social Media",fields:[{name:"botToken",label:"Bot Token",type:"password",required:!0,placeholder:"Your Telegram Bot Token from @BotFather"},{name:"botUsername",label:"Bot Username",type:"text",required:!1,placeholder:"Your bot username (without @)"},{name:"webhookUrl",label:"Webhook URL",type:"text",required:!1,placeholder:"HTTPS URL for webhook (optional)"},{name:"defaultChatId",label:"Default Chat ID",type:"text",required:!1,placeholder:"Default chat/channel ID (optional)"}]},{id:"slack",name:"Slack",icon:fs,description:"Slack API for workspace messaging, apps, workflows, and integrations",category:"Collaboration",fields:[{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Your Slack App Client ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Your Slack App Client Secret"},{name:"botToken",label:"Bot User OAuth Token",type:"password",required:!0,placeholder:"xoxb-..."},{name:"signingSecret",label:"Signing Secret",type:"password",required:!0,placeholder:"Your Slack App Signing Secret"}]},{id:"teams",name:"Microsoft Teams",icon:ea,description:"Microsoft Teams API for collaboration, meetings, channels, and Microsoft 365 integration",category:"Collaboration",fields:[{name:"tenantId",label:"Tenant ID",type:"text",required:!0,placeholder:"Your Azure AD Tenant ID"},{name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Application (client) ID"},{name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Client secret value"},{name:"botId",label:"Bot ID",type:"text",required:!1,placeholder:"Bot ID (usually same as Client ID)"}]}],so=()=>{const s=$r(),{navigateBack:r}=Qr(),[l,j]=g.useState(null),[d,N]=g.useState(""),[C,u]=g.useState(""),[o,i]=g.useState("sender"),[p,a]=g.useState(""),[x,T]=g.useState(!0),[A,n]=g.useState({}),[I,v]=g.useState(!1),[k,E]=g.useState("idle"),[D,Q]=g.useState(!1),[R,se]=g.useState(!1),[M,pe]=g.useState(null),{toast:ve}=tt(),he=Va.find(P=>P.id===d);g.useEffect(()=>{if(s.state?.adapter&&s.state?.isEdit){const P=s.state.adapter;le.info(ne.SYSTEM,"[CreateCommunicationAdapter] Loading adapter for edit",{data:P}),se(!0),pe(P.id),u(P.name||""),a(P.description||""),T(P.active!==!1);const w=P.mode==="INBOUND"?"sender":"receiver";i(w);const O=P.type.toLowerCase();if(N(O),P.configJson)try{const ee=JSON.parse(P.configJson);n(ee)}catch(ee){le.error(ne.ERROR,"Error parsing adapter configuration",{error:ee})}P.businessComponentId&&j({id:P.businessComponentId,name:P.businessComponentName||"",description:"",contactEmail:"",contactPhone:""})}},[s.state]);const Xe=P=>{switch(P){case"Basic Auth":return[{name:"authUsername",label:"Username",type:"text",required:!0,placeholder:"Enter username"},{name:"authPassword",label:"Password",type:"password",required:!0,placeholder:"Enter password"}];case"Bearer Token":return[{name:"bearerToken",label:"Bearer Token",type:"password",required:!0,placeholder:"Enter bearer token"}];case"API Key":return[{name:"apiKeyValue",label:"API Key",type:"password",required:!0,placeholder:"Enter API key"},{name:"apiKeyLocation",label:"API Key Location",type:"select",required:!0,options:["Header","Query Parameter"]},{name:"apiKeyName",label:"API Key Name",type:"text",required:!0,placeholder:"e.g., X-API-Key or api_key"}];case"OAuth":return[{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauthAuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/authorize"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token"},{name:"oauthScope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"OAuth 2.0":return[{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauth2AuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/authorize"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token"},{name:"oauth2GrantType",label:"Grant Type",type:"select",required:!0,options:["authorization_code","client_credentials","password","refresh_token"]},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"SSL Certificate":return[{name:"sslCertPath",label:"Certificate Path",type:"text",required:!0,placeholder:"/path/to/certificate.pem"},{name:"sslKeyPath",label:"Private Key Path",type:"text",required:!0,placeholder:"/path/to/private-key.pem"},{name:"sslKeyPassword",label:"Key Password",type:"password",required:!1,placeholder:"Private key password (if encrypted)"},{name:"sslCaPath",label:"CA Certificate Path",type:"text",required:!1,placeholder:"/path/to/ca-certificate.pem"},{name:"sslVerifyPeer",label:"Verify Peer",type:"select",required:!1,options:["true","false"]}];default:return[]}},ge=(P,w)=>{le.info(ne.SYSTEM,"[CreateCommunicationAdapter] Configuration change",{data:{fieldName:P,value:w}}),n(O=>{const ee={...O,[P]:w};return le.info(ne.SYSTEM,"[CreateCommunicationAdapter] New configuration state",{data:ee}),ee})},Ue=async()=>{if(!d){ve({title:"No Adapter Selected",description:"Please select a communication adapter first",variant:"destructive"});return}v(!0),E("idle");try{await new Promise(w=>setTimeout(w,2e3)),Math.random()>.3?(E("success"),ve({title:"Connection Successful",description:`Successfully connected to ${he?.name}`,variant:"default"})):(E("error"),ve({title:"Connection Failed",description:"Please check your configuration and try again",variant:"destructive"}))}catch{E("error"),ve({title:"Connection Error",description:"An error occurred while testing the connection",variant:"destructive"})}finally{v(!1)}},Qe=async()=>{if(!l||!l.id){ve({title:"Validation Error",description:"Business Component is required. Please select a business component for this adapter.",variant:"destructive"});return}if(!C||!d||!o){ve({title:"Validation Error",description:"Please provide adapter name, select a type, and choose adapter mode",variant:"destructive"});return}if(le.info(ne.VALIDATION,"Debug info",{message:"[CreateCommunicationAdapter] Validating adapter",name:C,type:d,mode:o,businessComponent:l.id,configuration:A}),o==="receiver"){if(d==="rest"){if(!A.targetEndpointUrl){ve({title:"Validation Error",description:"Target Endpoint URL is required for REST Outbound adapter",variant:"destructive"});return}if(!A.httpMethod){ve({title:"Validation Error",description:"HTTP Method is required for REST Outbound adapter",variant:"destructive"});return}if(!A.contentType){ve({title:"Validation Error",description:"Content Type is required for REST Outbound adapter",variant:"destructive"});return}}}else if(o==="sender"){if(d==="rest"){if(!A.port){ve({title:"Validation Error",description:"Port is required for REST Inbound adapter",variant:"destructive"});return}}else if(d==="soap"&&!A.serviceEndpointUrl){ve({title:"Validation Error",description:"Endpoint URL is required for SOAP Inbound adapter",variant:"destructive"});return}}if(d!=="rest"&&d!=="soap"){const _e=(he?.fields.filter(Oe=>!(!Oe.required||Oe.conditionalField==="receiver"&&o==="sender"||Oe.conditionalField==="sender"&&o==="receiver"||Oe.parentField&&Oe.parentValue&&A[Oe.parentField]!==Oe.parentValue))||[]).filter(Oe=>!A[Oe.name]);if(_e.length>0){le.info(ne.SYSTEM,"[CreateCommunicationAdapter] Missing required fields",{data:_e}),ve({title:"Missing Required Fields",description:`Please fill in: ${_e.map(Oe=>Oe.label).join(", ")}`,variant:"destructive"});return}}const P=o==="sender"?"INBOUND":"OUTBOUND",w=o==="sender"?"OUTBOUND":"INBOUND",O={name:C,type:d.toUpperCase(),mode:P,direction:w,description:p,active:x,businessComponentId:l.id,configJson:JSON.stringify(A)};try{le.info(ne.SYSTEM,"[CreateCommunicationAdapter] Sending adapter data to backend",{data:O});const ee=R&&M?await Aa.updateAdapter(M,O):await Aa.createAdapter(O);ee.success?(ve({title:R?"Adapter Updated Successfully":"Adapter Saved Successfully",description:`Communication adapter "${C}" has been ${R?"updated":"created"}`,variant:"default"}),setTimeout(()=>{r("/communication-adapters")},500)):(le.info(ne.SYSTEM,"[CreateCommunicationAdapter] Error response from backend",{data:ee}),ve({title:"Save Failed",description:ee.error||"Failed to save adapter configuration",variant:"destructive"}))}catch(ee){le.error(ne.ERROR,"[CreateCommunicationAdapter] Error saving adapter",ee),le.error(ne.ERROR,"Error occurred",{error:"[CreateCommunicationAdapter] Error details:",message:ee?.message,response:ee?.response,data:ee?.response?.data});const _e=ee?.response?.data?.message||ee?.response?.data?.error||ee?.message||"An error occurred while saving the adapter";ve({title:"Save Error",description:_e,variant:"destructive"})}};return e.jsx(Zc,{children:e.jsxs(e.Fragment,{children:[D&&e.jsx(ul,{onClose:()=>Q(!1)}),e.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"animate-slide-up",children:[e.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[e.jsx(sr,{className:"h-8 w-8"}),R?"Edit":"Create"," Communication Adapter"]}),e.jsx("p",{className:"text-muted-foreground",children:"Configure communication channels for sending messages, emails, and notifications"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(zi,{selectedBusinessComponent:l,setSelectedBusinessComponent:j}),e.jsxs(G,{className:"animate-scale-in",children:[e.jsxs(z,{children:[e.jsx(J,{children:"Adapter Details"}),e.jsx(X,{children:"Basic information for your communication adapter"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"adapterName",children:"Adapter Name *"}),e.jsx(y,{id:"adapterName",placeholder:"e.g., Production Email Server",value:C,onChange:P=>u(P.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(oe,{id:"description",placeholder:"Describe the purpose of this communication adapter...",value:p,onChange:P=>a(P.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"isActive",checked:x,onCheckedChange:P=>T(P===!0)}),e.jsxs(c,{htmlFor:"isActive",className:"text-sm font-normal flex items-center gap-1",children:["Active adapter",e.jsx(ze,{variant:x?"default":"secondary",className:"text-xs",children:x?"Active":"Inactive"})]})]})]})]}),e.jsxs(G,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[e.jsxs(z,{children:[e.jsx(J,{children:"Adapter Type Selection"}),e.jsx(X,{children:"Choose the type of communication adapter to configure"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"adapterType",children:"Adapter Type *"}),e.jsx(Yi,{options:Va.map(P=>({value:P.id,label:P.name,icon:P.icon,category:P.category,description:P.description})),value:d,onValueChange:P=>{N(P),le.info(ne.SYSTEM,"[CreateCommunicationAdapter] Adapter type changed to",{data:P}),d&&d!==P&&(le.info(ne.SYSTEM,"[CreateCommunicationAdapter] Clearing configuration due to adapter type change"),n({}))},placeholder:"Select communication adapter type",searchPlaceholder:"Search adapters...",emptyMessage:"No adapter found.",className:"transition-all duration-300 hover:bg-accent/50"})]}),he&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(he.icon,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:he.name}),e.jsx(ze,{variant:"outline",className:"text-xs",children:he.category})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:he.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"adapterMode",children:"Adapter Mode *"}),e.jsxs(B,{value:o,onValueChange:P=>{i(P),le.info(ne.SYSTEM,"[CreateCommunicationAdapter] Adapter mode changed to",{data:P})},children:[e.jsx(U,{className:"transition-all duration-300 hover:bg-accent/50",children:e.jsx(W,{placeholder:"Select adapter mode"})}),e.jsxs(V,{children:[e.jsx(S,{value:"sender",children:"Inbound"}),e.jsx(S,{value:"receiver",children:"Outbound"})]})]})]})]})]})]}),he&&o&&e.jsx(e.Fragment,{children:d==="ftp"?e.jsx(Ji,{mode:o,onConfigChange:n}):d==="sftp"?e.jsx(Xi,{mode:o,onConfigChange:n}):d==="file"?e.jsx(Qi,{mode:o,onConfigChange:n}):d==="http"&&o==="sender"?e.jsx(Zi,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="http"&&o==="receiver"?e.jsx(ec,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="idoc"&&o==="sender"?e.jsx(tc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="idoc"&&o==="receiver"?e.jsx(rc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="ibmmq"&&o==="sender"?e.jsx(lc,{adapter:{name:"",type:"jms",mode:"outbound",configuration:A,status:"inactive"},onUpdate:P=>n(P.configuration)}):d==="ibmmq"&&o==="receiver"?e.jsx(nc,{adapter:{name:"",type:"jms",mode:"inbound",configuration:A,status:"inactive"},onUpdate:P=>n(P.configuration)}):d==="rest"&&o==="sender"?e.jsx(ic,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="rest"&&o==="receiver"?e.jsx(cc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="soap"&&o==="sender"?e.jsx(dc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w),businessComponentId:l?.id}):d==="soap"&&o==="receiver"?e.jsx(oc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w),businessComponentId:l?.id}):d==="odata"&&o==="sender"?e.jsx(hc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="odata"&&o==="receiver"?e.jsx(uc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="rfc"&&o==="sender"?e.jsx(xc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="rfc"&&o==="receiver"?e.jsx(mc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="mail"&&o==="sender"?e.jsx(jc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="mail"&&o==="receiver"?e.jsx(pc,{configuration:A,onConfigurationChange:(P,w)=>ge(P,w)}):d==="facebook"?e.jsx(vc,{config:A,onChange:P=>n(P),onTest:()=>Ue(),mode:R?"edit":"create"}):d==="facebookads"?e.jsx(gc,{config:A,onChange:P=>n(P),onTest:()=>Ue(),mode:R?"edit":"create"}):d==="instagram"?e.jsx(bc,{config:A,onChange:P=>n(P),onTest:()=>Ue(),mode:R?"edit":"create"}):d==="whatsapp"?e.jsx(yc,{config:A,onChange:P=>n(P),onTest:()=>Ue(),mode:R?"edit":"create"}):d==="twitter"?e.jsx(fc,{configuration:A,onConfigurationChange:P=>n(P),onValidation:P=>{}}):d==="twitterads"?e.jsx(Cc,{configuration:A,onConfigurationChange:P=>n(P),onValidation:P=>{}}):d==="linkedin"?e.jsx(Sc,{configuration:A,onConfigurationChange:P=>n(P),onValidation:P=>{}}):d==="linkedinads"?e.jsx(Dc,{configuration:A,onChange:P=>n(P)}):d==="youtube"?e.jsx(Vc,{configuration:A,onChange:P=>n(P)}):d==="youtubeanalytics"?e.jsx(qc,{configuration:A,onChange:P=>n(P)}):d==="tiktokbusiness"?e.jsx(_c,{configuration:A,onChange:P=>n(P)}):d==="tiktokcontent"?e.jsx(Hc,{configuration:A,onChange:P=>n(P)}):d==="facebookmessenger"?e.jsx($c,{configuration:A,onChange:P=>n(P)}):d==="pinterest"?e.jsx(Gc,{configuration:A,onChange:P=>n(P)}):d==="reddit"?e.jsx(Yc,{configuration:A,onChange:P=>n(P)}):d==="snapchatads"?e.jsx(Kc,{configuration:A,onChange:P=>n(P)}):d==="discord"?e.jsx(zc,{configuration:A,onChange:P=>n(P)}):d==="telegram"?e.jsx(Jc,{configuration:A,onConfigurationChange:P=>n(P)}):d==="slack"?e.jsx(Xc,{configuration:A,onConfigurationChange:P=>n(P)}):e.jsxs(G,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[e.jsxs(z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(he.icon,{className:"h-5 w-5"}),he.name," Configuration"]}),e.jsx(X,{children:"Configure the connection parameters and authentication"})]}),e.jsx(Y,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[he.fields.filter(P=>!(P.conditionalField==="receiver"&&o==="sender"||P.conditionalField==="sender"&&o==="receiver"||P.parentField&&P.parentValue&&A[P.parentField]!==P.parentValue)).map(P=>e.jsx("div",{className:P.name==="url"||P.name==="webhookUrl"||P.name==="customHeaders"||P.type==="password"?"md:col-span-2":"",children:P.type==="jar-selector"?e.jsxs(e.Fragment,{children:[e.jsxs(c,{htmlFor:P.name,className:"flex items-center gap-1",children:[P.label,P.required&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(Ki,{selectedJarId:A[P.name]||"",onJarSelect:w=>ge(P.name,w),label:"",placeholder:`Choose ${P.label}`,driverTypeFilter:P.driverTypeFilter||void 0})]}):P.type==="select"?e.jsxs(e.Fragment,{children:[e.jsxs(c,{htmlFor:P.name,className:"flex items-center gap-1",children:[P.label,P.required&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(B,{value:A[P.name]||"",onValueChange:w=>ge(P.name,w),children:[e.jsx(U,{className:"transition-all duration-300 hover:bg-accent/50",children:e.jsx(W,{placeholder:`Select ${P.label}`})}),e.jsx(V,{className:"bg-card border-border shadow-lg z-50",children:P.options?.map(w=>e.jsx(S,{value:w,children:w},w))})]})]}):P.type==="textarea"?e.jsxs(e.Fragment,{children:[e.jsxs(c,{htmlFor:P.name,className:"flex items-center gap-1",children:[P.label,P.required&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(oe,{id:P.name,placeholder:P.placeholder,value:A[P.name]||"",onChange:w=>ge(P.name,w.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}):P.type==="checkbox"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:P.name,type:"checkbox",checked:A[P.name]==="true"||A[P.name]===!0||A[P.name]==="on",onChange:w=>ge(P.name,w.target.checked.toString()),className:"h-4 w-4 rounded border-border"}),e.jsx(c,{htmlFor:P.name,className:"text-sm font-normal",children:P.label})]}):P.type==="password"?e.jsx(Be,{name:P.name,label:P.label,placeholder:P.placeholder,required:P.required,value:A[P.name]||"",onValueChange:w=>ge(P.name,w)}):e.jsxs(e.Fragment,{children:[e.jsxs(c,{htmlFor:P.name,className:"flex items-center gap-1",children:[P.label,P.required&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(y,{id:P.name,type:P.type,placeholder:P.placeholder,value:A[P.name]||"",onChange:w=>ge(P.name,w.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},P.name)),A.authType&&A.authType!=="None"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(Le,{className:"my-4"}),e.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-4",children:[A.authType," Configuration"]})]}),Xe(A.authType).map(P=>e.jsx("div",{className:P.name.includes("Url")||P.name.includes("url")||P.type==="password"?"md:col-span-2":"",children:P.type==="select"?e.jsxs(e.Fragment,{children:[e.jsxs(c,{htmlFor:P.name,className:"flex items-center gap-1",children:[P.label,P.required&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(B,{value:A[P.name]||"",onValueChange:w=>ge(P.name,w),children:[e.jsx(U,{className:"transition-all duration-300 hover:bg-accent/50",children:e.jsx(W,{placeholder:`Select ${P.label}`})}),e.jsx(V,{className:"bg-card border-border shadow-lg z-50",children:P.options?.map(w=>e.jsx(S,{value:w,children:w},w))})]})]}):P.type==="password"?e.jsx(Be,{name:P.name,label:P.label,placeholder:P.placeholder,required:P.required,value:A[P.name]||"",onValueChange:w=>ge(P.name,w)}):e.jsxs(e.Fragment,{children:[e.jsxs(c,{htmlFor:P.name,className:"flex items-center gap-1",children:[P.label,P.required&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(y,{id:P.name,type:P.type,placeholder:P.placeholder,value:A[P.name]||"",onChange:w=>ge(P.name,w.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},P.name))]})]})})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[e.jsxs(z,{children:[e.jsx(J,{children:"Connection Testing"}),e.jsx(X,{children:"Test your adapter configuration"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsx(Ae,{onClick:Ue,disabled:!d||I,className:"w-full bg-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:I?e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"h-4 w-4 mr-2"}),"Test Connection"]})}),d==="soap"&&e.jsxs(Ae,{onClick:()=>Q(!0),className:"w-full bg-primary hover:opacity-90 transition-all duration-300",variant:"outline",children:[e.jsx(tr,{className:"h-4 w-4 mr-2"}),"Configure Field Mapping"]}),k!=="idle"&&e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${k==="success"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[k==="success"?e.jsx(ts,{className:"h-4 w-4"}):e.jsx(es,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:k==="success"?"Connection Successful":"Connection Failed"})]}),e.jsx(Le,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Qc,{adapterType:he?.id||"",configuration:A,children:e.jsxs(Ae,{variant:"outline",className:"w-full",disabled:!he,children:[e.jsx(It,{className:"h-4 w-4 mr-2"}),"Validate Configuration"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ae,{variant:"outline",onClick:()=>r("/communication-adapters"),className:"flex-1",children:"Cancel"}),e.jsxs(Ae,{onClick:Qe,className:"flex-1 bg-primary hover:opacity-90 transition-all duration-300",children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),R?"Update":"Save"," Adapter"]})]})]})]})]}),e.jsxs(G,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[e.jsx(z,{children:e.jsx(J,{children:"Configuration Summary"})}),e.jsx(Y,{className:"space-y-3",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx(ze,{variant:"secondary",children:"Draft"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsx("span",{children:he?.name||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Mode:"}),e.jsx("span",{children:o||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Category:"}),e.jsx("span",{children:he?.category||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),e.jsx(ze,{variant:k==="success"?"default":k==="error"?"destructive":"secondary",children:k==="success"?"Verified":k==="error"?"Failed":"Not tested"})]})]})})]}),e.jsxs(G,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[e.jsx(z,{children:e.jsx(J,{children:"Security Notes"})}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_a,{className:"h-4 w-4 mt-0.5 text-primary"}),e.jsx("span",{children:"Credentials are encrypted and stored securely"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(qs,{className:"h-4 w-4 mt-0.5 text-primary"}),e.jsx("span",{children:"Test connections before using in production"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(xn,{className:"h-4 w-4 mt-0.5 text-primary"}),e.jsx("span",{children:"Use environment-specific configurations"})]})]})})]})]})]})]})]})})};export{so as CreateCommunicationAdapter};
