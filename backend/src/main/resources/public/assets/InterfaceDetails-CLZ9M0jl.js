import{j as e,p as E}from"./ui-vendor-B4gDKxp2.js";import{r as i,i as A,u as H}from"./react-vendor-pDgKdaAw.js";import{c as p,a8 as M,F as O,m as z,o as m,r as x,v as c,B as j,t as G,p as u,q as f,s as N,g as r,u as W,H as _,z as $,I as w}from"./index-DseL_RUD.js";import{f as q}from"./flowService-CZFVqD2K.js";import{C as D}from"./copy-BeiJ6Zv7.js";import{D as V}from"./download-CW1087ur.js";import{G as J}from"./globe-CHqjmKYB.js";import{F as K}from"./file-text-Dr8Aa4DA.js";import"./chart-vendor-A7Ge_5Hb.js";const B=i.forwardRef(({...a},t)=>e.jsx("nav",{ref:t,"aria-label":"breadcrumb",...a}));B.displayName="Breadcrumb";const I=i.forwardRef(({className:a,...t},n)=>e.jsx("ol",{ref:n,className:p("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",a),...t}));I.displayName="BreadcrumbList";const g=i.forwardRef(({className:a,...t},n)=>e.jsx("li",{ref:n,className:p("inline-flex items-center gap-1.5",a),...t}));g.displayName="BreadcrumbItem";const b=i.forwardRef(({asChild:a,className:t,...n},v)=>{const h=a?E:"a";return e.jsx(h,{ref:v,className:p("transition-colors hover:text-foreground",t),...n})});b.displayName="BreadcrumbLink";const T=i.forwardRef(({className:a,...t},n)=>e.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:p("font-normal text-foreground",a),...t}));T.displayName="BreadcrumbPage";const C=({children:a,className:t,...n})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:p("[&>svg]:size-3.5",t),...n,children:a??e.jsx(M,{})});C.displayName="BreadcrumbSeparator";function re(){const{flowId:a}=A(),t=H(),{toast:n}=O(),[v,h]=i.useState(!0),[d,F]=i.useState(null),[s,P]=i.useState(null);i.useEffect(()=>{a&&S()},[a,S]);const S=i.useCallback(async()=>{try{h(!0);const l=await q.getFlow(a);if(l.success&&l.data){F(l.data);const y={flowId:l.data.id,status:l.data.status,endpoints:[],metadata:{}};P(y)}}catch{n({variant:"destructive",title:"Error",description:"Failed to fetch interface details"})}finally{h(!1)}},[a,n]),k=(l,y)=>{navigator.clipboard.writeText(l),n({title:"Copied!",description:`${y} copied to clipboard`})},R=()=>{s?.metadata?.wsdlUrl&&window.open(s.metadata.wsdlUrl,"_blank")};if(v)return e.jsx("div",{className:"w-full p-6",children:e.jsx("div",{className:"flex justify-center items-center p-12",children:e.jsx(z,{className:"h-8 w-8 animate-spin"})})});if(!d||!s)return e.jsx("div",{className:"w-full p-6",children:e.jsx(m,{children:e.jsxs(x,{className:"p-12 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Interface not found or not deployed"}),e.jsx(c,{variant:"outline",className:"mt-4",onClick:()=>t("/interfaces"),children:"Back to Interfaces"})]})})});const o=s.metadata?.adapterType||"Unknown",U=["HTTP","REST","SOAP"].includes(o),L=o==="SOAP";return e.jsxs("div",{className:"w-full",children:[e.jsx(B,{className:"mb-4 px-6 py-3",children:e.jsxs(I,{children:[e.jsx(g,{children:e.jsx(b,{onClick:()=>t("/dashboard"),children:"Dashboard"})}),e.jsx(C,{}),e.jsx(g,{children:e.jsx(b,{onClick:()=>t("/all-interfaces"),children:"Interfaces"})}),e.jsx(C,{}),e.jsx(g,{children:e.jsx(T,{children:d.name})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:d.name}),e.jsxs(j,{variant:"success",className:"text-lg px-4 py-2",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Deployed"]})]}),e.jsx("p",{className:"text-gray-600",children:d.description})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(f,{children:"Deployment Information"}),e.jsx(N,{children:"Details about the deployed interface"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"Deployed At"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(W,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:new Date(s.deployedAt).toLocaleString()})]})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"Deployed By"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(_,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.deployedBy||"System"})]})]})]}),e.jsx($,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"Adapter Type"}),e.jsx(j,{variant:"outline",children:o})]})]})]}),U&&e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(f,{children:"Endpoint Information"}),e.jsx(N,{children:"Connection details for external systems"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"endpoint",children:"API Endpoint"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{id:"endpoint",value:s.endpoint,readOnly:!0,className:"font-mono text-sm"}),e.jsx(c,{size:"icon",variant:"outline",onClick:()=>k(s.endpoint,"Endpoint"),children:e.jsx(D,{className:"h-4 w-4"})})]})]}),L&&s.metadata?.wsdlUrl&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"wsdl",children:"WSDL URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{id:"wsdl",value:s.metadata?.wsdlUrl||"",readOnly:!0,className:"font-mono text-sm"}),e.jsx(c,{size:"icon",variant:"outline",onClick:()=>k(s.metadata?.wsdlUrl||"","WSDL URL"),children:e.jsx(D,{className:"h-4 w-4"})}),e.jsx(c,{size:"icon",variant:"outline",onClick:R,children:e.jsx(V,{className:"h-4 w-4"})})]})]}),o==="REST"&&s.metadata?.apiDocsUrl&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"apidocs",children:"API Documentation"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{id:"apidocs",value:s.metadata?.apiDocsUrl||"",readOnly:!0,className:"font-mono text-sm"}),e.jsx(c,{size:"icon",variant:"outline",onClick:()=>window.open(s.metadata?.apiDocsUrl||"","_blank"),children:e.jsx(J,{className:"h-4 w-4"})})]})]}),s.metadata?.httpMethods&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Supported Methods"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.metadata.httpMethods})]}),s.metadata?.contentType&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Content Types"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.metadata.contentType})]})]})]}),["FILE","FTP","SFTP"].includes(o)&&e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(f,{children:"File Configuration"}),e.jsx(N,{children:"File handling settings for this interface"})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"Polling"}),e.jsx("p",{className:"mt-1",children:s.metadata?.pollingEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"File Pattern"}),e.jsx("p",{className:"mt-1 font-mono text-sm",children:s.metadata?.filePattern||"*.*"})]})]})})]}),e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(f,{children:"Integration Details"}),e.jsx(N,{children:"Configuration and mapping information"})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"Mapping Mode"}),e.jsx(j,{variant:d.mappingMode==="PASS_THROUGH"?"outline":"default",children:d.mappingMode==="PASS_THROUGH"?"Pass-through":"With Mapping"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(j,{variant:"success",children:d.status})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{variant:"outline",onClick:()=>t("/all-interfaces"),children:"Back to Interfaces"}),e.jsxs(c,{variant:"outline",onClick:()=>t(`/flows/${a}/edit`),children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"View Configuration"]})]})]})]})]})}export{re as default};
